<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Bioestadística con R: Regresiones Lineales Múltiples</title>



  <meta name="article:author" content="M. en C. Arturo Bell Enríquez García"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Bioestadística con R: Regresiones Lineales Múltiples"/>
  <meta property="og:type" content="article"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="Bioestadística con R"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Bioestadística con R: Regresiones Lineales Múltiples"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","author","output"]}},"value":[{"type":"character","attributes":{},"value":["Regresiones Lineales Múltiples"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["M. en C. Arturo Bell Enríquez García"]}]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_float","code_download"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
  <link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
  <script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Regresiones Lineales Múltiples","authors":[{"author":"M. en C. Arturo Bell Enríquez García","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://drplancton.com">
<img src="logo.png" alt="Logo"/>
</a>
<a href="index.html" class="title">Bioestadística con R</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Temas
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="s1_biolcdatos.html">S1 - Biología como Ciencia de Datos</a>
<a href="s2_herrbasic.html">S2 - Herramientas Básicas</a>
<a href="s3_rel_lin.html">S3 - Relaciones Lineales</a>
<a href="s4_noparnolin.html">S4 - No Paramétrico y No Lineal</a>
<a href="s5_mv.html">S5 - Técnicas Multivariadas</a>
</div>
</div>
</div>
<div class="nav-right">
<a href="about.html">Acerca de</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Regresiones Lineales Múltiples</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->

</div>

<div class="d-byline">
  
  M. en C. Arturo Bell Enríquez García
  

</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#funciones-personalizadas">Funciones personalizadas</a></li>
<li><a href="#regresión-lineal-múltiple">Regresión Lineal Múltiple</a></li>
<li><a href="#regularización-l2-regresión-ridge">Regularización L2: Regresión Ridge</a></li>
<li><a href="#regularización-l1-regresión-lasso">Regularización L1: Regresión Lasso</a></li>
<li><a href="#ingeniería-de-variables">Ingeniería de variables</a></li>
<li><a href="#ejercicio-1">Ejercicio 1</a></li>
<li><a href="#ejercicio-2">Ejercicio 2</a></li>
<li><a href="#datos">Datos:</a>
<ul>
<li><a href="#entrenamiento">Entrenamiento</a></li>
<li><a href="#prueba">Prueba</a></li>
</ul></li>
</ul>
</nav>
</div>
<p><strong><a href="https://youtu.be/Kb8CwFgC9Zs">VIDEO</a></strong></p>
<h2 id="funciones-personalizadas">Funciones personalizadas</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Tema personalizado</span>
<span class='va'>blank_theme</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>aspect.ratio</span> <span class='op'>=</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>1.61</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        axis.line <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        aspect.ratio <span class='op'>=</span> <span class='va'>aspect.ratio</span>,
        axis.ticks <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"gray50"</span><span class='op'>)</span>, <span class='co'># Eliminar</span>
        legend.position <span class='op'>=</span> <span class='st'>"none"</span>
        <span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<h2 id="regresión-lineal-múltiple">Regresión Lineal Múltiple</h2>
<p>Para esta sección utilizaremos los datos de la base <code>crime.csv</code>. El objetivo será predecir la tasa de crimenes/poblacion a partir de otras 88 variables:</p>
<p>La variable que nos interesa predecir es el la columna <code>ViolentCrimesPerPop</code>). Apliquemos un modelo de regresión lineal múltiple incluyendo todas las variables, sin dividir los datos en entrenamiento-prueba y sin escalarlos. Tampoco filtraremos los datos para evitar una fuga de información:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dr.df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"data/crime.csv"</span><span class='op'>)</span><span class='op'>[</span>,<span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>]</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>dr.df</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  population householdsize agePct12t21 agePct12t29 agePct16t24 agePct65up
1      11980          3.10       12.47       21.44       10.93      11.33
2      23123          2.82       11.01       21.30       10.48      17.18
3      29344          2.43       11.36       25.88       11.01      10.28
4      16656          2.40       12.55       25.20       12.19      17.57
5     140494          2.45       18.09       32.89       20.04      13.26
6      28700          2.60       11.17       27.41       12.76      14.42
  numbUrban pctUrban medIncome pctWWage pctWFarmSelf pctWInvInc pctWSocSec
1     11980      100     75122    89.24         1.55      70.20      23.62
2     23123      100     47917    78.99         1.11      64.11      35.50
3     29344      100     35669    82.00         1.15      55.73      22.25
4         0        0     20580    68.15         0.24      38.95      39.48
5    140494      100     21577    75.78         1.00      41.15      29.31
6     28700      100     42805    79.47         0.39      47.70      30.23
  pctWPubAsst pctWRetire medFamInc perCapInc NumUnderPov PctPopUnderPov
1        1.03      18.39     79584     29711         227           1.96
2        2.75      22.85     55323     20148         885           3.98
3        2.94      14.56     42112     16946        1389           4.75
4       11.71      18.33     26501     10810        2831          17.23
5        7.12      14.09     27705     11878       23223          17.78
6        5.41      17.23     50394     18193        1126           4.01
  PctLess9thGrade PctNotHSGrad PctBSorMore PctUnemployed PctEmploy PctEmplManu
1            5.81         9.90       48.18          2.70     64.55       14.65
2            5.61        13.72       29.89          2.43     61.96       12.26
3            2.80         9.09       30.13          4.01     69.80       15.95
4           11.05        33.68       10.81          9.86     54.74       31.22
5            8.76        23.03       20.66          5.72     59.02       14.31
6            4.49        13.89       27.01          4.85     65.42       14.02
  PctEmplProfServ PctOccupManu PctOccupMgmtProf MalePctDivorce MalePctNevMarr
1           28.82         5.49            50.73           3.67          26.38
2           29.28         6.39            37.64           4.23          27.99
3           21.52         8.79            32.48          10.10          25.78
4           27.43        26.76            22.71          10.98          28.15
5           26.83        14.72            23.42          11.40          33.32
6           27.17         8.50            32.78           5.97          36.05
  FemalePctDiv TotalPctDiv PersPerFam PctFam2Par PctKids2Par PctYoungKids2Par
1         5.22        4.47       3.22      91.43       90.17            95.78
2         6.45        5.42       3.11      86.91       85.33            96.82
3        14.76       12.55       2.95      78.54       78.85            92.37
4        14.47       12.91       2.98      64.02       62.36            65.38
5        14.46       13.04       2.89      71.94       69.79            79.76
6         9.06        7.64       3.14      79.53       79.76            92.05
  PctTeen2Par PctWorkMomYoungKids PctWorkMom NumKidsBornNeverMar
1       95.81               44.56      58.88                  31
2       86.46               51.14      62.43                  43
3       75.72               66.08      74.19                 164
4       67.43               59.59      70.27                 561
5       75.33               62.96      70.52                1511
6       77.12               65.16      72.81                 263
  PctKidsBornNeverMar NumImmig PctImmigRecent PctImmigRec5 PctImmigRec8
1                0.36     1277           8.69        13.00        20.99
2                0.24     1920           5.21         8.65        13.33
3                0.88     1468          16.42        23.98        32.08
4                3.84      339          13.86        13.86        15.34
5                1.58     2091          21.33        30.56        38.02
6                1.18     2637          11.38        16.27        23.93
  PctImmigRec10 PctRecentImmig PctRecImmig5 PctRecImmig8 PctRecImmig10
1         30.93           0.93         1.39         2.24          3.30
2         22.50           0.43         0.72         1.11          1.87
3         35.63           0.82         1.20         1.61          1.78
4         15.34           0.28         0.28         0.31          0.31
5         45.48           0.32         0.45         0.57          0.68
6         27.76           1.05         1.49         2.20          2.55
  PctSpeakEnglOnly PctNotSpeakEnglWell PctLargHouseFam PctLargHouseOccup
1            85.68                1.37            4.81              4.17
2            87.79                1.81            4.25              3.34
3            93.11                1.14            2.97              2.05
4            94.98                0.56            3.93              2.56
5            96.87                0.60            3.08              1.92
6            89.98                0.60            5.08              3.46
  PersPerOccupHous PersPerOwnOccHous PersPerRentOccHous PctPersOwnOccup
1             2.99              3.00               2.84           91.46
2             2.70              2.83               1.96           89.03
3             2.42              2.69               2.06           64.18
4             2.37              2.51               2.20           58.18
5             2.28              2.37               2.16           57.81
6             2.55              2.89               2.09           64.62
  PctPersDenseHous PctHousLess3BR MedNumBR HousVacant PctHousOccup
1             0.39          11.06        3         64        98.37
2             1.01          23.60        3        240        97.15
3             2.03          47.46        3        544        95.68
4             1.21          45.66        3        669        91.19
5             2.11          53.19        2       5119        91.81
6             1.47          47.35        3        566        95.11
  PctHousOwnOcc PctVacantBoarded PctVacMore6Mos MedYrHousBuilt PctHousNoPhone
1         91.01             3.12          37.50           1959           0.00
2         84.88             0.00          18.33           1958           0.31
3         57.79             0.92           7.54           1976           1.55
4         54.89             2.54          57.85           1939           7.00
5         55.50             2.09          26.22           1966           6.13
6         56.96             1.41          34.45           1956           0.69
  PctWOFullPlumb OwnOccLowQuart OwnOccMedVal OwnOccHiQuart OwnOccQrange
1           0.28         215900       262600        326900       111000
2           0.14         136300       164200        199900        63600
3           0.12          74700        90400        112000        37300
4           0.87          36400        49600         66500        30100
5           0.31          37700        53900         73100        35400
6           0.28         155100       179000        215500        60400
  RentLowQ RentMedian RentHighQ RentQrange MedRent MedRentPctHousInc
1      685       1001      1001        316    1001              23.8
2      467        560       672        205     627              27.6
3      370        428       520        150     484              24.1
4      195        250       309        114     333              28.7
5      215        280       349        134     340              26.4
6      463        669       824        361     736              24.4
  MedOwnCostPctInc MedOwnCostPctIncNoMtg NumInShelters NumStreet PctForeignBorn
1             21.1                  14.0            11         0          10.66
2             20.7                  12.5             0         0           8.30
3             21.7                  11.6            16         0           5.00
4             20.6                  14.5             0         0           2.04
5             17.3                  11.7           327         4           1.49
6             20.8                  12.5             0         0           9.19
  PctBornSameState PctSameHouse85 PctSameCity85 PctSameState85
1            53.72          65.29         78.09          89.14
2            77.17          71.27         90.22          96.12
3            44.77          36.60         61.26          82.85
4            88.71          56.70         90.17          96.24
5            64.35          42.29         70.61          85.66
6            77.30          63.45         82.23          93.53
  ViolentCrimesPerPop
1               41.02
2              127.56
3              218.59
4              306.64
5              442.95
6              226.63</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dr.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>ViolentCrimesPerPop</span><span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>dr.df</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>dr.lm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
Call:
lm(formula = ViolentCrimesPerPop ~ ., data = dr.df)

Residuals:
     Min       1Q   Median       3Q      Max 
-1776.25  -184.04   -36.85   126.83  2194.09 

Coefficients: (2 not defined because of singularities)
                        Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)           -1.195e+03  3.295e+03  -0.363 0.716842    
population             2.324e-04  2.049e-03   0.113 0.909703    
householdsize         -7.569e+01  1.161e+02  -0.652 0.514556    
agePct12t21            8.262e+00  1.279e+01   0.646 0.518346    
agePct12t29           -3.394e+01  1.265e+01  -2.684 0.007344 ** 
agePct16t24            1.250e+01  1.832e+01   0.682 0.495175    
agePct65up            -1.119e+01  1.094e+01  -1.023 0.306440    
numbUrban             -7.223e-04  2.023e-03  -0.357 0.721118    
pctUrban               1.245e+00  4.790e-01   2.598 0.009436 ** 
medIncome             -1.430e-02  7.156e-03  -1.998 0.045806 *  
pctWWage              -9.557e+00  5.869e+00  -1.628 0.103596    
pctWFarmSelf           2.328e+01  1.577e+01   1.476 0.139992    
pctWInvInc            -6.764e+00  2.495e+00  -2.711 0.006771 ** 
pctWSocSec             7.969e+00  5.907e+00   1.349 0.177469    
pctWPubAsst            7.796e+00  5.838e+00   1.336 0.181861    
pctWRetire            -9.214e+00  3.761e+00  -2.450 0.014395 *  
medFamInc              9.378e-03  6.899e-03   1.359 0.174165    
perCapInc              8.988e-04  7.623e-03   0.118 0.906152    
NumUnderPov            2.705e-05  2.451e-03   0.011 0.991196    
PctPopUnderPov        -6.144e+00  4.830e+00  -1.272 0.203515    
PctLess9thGrade       -1.551e+01  6.320e+00  -2.454 0.014224 *  
PctNotHSGrad           5.368e+00  4.856e+00   1.105 0.269148    
PctBSorMore            2.611e+00  3.528e+00   0.740 0.459310    
PctUnemployed         -1.734e+00  8.005e+00  -0.217 0.828581    
PctEmploy              9.473e+00  4.809e+00   1.970 0.048991 *  
PctEmplManu           -3.843e+00  2.133e+00  -1.802 0.071766 .  
PctEmplProfServ       -3.164e-01  2.939e+00  -0.108 0.914297    
PctOccupManu           1.303e+00  4.631e+00   0.281 0.778521    
PctOccupMgmtProf       5.127e+00  4.664e+00   1.099 0.271738    
MalePctDivorce         1.522e+02  6.854e+01   2.220 0.026545 *  
MalePctNevMarr         8.419e+00  4.851e+00   1.735 0.082826 .  
FemalePctDiv           9.881e+01  7.178e+01   1.376 0.168838    
TotalPctDiv           -2.388e+02  1.391e+02  -1.717 0.086211 .  
PersPerFam            -1.409e+02  3.512e+02  -0.401 0.688213    
PctFam2Par             1.025e+01  8.784e+00   1.167 0.243302    
PctKids2Par           -2.718e+01  6.971e+00  -3.899 9.99e-05 ***
PctYoungKids2Par       2.794e+00  2.394e+00   1.167 0.243347    
PctTeen2Par            3.471e-01  2.206e+00   0.157 0.874962    
PctWorkMomYoungKids    3.659e+00  2.772e+00   1.320 0.186938    
PctWorkMom            -9.343e+00  4.011e+00  -2.330 0.019934 *  
NumKidsBornNeverMar   -5.637e-03  4.186e-03  -1.347 0.178236    
PctKidsBornNeverMar    5.992e+01  9.252e+00   6.476 1.19e-10 ***
NumImmig               1.029e-03  6.746e-04   1.525 0.127400    
PctImmigRecent         2.153e+00  2.427e+00   0.887 0.375132    
PctImmigRec5          -7.823e-01  3.071e+00  -0.255 0.798944    
PctImmigRec8          -1.118e+00  3.000e+00  -0.373 0.709366    
PctImmigRec10          1.574e+00  1.941e+00   0.811 0.417541    
PctRecentImmig        -1.221e+01  4.962e+01  -0.246 0.805635    
PctRecImmig5          -2.038e+01  6.021e+01  -0.339 0.734999    
PctRecImmig8           1.590e+01  5.660e+01   0.281 0.778799    
PctRecImmig10         -1.628e+01  3.339e+01  -0.487 0.626032    
PctSpeakEnglOnly       1.257e+00  2.282e+00   0.551 0.581825    
PctNotSpeakEnglWell   -2.051e+01  9.371e+00  -2.189 0.028740 *  
PctLargHouseFam        1.952e+01  3.179e+01   0.614 0.539258    
PctLargHouseOccup     -4.263e+01  3.462e+01  -1.232 0.218279    
PersPerOccupHous       4.037e+02  4.203e+02   0.960 0.336949    
PersPerOwnOccHous      3.591e+02  2.801e+02   1.282 0.199951    
PersPerRentOccHous    -3.337e+02  1.157e+02  -2.883 0.003981 ** 
PctPersOwnOccup       -4.662e+01  1.710e+01  -2.726 0.006470 ** 
PctPersDenseHous       2.175e+01  6.714e+00   3.240 0.001216 ** 
PctHousLess3BR         2.723e+00  2.058e+00   1.323 0.185976    
MedNumBR               3.528e+01  2.662e+01   1.325 0.185226    
HousVacant             2.096e-02  6.107e-03   3.432 0.000611 ***
PctHousOccup          -1.933e+00  2.654e+00  -0.728 0.466650    
PctHousOwnOcc          4.273e+01  1.714e+01   2.493 0.012761 *  
PctVacantBoarded       1.413e+01  3.611e+00   3.914 9.41e-05 ***
PctVacMore6Mos        -2.027e+00  9.147e-01  -2.216 0.026785 *  
MedYrHousBuilt         1.840e+00  1.559e+00   1.180 0.238222    
PctHousNoPhone         2.863e+00  5.658e+00   0.506 0.612853    
PctWOFullPlumb        -5.755e+00  2.581e+01  -0.223 0.823578    
OwnOccLowQuart         5.157e-05  1.316e-03   0.039 0.968733    
OwnOccMedVal           2.811e-04  1.555e-03   0.181 0.856587    
OwnOccHiQuart         -6.922e-04  6.662e-04  -1.039 0.298916    
OwnOccQrange                  NA         NA      NA       NA    
RentLowQ              -6.198e-01  2.612e-01  -2.373 0.017732 *  
RentMedian            -2.455e-01  4.906e-01  -0.500 0.616889    
RentHighQ             -2.857e-01  2.836e-01  -1.008 0.313822    
RentQrange                    NA         NA      NA       NA    
MedRent                1.192e+00  4.267e-01   2.792 0.005285 ** 
MedRentPctHousInc     -2.590e+00  5.227e+00  -0.496 0.620222    
MedOwnCostPctInc      -1.100e+00  5.934e+00  -0.185 0.852896    
MedOwnCostPctIncNoMtg -2.819e+01  8.839e+00  -3.189 0.001450 ** 
NumInShelters          7.886e-02  5.928e-02   1.330 0.183602    
NumStreet             -3.028e-02  1.427e-01  -0.212 0.832056    
PctForeignBorn         1.934e+01  6.651e+00   2.908 0.003681 ** 
PctBornSameState       8.863e-01  1.353e+00   0.655 0.512569    
PctSameHouse85         1.302e+00  2.646e+00   0.492 0.622713    
PctSameCity85          1.212e+00  1.995e+00   0.607 0.543621    
PctSameState85        -2.109e+00  3.135e+00  -0.673 0.501232    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 363 on 1907 degrees of freedom
Multiple R-squared:  0.6665,    Adjusted R-squared:  0.6514 
F-statistic: 44.31 on 86 and 1907 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>dr.df</span><span class='op'>$</span><span class='va'>RentQrange</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.0   139.0   173.0   200.3   241.0   803.0 </code></pre>
</div>
<p>Veamos qué pasa ahora si aplicamos este mismo modelo realizando la división entrenamiento-prueba.</p>
<h4 id="evaluación-el-problema-del-exceso-de-dimensionalidad-y-el-sobreajuste">Evaluación, el PROBLEMA del exceso de dimensionalidad y el sobreajuste:</h4>
<p>Para realizar la división utilizaremos la función <code>sample.split()</code> de librería caTools:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/topepo/caret/'>caret</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>caTools</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1111</span><span class='op'>)</span>
<span class='va'>sample</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caTools/man/sample.split.html'>sample.split</a></span><span class='op'>(</span><span class='va'>dr.df</span><span class='op'>$</span><span class='va'>ViolentCrimesPerPop</span>, SplitRatio <span class='op'>=</span> <span class='fl'>.75</span><span class='op'>)</span>
<span class='va'>train</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>dr.df</span>, <span class='va'>sample</span> <span class='op'>==</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>test</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span><span class='op'>(</span><span class='va'>dr.df</span>, <span class='va'>sample</span> <span class='op'>==</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Ajustemos el modelo de entrenamiento:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>train.dr.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>ViolentCrimesPerPop</span><span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>train</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>train.dr.lm</span><span class='op'>)</span><span class='op'>$</span><span class='va'>r.squared</span><span class='op'>*</span><span class='fl'>100</span>
</code></pre>
</div>
<pre><code>[1] 67.85562</code></pre>
</div>
<p>Evaluemos el desempeño en los datos de prueba.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.lm.html'>predict.lm</a></span><span class='op'>(</span><span class='va'>train.dr.lm</span>, <span class='va'>test</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>88</span><span class='op'>]</span><span class='op'>)</span> 
<span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>pred</span>, <span class='va'>test</span><span class='op'>$</span><span class='va'>ViolentCrimesPerPop</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span>
</code></pre>
</div>
<pre><code>[1] 60.2964</code></pre>
</div>
<p>De estos resultados vemos que el modelo está sobreajustado, ya que el <span class="math inline">\(R^2\)</span> del modelo de prueba menor al de entrenamiento. Tomando esto en consideración, 1) escalemos los datos y b) apliquemos los modelos regularizados.</p>
<p>Para hacer las cosas más organizadas, primero dividamos ambos sets de datos en dos objetos: uno con las variables independientes y otro con la variable dependiente:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>X_train</span> <span class='op'>&lt;-</span> <span class='va'>train</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>88</span><span class='op'>]</span>
<span class='va'>y_train</span> <span class='op'>&lt;-</span> <span class='va'>train</span><span class='op'>$</span><span class='va'>ViolentCrimesPerPop</span>
<span class='va'>X_test</span> <span class='op'>&lt;-</span> <span class='va'>test</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>88</span><span class='op'>]</span>
<span class='va'>y_test</span> <span class='op'>&lt;-</span> <span class='va'>test</span><span class='op'>$</span><span class='va'>ViolentCrimesPerPop</span>
</code></pre>
</div>
</div>
<p>Ahora estandaricemos las variables dependientes:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>preProc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/preProcess.html'>preProcess</a></span><span class='op'>(</span><span class='va'>X_train</span>, method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"center"</span>, <span class='st'>"scale"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>X_train_s</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>preProc</span>, <span class='va'>X_train</span><span class='op'>)</span>
<span class='va'>X_test_s</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>preProc</span>, <span class='va'>X_test</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h2 id="regularización-l2-regresión-ridge">Regularización L2: Regresión Ridge</h2>
<p>Apliquemos la regresión al set de entrenamiento. Debido a que el valor de penalización (<span class="math inline">\(\alpha\)</span> en la clase, <span class="math inline">\(\lambda\)</span> en glmnet) es “arbitrario”, podemos utilizar validación cruzada para encontrar el valor que mejor se ajuste a nuestros datos. La validación cruzada consiste en hacer k particiones entrenamiento-prueba de los datos, ajustar un modelo para cada k para cada valor del parámetro que sea de nuestro interés, promediar el valor de error de cada iteración y quedarnos con el valor del parámetro que haya logrado el menor valor de nuestra medida de error. En la librería <code>glmnet</code> esto se hace con la función <code>cv.glmnet</code>, la cual recibe como argumentos una matriz de variables independientes, un vector con variables dependientes, un valor de alpha que será 0 para regresión Ridge, 1 para Lasso y algún intermedio para red elástica (no la veremos en el curso) y el tipo de medida de error, en este caso MSE.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://glmnet.stanford.edu'>glmnet</a></span><span class='op'>)</span>
<span class='va'>cv.ridge</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/cv.glmnet.html'>cv.glmnet</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_train_s</span><span class='op'>)</span>, <span class='va'>y_train</span>, alpha <span class='op'>=</span> <span class='fl'>0</span>, type.measure <span class='op'>=</span> <span class='st'>"mse"</span><span class='op'>)</span>
<span class='co'># Valor de lambda que otorga el menor valor de error</span>
<span class='va'>lambdamin</span> <span class='op'>&lt;-</span> <span class='va'>cv.ridge</span><span class='op'>$</span><span class='va'>lambda.min</span> 
<span class='va'>lambdamin</span>
</code></pre>
</div>
<pre><code>[1] 127.2735</code></pre>
</div>
<p>Ajustemos entonces el modelo regularizado con ese valor de lambda. (Df representa el número de coeficientes no negativos, <span class="math inline">\(\%Dev = R^2\)</span>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ridge.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_train_s</span><span class='op'>)</span>, <span class='va'>y_train</span>, alpha <span class='op'>=</span> <span class='fl'>0</span>, lambda <span class='op'>=</span> <span class='va'>lambdamin</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>ridge.lm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
Call:  glmnet(x = as.matrix(X_train_s), y = y_train, alpha = 0, lambda = lambdamin) 

  Df  %Dev Lambda
1 88 64.37  127.3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>ridge.lm</span><span class='op'>)</span> <span class='co'># Imprime los coeficientes de la regresión</span>
</code></pre>
</div>
<pre><code>89 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
                               s0
(Intercept)           594.3309632
population              1.9300180
householdsize           1.8299619
agePct12t21            -7.3486939
agePct12t29           -31.9576114
agePct16t24           -13.7190597
agePct65up             -0.7500937
numbUrban               2.9093075
pctUrban               48.9548756
medIncome               4.4813095
pctWWage              -13.4939524
pctWFarmSelf           -2.5372388
pctWInvInc            -39.4099456
pctWSocSec              5.7726094
pctWPubAsst             8.2557445
pctWRetire            -31.5772883
medFamInc               0.1869270
perCapInc               7.2125911
NumUnderPov             1.3516081
PctPopUnderPov          1.6304773
PctLess9thGrade       -24.2107288
PctNotHSGrad           23.9205978
PctBSorMore            -4.7951480
PctUnemployed          -4.4677466
PctEmploy              -0.6736613
PctEmplManu           -25.2037054
PctEmplProfServ        -0.9096683
PctOccupManu            1.2909056
PctOccupMgmtProf        6.1034532
MalePctDivorce         39.3996963
MalePctNevMarr         24.5249604
FemalePctDiv           -5.6875449
TotalPctDiv            12.4548611
PersPerFam             13.1410156
PctFam2Par            -54.0844979
PctKids2Par           -76.7466711
PctYoungKids2Par      -22.7957248
PctTeen2Par           -31.7585992
PctWorkMomYoungKids    10.6242815
PctWorkMom            -29.0347493
NumKidsBornNeverMar    10.5416166
PctKidsBornNeverMar   142.4105435
NumImmig              -19.0071427
PctImmigRecent          5.4033013
PctImmigRec5           -7.4524167
PctImmigRec8            2.4384854
PctImmigRec10          11.0250579
PctRecentImmig         -4.3029127
PctRecImmig5           -1.6401076
PctRecImmig8            8.0026637
PctRecImmig10          14.7662164
PctSpeakEnglOnly       24.9056068
PctNotSpeakEnglWell   -21.4562027
PctLargHouseFam         9.3206986
PctLargHouseOccup      -3.4064885
PersPerOccupHous       12.3918690
PersPerOwnOccHous      -8.3730487
PersPerRentOccHous      8.5386052
PctPersOwnOccup       -10.1687491
PctPersDenseHous       36.0367459
PctHousLess3BR          8.7490050
MedNumBR               -3.0382968
HousVacant             39.6081968
PctHousOccup          -16.0266762
PctHousOwnOcc           4.3255442
PctVacantBoarded       48.6961138
PctVacMore6Mos        -13.2650164
MedYrHousBuilt         14.3259260
PctHousNoPhone         17.6682547
PctWOFullPlumb          1.1437346
OwnOccLowQuart         -3.6714089
OwnOccMedVal           -1.3201613
OwnOccHiQuart          -0.5468553
OwnOccQrange            4.7164888
RentLowQ              -15.2916481
RentMedian              0.9769829
RentHighQ               0.1358997
RentQrange             25.8023901
MedRent                15.3168827
MedRentPctHousInc      12.2762392
MedOwnCostPctInc        3.8327009
MedOwnCostPctIncNoMtg -31.6350261
NumInShelters          13.7891862
NumStreet              -8.1076432
PctForeignBorn         25.5580343
PctBornSameState      -15.0924908
PctSameHouse85         20.2263294
PctSameCity85          10.5844297
PctSameState85         -3.4981307</code></pre>
</div>
<p>Vemos que el valor de R2 es ligeramente menor al caso anterior; sin embargo, ganamos un poco de poder predictivo en el modelo de prueba:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ridge.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>ridge.lm</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_test_s</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>ridge.pred</span>, <span class='va'>y_test</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span>
</code></pre>
</div>
<pre><code>           s0
[1,] 62.57724</code></pre>
</div>
<p>Veamos cómo afecta el valor de lambda:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'>for</span> <span class='op'>(</span><span class='va'>lambda</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.5</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>50</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>lambdamin</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  
  <span class='va'>ridge.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_train_s</span><span class='op'>)</span>, <span class='va'>y_train</span>, alpha <span class='op'>=</span> <span class='fl'>0</span>,
                     lambda <span class='op'>=</span> <span class='va'>lambda</span>, standardize <span class='op'>=</span> <span class='cn'>F</span>,
                     standardize.response <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span>
  
  <span class='va'>ridge.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>ridge.lm</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_test_s</span><span class='op'>)</span><span class='op'>)</span>
  
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"lambda = "</span>, <span class='va'>lambda</span>, 
              <span class='st'>"; Variables restantes:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>ridge.lm</span><span class='op'>$</span><span class='va'>df</span>, <span class='fl'>2</span><span class='op'>)</span>, 
              <span class='st'>"; R^2 entrenamiento = "</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>ridge.lm</span><span class='op'>$</span><span class='va'>dev.ratio</span>,<span class='fl'>2</span><span class='op'>)</span>, 
              <span class='st'>"; R^2 prueba = "</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>ridge.pred</span>, <span class='va'>y_test</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] &quot;lambda =  0 ; Variables restantes: 88 ; R^2 entrenamiento =  0.68 ; R^2 prueba =  0.6&quot;
[1] &quot;lambda =  0.5 ; Variables restantes: 88 ; R^2 entrenamiento =  0.68 ; R^2 prueba =  0.61&quot;
[1] &quot;lambda =  1 ; Variables restantes: 88 ; R^2 entrenamiento =  0.68 ; R^2 prueba =  0.61&quot;
[1] &quot;lambda =  2 ; Variables restantes: 88 ; R^2 entrenamiento =  0.67 ; R^2 prueba =  0.61&quot;
[1] &quot;lambda =  3 ; Variables restantes: 88 ; R^2 entrenamiento =  0.67 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  5 ; Variables restantes: 88 ; R^2 entrenamiento =  0.67 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  10 ; Variables restantes: 88 ; R^2 entrenamiento =  0.67 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  20 ; Variables restantes: 88 ; R^2 entrenamiento =  0.66 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  50 ; Variables restantes: 88 ; R^2 entrenamiento =  0.66 ; R^2 prueba =  0.63&quot;
[1] &quot;lambda =  127.27 ; Variables restantes: 88 ; R^2 entrenamiento =  0.64 ; R^2 prueba =  0.63&quot;</code></pre>
</div>
<p>Vemos que sí hay diferencias con respecto al primer caso. Apliquemos la regresión Lasso:</p>
<h2 id="regularización-l1-regresión-lasso">Regularización L1: Regresión Lasso</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>cv.lasso</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/cv.glmnet.html'>cv.glmnet</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_train_s</span><span class='op'>)</span>,
                      <span class='va'>y_train</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>,
                      type.measure <span class='op'>=</span> <span class='st'>"mse"</span><span class='op'>)</span>

<span class='co'># Valor de lambda que otorga el menor valor de error</span>
<span class='va'>lambdamin</span> <span class='op'>&lt;-</span> <span class='va'>cv.lasso</span><span class='op'>$</span><span class='va'>lambda.min</span>
<span class='va'>lambdamin</span>
</code></pre>
</div>
<pre><code>[1] 11.0696</code></pre>
</div>
<p>Ajustemos entonces el modelo regularizado con ese valor de lambda. (Df representa el número de coeficientes no cero, <span class="math inline">\(\%Dev = R^2\)</span>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>lasso.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_train_s</span><span class='op'>)</span>, <span class='va'>y_train</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, 
                   ambda <span class='op'>=</span> <span class='va'>lambdamin</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>lasso.lm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
Call:  glmnet(x = as.matrix(X_train_s), y = y_train, alpha = 1, ambda = lambdamin) 

   Df  %Dev Lambda
1   0  0.00 457.40
2   1  9.31 416.80
3   2 17.05 379.70
4   2 23.93 346.00
5   2 29.65 315.30
6   2 34.39 287.30
7   2 38.33 261.70
8   2 41.59 238.50
9   2 44.31 217.30
10  2 46.56 198.00
11  2 48.43 180.40
12  2 49.99 164.40
13  2 51.28 149.80
14  2 52.35 136.50
15  2 53.23 124.30
16  3 54.00 113.30
17  4 55.01 103.20
18  4 55.86  94.06
19  6 56.60  85.71
20  6 57.39  78.09
21  6 58.06  71.16
22  8 58.69  64.83
23  7 59.35  59.08
24  8 59.91  53.83
25  8 60.42  49.05
26 10 60.88  44.69
27 11 61.27  40.72
28 11 61.63  37.10
29 11 61.93  33.80
30 13 62.19  30.80
31 13 62.46  28.07
32 15 62.74  25.57
33 15 63.00  23.30
34 16 63.22  21.23
35 16 63.40  19.34
36 18 63.62  17.63
37 18 63.82  16.06
38 18 63.98  14.63
39 18 64.11  13.33
40 18 64.22  12.15
41 18 64.32  11.07
42 19 64.39  10.09
43 19 64.46   9.19
44 21 64.52   8.37
45 22 64.59   7.63
46 23 64.67   6.95
47 23 64.74   6.33
48 26 64.84   5.77
49 26 64.95   5.26
50 28 65.05   4.79
51 30 65.17   4.37
52 31 65.30   3.98
53 32 65.42   3.62
54 33 65.52   3.30
55 36 65.61   3.01
56 36 65.70   2.74
57 39 65.79   2.50
58 46 65.90   2.28
59 47 66.09   2.07
60 49 66.22   1.89
61 51 66.36   1.72
62 51 66.47   1.57
63 54 66.57   1.43
64 57 66.68   1.30
65 59 66.76   1.19
66 59 66.84   1.08
67 60 66.91   0.99
68 61 66.96   0.90
69 64 67.02   0.82
70 66 67.08   0.75
71 70 67.14   0.68
72 71 67.18   0.62
73 72 67.25   0.56
74 75 67.31   0.51
75 75 67.36   0.47
76 76 67.41   0.43
77 77 67.44   0.39
78 80 67.48   0.35
79 78 67.51   0.32
80 78 67.53   0.29
81 78 67.55   0.27
82 77 67.57   0.24
83 77 67.59   0.22
84 79 67.61   0.20
85 81 67.64   0.18
86 82 67.67   0.17
87 81 67.68   0.15
88 82 67.68   0.14</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/coef.html'>coef</a></span><span class='op'>(</span><span class='va'>lasso.lm</span><span class='op'>)</span> <span class='co'># Imprime los coeficientes de la regresión</span>
</code></pre>
</div>
<pre><code>89 x 88 sparse Matrix of class &quot;dgCMatrix&quot;
                                                                       
(Intercept)           594.331 594.33096 594.3309632 594.33096 594.33096
population              .       .         .           .         .      
householdsize           .       .         .           .         .      
agePct12t21             .       .         .           .         .      
agePct12t29             .       .         .           .         .      
agePct16t24             .       .         .           .         .      
agePct65up              .       .         .           .         .      
numbUrban               .       .         .           .         .      
pctUrban                .       .         .           .         .      
medIncome               .       .         .           .         .      
pctWWage                .       .         .           .         .      
pctWFarmSelf            .       .         .           .         .      
pctWInvInc              .       .         .           .         .      
pctWSocSec              .       .         .           .         .      
pctWPubAsst             .       .         .           .         .      
pctWRetire              .       .         .           .         .      
medFamInc               .       .         .           .         .      
perCapInc               .       .         .           .         .      
NumUnderPov             .       .         .           .         .      
PctPopUnderPov          .       .         .           .         .      
PctLess9thGrade         .       .         .           .         .      
PctNotHSGrad            .       .         .           .         .      
PctBSorMore             .       .         .           .         .      
PctUnemployed           .       .         .           .         .      
PctEmploy               .       .         .           .         .      
PctEmplManu             .       .         .           .         .      
PctEmplProfServ         .       .         .           .         .      
PctOccupManu            .       .         .           .         .      
PctOccupMgmtProf        .       .         .           .         .      
MalePctDivorce          .       .         .           .         .      
MalePctNevMarr          .       .         .           .         .      
FemalePctDiv            .       .         .           .         .      
TotalPctDiv             .       .         .           .         .      
PersPerFam              .       .         .           .         .      
PctFam2Par              .       .         .           .         .      
PctKids2Par             .       .        -0.6149499 -18.66836 -35.12699
PctYoungKids2Par        .       .         .           .         .      
PctTeen2Par             .       .         .           .         .      
PctWorkMomYoungKids     .       .         .           .         .      
PctWorkMom              .       .         .           .         .      
NumKidsBornNeverMar     .       .         .           .         .      
PctKidsBornNeverMar     .      40.64749  77.1522760  95.28927 111.80720
NumImmig                .       .         .           .         .      
PctImmigRecent          .       .         .           .         .      
PctImmigRec5            .       .         .           .         .      
PctImmigRec8            .       .         .           .         .      
PctImmigRec10           .       .         .           .         .      
PctRecentImmig          .       .         .           .         .      
PctRecImmig5            .       .         .           .         .      
PctRecImmig8            .       .         .           .         .      
PctRecImmig10           .       .         .           .         .      
PctSpeakEnglOnly        .       .         .           .         .      
PctNotSpeakEnglWell     .       .         .           .         .      
PctLargHouseFam         .       .         .           .         .      
PctLargHouseOccup       .       .         .           .         .      
PersPerOccupHous        .       .         .           .         .      
PersPerOwnOccHous       .       .         .           .         .      
PersPerRentOccHous      .       .         .           .         .      
PctPersOwnOccup         .       .         .           .         .      
PctPersDenseHous        .       .         .           .         .      
PctHousLess3BR          .       .         .           .         .      
MedNumBR                .       .         .           .         .      
HousVacant              .       .         .           .         .      
PctHousOccup            .       .         .           .         .      
PctHousOwnOcc           .       .         .           .         .      
PctVacantBoarded        .       .         .           .         .      
PctVacMore6Mos          .       .         .           .         .      
MedYrHousBuilt          .       .         .           .         .      
PctHousNoPhone          .       .         .           .         .      
PctWOFullPlumb          .       .         .           .         .      
OwnOccLowQuart          .       .         .           .         .      
OwnOccMedVal            .       .         .           .         .      
OwnOccHiQuart           .       .         .           .         .      
OwnOccQrange            .       .         .           .         .      
RentLowQ                .       .         .           .         .      
RentMedian              .       .         .           .         .      
RentHighQ               .       .         .           .         .      
RentQrange              .       .         .           .         .      
MedRent                 .       .         .           .         .      
MedRentPctHousInc       .       .         .           .         .      
MedOwnCostPctInc        .       .         .           .         .      
MedOwnCostPctIncNoMtg   .       .         .           .         .      
NumInShelters           .       .         .           .         .      
NumStreet               .       .         .           .         .      
PctForeignBorn          .       .         .           .         .      
PctBornSameState        .       .         .           .         .      
PctSameHouse85          .       .         .           .         .      
PctSameCity85           .       .         .           .         .      
PctSameState85          .       .         .           .         .      
                                                                       
(Intercept)           594.33096 594.33096 594.33096 594.33096 594.33096
population              .         .         .         .         .      
householdsize           .         .         .         .         .      
agePct12t21             .         .         .         .         .      
agePct12t29             .         .         .         .         .      
agePct16t24             .         .         .         .         .      
agePct65up              .         .         .         .         .      
numbUrban               .         .         .         .         .      
pctUrban                .         .         .         .         .      
medIncome               .         .         .         .         .      
pctWWage                .         .         .         .         .      
pctWFarmSelf            .         .         .         .         .      
pctWInvInc              .         .         .         .         .      
pctWSocSec              .         .         .         .         .      
pctWPubAsst             .         .         .         .         .      
pctWRetire              .         .         .         .         .      
medFamInc               .         .         .         .         .      
perCapInc               .         .         .         .         .      
NumUnderPov             .         .         .         .         .      
PctPopUnderPov          .         .         .         .         .      
PctLess9thGrade         .         .         .         .         .      
PctNotHSGrad            .         .         .         .         .      
PctBSorMore             .         .         .         .         .      
PctUnemployed           .         .         .         .         .      
PctEmploy               .         .         .         .         .      
PctEmplManu             .         .         .         .         .      
PctEmplProfServ         .         .         .         .         .      
PctOccupManu            .         .         .         .         .      
PctOccupMgmtProf        .         .         .         .         .      
MalePctDivorce          .         .         .         .         .      
MalePctNevMarr          .         .         .         .         .      
FemalePctDiv            .         .         .         .         .      
TotalPctDiv             .         .         .         .         .      
PersPerFam              .         .         .         .         .      
PctFam2Par              .         .         .         .         .      
PctKids2Par           -50.22416 -63.88199 -76.32425 -87.76373 -98.08757
PctYoungKids2Par        .         .         .         .         .      
PctTeen2Par             .         .         .         .         .      
PctWorkMomYoungKids     .         .         .         .         .      
PctWorkMom              .         .         .         .         .      
NumKidsBornNeverMar     .         .         .         .         .      
PctKidsBornNeverMar   126.77068 140.48972 152.99193 164.29481 174.67950
NumImmig                .         .         .         .         .      
PctImmigRecent          .         .         .         .         .      
PctImmigRec5            .         .         .         .         .      
PctImmigRec8            .         .         .         .         .      
PctImmigRec10           .         .         .         .         .      
PctRecentImmig          .         .         .         .         .      
PctRecImmig5            .         .         .         .         .      
PctRecImmig8            .         .         .         .         .      
PctRecImmig10           .         .         .         .         .      
PctSpeakEnglOnly        .         .         .         .         .      
PctNotSpeakEnglWell     .         .         .         .         .      
PctLargHouseFam         .         .         .         .         .      
PctLargHouseOccup       .         .         .         .         .      
PersPerOccupHous        .         .         .         .         .      
PersPerOwnOccHous       .         .         .         .         .      
PersPerRentOccHous      .         .         .         .         .      
PctPersOwnOccup         .         .         .         .         .      
PctPersDenseHous        .         .         .         .         .      
PctHousLess3BR          .         .         .         .         .      
MedNumBR                .         .         .         .         .      
HousVacant              .         .         .         .         .      
PctHousOccup            .         .         .         .         .      
PctHousOwnOcc           .         .         .         .         .      
PctVacantBoarded        .         .         .         .         .      
PctVacMore6Mos          .         .         .         .         .      
MedYrHousBuilt          .         .         .         .         .      
PctHousNoPhone          .         .         .         .         .      
PctWOFullPlumb          .         .         .         .         .      
OwnOccLowQuart          .         .         .         .         .      
OwnOccMedVal            .         .         .         .         .      
OwnOccHiQuart           .         .         .         .         .      
OwnOccQrange            .         .         .         .         .      
RentLowQ                .         .         .         .         .      
RentMedian              .         .         .         .         .      
RentHighQ               .         .         .         .         .      
RentQrange              .         .         .         .         .      
MedRent                 .         .         .         .         .      
MedRentPctHousInc       .         .         .         .         .      
MedOwnCostPctInc        .         .         .         .         .      
MedOwnCostPctIncNoMtg   .         .         .         .         .      
NumInShelters           .         .         .         .         .      
NumStreet               .         .         .         .         .      
PctForeignBorn          .         .         .         .         .      
PctBornSameState        .         .         .         .         .      
PctSameHouse85          .         .         .         .         .      
PctSameCity85           .         .         .         .         .      
PctSameState85          .         .         .         .         .      
                                                                       
(Intercept)            594.3310  594.3310  594.3310  594.3310  594.3310
population               .         .         .         .         .     
householdsize            .         .         .         .         .     
agePct12t21              .         .         .         .         .     
agePct12t29              .         .         .         .         .     
agePct16t24              .         .         .         .         .     
agePct65up               .         .         .         .         .     
numbUrban                .         .         .         .         .     
pctUrban                 .         .         .         .         .     
medIncome                .         .         .         .         .     
pctWWage                 .         .         .         .         .     
pctWFarmSelf             .         .         .         .         .     
pctWInvInc               .         .         .         .         .     
pctWSocSec               .         .         .         .         .     
pctWPubAsst              .         .         .         .         .     
pctWRetire               .         .         .         .         .     
medFamInc                .         .         .         .         .     
perCapInc                .         .         .         .         .     
NumUnderPov              .         .         .         .         .     
PctPopUnderPov           .         .         .         .         .     
PctLess9thGrade          .         .         .         .         .     
PctNotHSGrad             .         .         .         .         .     
PctBSorMore              .         .         .         .         .     
PctUnemployed            .         .         .         .         .     
PctEmploy                .         .         .         .         .     
PctEmplManu              .         .         .         .         .     
PctEmplProfServ          .         .         .         .         .     
PctOccupManu             .         .         .         .         .     
PctOccupMgmtProf         .         .         .         .         .     
MalePctDivorce           .         .         .         .         .     
MalePctNevMarr           .         .         .         .         .     
FemalePctDiv             .         .         .         .         .     
TotalPctDiv              .         .         .         .         .     
PersPerFam               .         .         .         .         .     
PctFam2Par               .         .         .         .         .     
PctKids2Par           -107.4912 -116.1644 -123.9665 -131.0714 -137.6529
PctYoungKids2Par         .         .         .         .         .     
PctTeen2Par              .         .         .         .         .     
PctWorkMomYoungKids      .         .         .         .         .     
PctWorkMom               .         .         .         .         .     
NumKidsBornNeverMar      .         .         .         .         .     
PctKidsBornNeverMar    184.1443  192.6775  200.5396  207.7069  214.1442
NumImmig                 .         .         .         .         .     
PctImmigRecent           .         .         .         .         .     
PctImmigRec5             .         .         .         .         .     
PctImmigRec8             .         .         .         .         .     
PctImmigRec10            .         .         .         .         .     
PctRecentImmig           .         .         .         .         .     
PctRecImmig5             .         .         .         .         .     
PctRecImmig8             .         .         .         .         .     
PctRecImmig10            .         .         .         .         .     
PctSpeakEnglOnly         .         .         .         .         .     
PctNotSpeakEnglWell      .         .         .         .         .     
PctLargHouseFam          .         .         .         .         .     
PctLargHouseOccup        .         .         .         .         .     
PersPerOccupHous         .         .         .         .         .     
PersPerOwnOccHous        .         .         .         .         .     
PersPerRentOccHous       .         .         .         .         .     
PctPersOwnOccup          .         .         .         .         .     
PctPersDenseHous         .         .         .         .         .     
PctHousLess3BR           .         .         .         .         .     
MedNumBR                 .         .         .         .         .     
HousVacant               .         .         .         .         .     
PctHousOccup             .         .         .         .         .     
PctHousOwnOcc            .         .         .         .         .     
PctVacantBoarded         .         .         .         .         .     
PctVacMore6Mos           .         .         .         .         .     
MedYrHousBuilt           .         .         .         .         .     
PctHousNoPhone           .         .         .         .         .     
PctWOFullPlumb           .         .         .         .         .     
OwnOccLowQuart           .         .         .         .         .     
OwnOccMedVal             .         .         .         .         .     
OwnOccHiQuart            .         .         .         .         .     
OwnOccQrange             .         .         .         .         .     
RentLowQ                 .         .         .         .         .     
RentMedian               .         .         .         .         .     
RentHighQ                .         .         .         .         .     
RentQrange               .         .         .         .         .     
MedRent                  .         .         .         .         .     
MedRentPctHousInc        .         .         .         .         .     
MedOwnCostPctInc         .         .         .         .         .     
MedOwnCostPctIncNoMtg    .         .         .         .         .     
NumInShelters            .         .         .         .         .     
NumStreet                .         .         .         .         .     
PctForeignBorn           .         .         .         .         .     
PctBornSameState         .         .         .         .         .     
PctSameHouse85           .         .         .         .         .     
PctSameCity85            .         .         .         .         .     
PctSameState85           .         .         .         .         .     
                                                                      
(Intercept)            594.3309632  594.330963  594.33096  594.3309632
population               .            .           .          .        
householdsize            .            .           .          .        
agePct12t21              .            .           .          .        
agePct12t29              .            .           .          .        
agePct16t24              .            .           .          .        
agePct65up               .            .           .          .        
numbUrban                .            .           .          .        
pctUrban                 .            .           .          .        
medIncome                .            .           .          .        
pctWWage                 .            .           .          .        
pctWFarmSelf             .            .           .          .        
pctWInvInc               .            .           .          .        
pctWSocSec               .            .           .          .        
pctWPubAsst              .            .           .          .        
pctWRetire               .            .           .          .        
medFamInc                .            .           .          .        
perCapInc                .            .           .          .        
NumUnderPov              .            .           .          .        
PctPopUnderPov           .            .           .          .        
PctLess9thGrade          .            .           .          .        
PctNotHSGrad             .            .           .          .        
PctBSorMore              .            .           .          .        
PctUnemployed            .            .           .          .        
PctEmploy                .            .           .          .        
PctEmplManu              .            .           .          .        
PctEmplProfServ          .            .           .          .        
PctOccupManu             .            .           .          .        
PctOccupMgmtProf         .            .           .          .        
MalePctDivorce           .            .           .          4.3539617
MalePctNevMarr           .            .           .          .        
FemalePctDiv             .            .           .          .        
TotalPctDiv              .            7.313835   14.82252   17.7197390
PersPerFam               .            .           .          .        
PctFam2Par               .            .           .          .        
PctKids2Par           -143.1635676 -140.318414 -136.85453 -132.8729715
PctYoungKids2Par         .            .           .          .        
PctTeen2Par              .            .           .          .        
PctWorkMomYoungKids      .            .           .          .        
PctWorkMom               .            .           .          .        
NumKidsBornNeverMar      .            .           .          .        
PctKidsBornNeverMar    220.1086022  226.099959  231.87529  237.6232796
NumImmig                 .            .           .          .        
PctImmigRecent           .            .           .          .        
PctImmigRec5             .            .           .          .        
PctImmigRec8             .            .           .          .        
PctImmigRec10            .            .           .          .        
PctRecentImmig           .            .           .          .        
PctRecImmig5             .            .           .          .        
PctRecImmig8             .            .           .          .        
PctRecImmig10            .            .           .          .        
PctSpeakEnglOnly         .            .           .          .        
PctNotSpeakEnglWell      .            .           .          .        
PctLargHouseFam          .            .           .          .        
PctLargHouseOccup        .            .           .          .        
PersPerOccupHous         .            .           .          .        
PersPerOwnOccHous        .            .           .          .        
PersPerRentOccHous       .            .           .          .        
PctPersOwnOccup          .            .           .          .        
PctPersDenseHous         0.8339882    8.171956   14.86603   21.2398542
PctHousLess3BR           .            .           .          .        
MedNumBR                 .            .           .          .        
HousVacant               .            .           .          0.3078157
PctHousOccup             .            .           .          .        
PctHousOwnOcc            .            .           .          .        
PctVacantBoarded         .            .           .          .        
PctVacMore6Mos           .            .           .          .        
MedYrHousBuilt           .            .           .          .        
PctHousNoPhone           .            .           .          .        
PctWOFullPlumb           .            .           .          .        
OwnOccLowQuart           .            .           .          .        
OwnOccMedVal             .            .           .          .        
OwnOccHiQuart            .            .           .          .        
OwnOccQrange             .            .           .          .        
RentLowQ                 .            .           .          .        
RentMedian               .            .           .          .        
RentHighQ                .            .           .          .        
RentQrange               .            .           .          .        
MedRent                  .            .           .          .        
MedRentPctHousInc        .            .           .          .        
MedOwnCostPctInc         .            .           .          .        
MedOwnCostPctIncNoMtg    .            .           .          .        
NumInShelters            .            .           .          .        
NumStreet                .            .           .          .        
PctForeignBorn           .            .           .          .        
PctBornSameState         .            .           .          .        
PctSameHouse85           .            .           .          .        
PctSameCity85            .            .           .          .        
PctSameState85           .            .           .          .        
                                                                    
(Intercept)            594.330963  594.33096  594.330963  594.330963
population               .           .          .           .       
householdsize            .           .          .           .       
agePct12t21              .           .          .           .       
agePct12t29              .           .          .           .       
agePct16t24              .           .          .           .       
agePct65up               .           .          .           .       
numbUrban                .           .          .           .       
pctUrban                 .           .          1.782248    7.374335
medIncome                .           .          .           .       
pctWWage                 .           .          .           .       
pctWFarmSelf             .           .          .           .       
pctWInvInc               .           .          .           .       
pctWSocSec               .           .          .           .       
pctWPubAsst              .           .          .           .       
pctWRetire               .           .          .           .       
medFamInc                .           .          .           .       
perCapInc                .           .          .           .       
NumUnderPov              .           .          .           .       
PctPopUnderPov           .           .          .           .       
PctLess9thGrade          .           .          .           .       
PctNotHSGrad             .           .          .           .       
PctBSorMore              .           .          .           .       
PctUnemployed            .           .          .           .       
PctEmploy                .           .          .           .       
PctEmplManu              .           .          .           .       
PctEmplProfServ          .           .          .           .       
PctOccupManu             .           .          .           .       
PctOccupMgmtProf         .           .          .           .       
MalePctDivorce          12.273998   22.88436   34.360755   42.118066
MalePctNevMarr           .           .          .           .       
FemalePctDiv             .           .          .           .       
TotalPctDiv             15.496814   10.44132    4.110012    .       
PersPerFam               .           .          .           .       
PctFam2Par               .           .          .           .       
PctKids2Par           -130.456059 -127.55688 -125.008476 -126.450538
PctYoungKids2Par         .           .          .           .       
PctTeen2Par              .           .          .           .       
PctWorkMomYoungKids      .           .          .           .       
PctWorkMom               .           .          .           .       
NumKidsBornNeverMar      .           .          .           .       
PctKidsBornNeverMar    241.096720  244.71358  247.210974  245.967782
NumImmig                 .           .          .           .       
PctImmigRecent           .           .          .           .       
PctImmigRec5             .           .          .           .       
PctImmigRec8             .           .          .           .       
PctImmigRec10            .           .          .           .       
PctRecentImmig           .           .          .           .       
PctRecImmig5             .           .          .           .       
PctRecImmig8             .           .          .           .       
PctRecImmig10            .           .          .           .       
PctSpeakEnglOnly         .           .          .           .       
PctNotSpeakEnglWell      .           .          .           .       
PctLargHouseFam          .           .          .           .       
PctLargHouseOccup        .           .          .           .       
PersPerOccupHous         .           .          .           .       
PersPerOwnOccHous        .           .          .           .       
PersPerRentOccHous       .           .          .           .       
PctPersOwnOccup          .           .          .           .       
PctPersDenseHous        27.191010   32.83517   38.009703   42.349013
PctHousLess3BR           .           .          .           .       
MedNumBR                 .           .          .           .       
HousVacant               6.006481   11.17609   15.568859   19.016470
PctHousOccup             .           .          .           .       
PctHousOwnOcc            .           .          .           .       
PctVacantBoarded         .           .          1.451079    4.466019
PctVacMore6Mos           .           .          .           .       
MedYrHousBuilt           .           .          .           .       
PctHousNoPhone           .           .          .           .       
PctWOFullPlumb           .           .          .           .       
OwnOccLowQuart           .           .          .           .       
OwnOccMedVal             .           .          .           .       
OwnOccHiQuart            .           .          .           .       
OwnOccQrange             .           .          .           .       
RentLowQ                 .           .          .           .       
RentMedian               .           .          .           .       
RentHighQ                .           .          .           .       
RentQrange               .           .          .           .       
MedRent                  .           .          .           .       
MedRentPctHousInc        .           .          .           .       
MedOwnCostPctInc         .           .          .           .       
MedOwnCostPctIncNoMtg    .           .          .           .       
NumInShelters            .           .          .           .       
NumStreet                .           .          .           .       
PctForeignBorn           .           .          .           .       
PctBornSameState         .           .          .           .       
PctSameHouse85           .           .          .           .       
PctSameCity85            .           .          .           .       
PctSameState85           .           .          .           .       
                                                                         
(Intercept)            594.3309632  594.330963  594.33096321  594.3309632
population               .            .           .             .        
householdsize            .            .           .             .        
agePct12t21              .            .           .             .        
agePct12t29              .            .           .             .        
agePct16t24              .            .           .             .        
agePct65up               .            .           .             .        
numbUrban                .            .           .             .        
pctUrban                12.2571434   16.709811   20.14409240   23.0778176
medIncome                .            .           .             .        
pctWWage                 .            .           .             .        
pctWFarmSelf             .            .           .             .        
pctWInvInc               .            .           .             .        
pctWSocSec               .            .           .             .        
pctWPubAsst              .            .           .             .        
pctWRetire               .            .           .             .        
medFamInc                .            .           .             .        
perCapInc                .            .           .             .        
NumUnderPov              .            .           .             .        
PctPopUnderPov           .            .           .             .        
PctLess9thGrade          .            .           .             .        
PctNotHSGrad             .            .           .             .        
PctBSorMore              .            .           .             .        
PctUnemployed            .            .           .             .        
PctEmploy                .            .           .             .        
PctEmplManu              .            .           .            -0.6141059
PctEmplProfServ          .            .           .             .        
PctOccupManu             .            .           .             .        
PctOccupMgmtProf         .            .           .             .        
MalePctDivorce          46.3135811   50.410856   54.00809413   56.9479850
MalePctNevMarr           .            .           .             .        
FemalePctDiv             .            .           .             .        
TotalPctDiv              .            .           .             .        
PersPerFam               .            .           .             .        
PctFam2Par               .            .           .             .        
PctKids2Par           -126.2201652 -126.344652 -126.42461272 -127.1807495
PctYoungKids2Par         .            .           .             .        
PctTeen2Par              .            .           .             .        
PctWorkMomYoungKids      .            .           .             .        
PctWorkMom              -0.8061631   -4.620231   -7.93003449  -10.7755776
NumKidsBornNeverMar      .            .           .             .        
PctKidsBornNeverMar    245.7208336  245.872252  246.10856196  246.0138466
NumImmig                 .            .           .             .        
PctImmigRecent           .            .           .             .        
PctImmigRec5             .            .           .             .        
PctImmigRec8             .            .           .             .        
PctImmigRec10            .            .           .             .        
PctRecentImmig           .            .           .             .        
PctRecImmig5             .            .           .             .        
PctRecImmig8             .            .           .             .        
PctRecImmig10            .            .           .             .        
PctSpeakEnglOnly         .            .           .             .        
PctNotSpeakEnglWell      .            .           .             .        
PctLargHouseFam          .            .           .             .        
PctLargHouseOccup        .            .           .             .        
PersPerOccupHous         .            .           .             .        
PersPerOwnOccHous        .            .           .             .        
PersPerRentOccHous       .            .           .             .        
PctPersOwnOccup          .            .           .             .        
PctPersDenseHous        45.8286925   47.802535   48.84318241   49.2690020
PctHousLess3BR           .            .           .             .        
MedNumBR                 .            .           .             .        
HousVacant              22.1016317   24.760620   26.94165482   28.8485940
PctHousOccup             .            .           .             .        
PctHousOwnOcc            .            .           .             .        
PctVacantBoarded         7.2147586    9.001003   11.27112089   13.4604938
PctVacMore6Mos           .            .           .             .        
MedYrHousBuilt           .            .           .             .        
PctHousNoPhone           .            .           .             .        
PctWOFullPlumb           .            .           .             .        
OwnOccLowQuart           .            .           .             .        
OwnOccMedVal             .            .           .             .        
OwnOccHiQuart            .            .           .             .        
OwnOccQrange             .            .           .             .        
RentLowQ                 .            .           .             .        
RentMedian               .            .           .             .        
RentHighQ                .            .           .             .        
RentQrange               .            .           .             .        
MedRent                  .            .           .             .        
MedRentPctHousInc        .            .           .             .        
MedOwnCostPctInc         .            .           .             .        
MedOwnCostPctIncNoMtg    .            .           .             .        
NumInShelters            .            .           .             .        
NumStreet                .            .           .             .        
PctForeignBorn           .            .           0.08413911    1.1616613
PctBornSameState         .            .          -2.40884180   -4.5444373
PctSameHouse85           .            .           .             .        
PctSameCity85            .            .           .             .        
PctSameState85           .            .           .             .        
                                                                      
(Intercept)            594.330963  594.330963  594.3309632  594.330963
population               .           .           .            .       
householdsize            .           .           .            .       
agePct12t21              .           .           .            .       
agePct12t29              .           .          -0.2143759   -3.969272
agePct16t24              .           .           .            .       
agePct65up               .           .           .            .       
numbUrban                .           .           .            .       
pctUrban                25.563416   27.763947   29.8510395   31.501306
medIncome                .           .           .            .       
pctWWage                 .           .           .            .       
pctWFarmSelf             .           .           .            .       
pctWInvInc               .           .           .            .       
pctWSocSec               .           .           .            .       
pctWPubAsst              .           .           .            .       
pctWRetire               .           .           .            .       
medFamInc                .           .           .            .       
perCapInc                .           .           .            .       
NumUnderPov              .           .           .            .       
PctPopUnderPov           .           .           .            .       
PctLess9thGrade          .           .           .            .       
PctNotHSGrad             .           .           .            .       
PctBSorMore              .           .           .            .       
PctUnemployed            .           .           .            .       
PctEmploy                .           .           .            .       
PctEmplManu             -3.440493   -6.013631   -8.1148237  -10.563526
PctEmplProfServ          .           .           .            .       
PctOccupManu             .           .           .            .       
PctOccupMgmtProf         .           .           .            .       
MalePctDivorce          60.316120   63.537177   66.4736548   67.470769
MalePctNevMarr           .           .           .            .       
FemalePctDiv             .           .           .            .       
TotalPctDiv              .           .           .            .       
PersPerFam               .           .           .            .       
PctFam2Par               .           .           .            .       
PctKids2Par           -127.269811 -127.075111 -126.1290427 -126.852917
PctYoungKids2Par         .           .           .            .       
PctTeen2Par              .           .           .            .       
PctWorkMomYoungKids      .           .           .            .       
PctWorkMom             -13.242636  -15.501338  -17.4575729  -18.691172
NumKidsBornNeverMar      .           .           .            .       
PctKidsBornNeverMar    246.278171  246.693088  247.5916988  248.601369
NumImmig                 .           .           .            .       
PctImmigRecent           .           .           .            .       
PctImmigRec5             .           .           .            .       
PctImmigRec8             .           .           .            .       
PctImmigRec10            .           .           .            .       
PctRecentImmig           .           .           .            .       
PctRecImmig5             .           .           .            .       
PctRecImmig8             .           .           .            .       
PctRecImmig10            .           .           .            .       
PctSpeakEnglOnly         .           .           .            .       
PctNotSpeakEnglWell      .           .           .            .       
PctLargHouseFam          .           .           .            .       
PctLargHouseOccup        .           .           .            .       
PersPerOccupHous         .           .           .            .       
PersPerOwnOccHous        .           .           .            .       
PersPerRentOccHous       .           .           .            .       
PctPersOwnOccup          .           .           .            .       
PctPersDenseHous        49.614471   49.799624   49.8352991   51.428822
PctHousLess3BR           .           .           .            .       
MedNumBR                 .           .           .            .       
HousVacant              30.364385   31.723684   32.8173782   33.895079
PctHousOccup             .           .          -1.3370523   -2.047465
PctHousOwnOcc            .           .           .            .       
PctVacantBoarded        15.240209   16.897122   18.3333871   19.383597
PctVacMore6Mos           .           .           .            .       
MedYrHousBuilt           .           .           .            .       
PctHousNoPhone           .           .           .            .       
PctWOFullPlumb           .           .           .            .       
OwnOccLowQuart           .           .           .            .       
OwnOccMedVal             .           .           .            .       
OwnOccHiQuart            .           .           .            .       
OwnOccQrange             .           .           .            .       
RentLowQ                 .           .           .            .       
RentMedian               .           .           .            .       
RentHighQ                .           .           .            .       
RentQrange               .           .           .            .       
MedRent                  .           .           .            .       
MedRentPctHousInc        .           .           .            .       
MedOwnCostPctInc         .           .           .            .       
MedOwnCostPctIncNoMtg    .           .           .            .       
NumInShelters            .           .           .            .       
NumStreet                .           .           .            .       
PctForeignBorn           2.808844    4.421716    6.2861654    6.776012
PctBornSameState        -5.370713   -6.107000   -6.4386088   -7.302299
PctSameHouse85           .           .           .            .       
PctSameCity85            .           .           .            .       
PctSameState85           .           .           .            .       
                                                                      
(Intercept)            594.330963  594.330963  594.3309632  594.330963
population               .           .           .            .       
householdsize            .           .           .            .       
agePct12t21              .           .           .            .       
agePct12t29             -7.144540  -10.144974  -12.8118891  -15.397611
agePct16t24              .           .           .            .       
agePct65up               .           .           .            .       
numbUrban                .           .           .            .       
pctUrban                32.816427   33.985381   34.9978910   35.964428
medIncome                .           .           .            .       
pctWWage                 .           .           .            .       
pctWFarmSelf             .           .           .            .       
pctWInvInc               .           .           .            .       
pctWSocSec               .           .           .            .       
pctWPubAsst              .           .           .            .       
pctWRetire               .           .           .            .       
medFamInc                .           .           .            .       
perCapInc                .           .           .            .       
NumUnderPov              .           .           .            .       
PctPopUnderPov           .           .           .            .       
PctLess9thGrade          .           .           .            .       
PctNotHSGrad             .           .           .            .       
PctBSorMore              .           .           .            .       
PctUnemployed            .           .           .            .       
PctEmploy                .           .           .            .       
PctEmplManu            -12.620795  -14.328369  -15.8993488  -17.189899
PctEmplProfServ          .           .           .            .       
PctOccupManu             .           .           .            .       
PctOccupMgmtProf         .           .           .            .       
MalePctDivorce          68.771773   69.298711   70.0213770   70.846977
MalePctNevMarr           .           .           .            .       
FemalePctDiv             .           .           .            .       
TotalPctDiv              .           .           .            .       
PersPerFam               .           .           .            .       
PctFam2Par               .           .           .            .       
PctKids2Par           -127.730938 -129.671198 -130.9460482 -131.454707
PctYoungKids2Par         .           .           .            .       
PctTeen2Par              .           .           .            .       
PctWorkMomYoungKids      .           .           .            .       
PctWorkMom             -19.758753  -20.706080  -21.5850737  -22.336044
NumKidsBornNeverMar      .           .           .            .       
PctKidsBornNeverMar    249.667351  250.547537  251.6670653  252.941822
NumImmig                 .           .           .            .       
PctImmigRecent           .           .           .            .       
PctImmigRec5             .           .           .            .       
PctImmigRec8             .           .           .            .       
PctImmigRec10            .           .           .            .       
PctRecentImmig           .           .           .            .       
PctRecImmig5             .           .           .            .       
PctRecImmig8             .           .           .            .       
PctRecImmig10            .           .           .            .       
PctSpeakEnglOnly         .           .           .            .       
PctNotSpeakEnglWell      .           .           .            .       
PctLargHouseFam          .           .           .            .       
PctLargHouseOccup        .           .           .            .       
PersPerOccupHous         .           .           .            .       
PersPerOwnOccHous        .           .           .            .       
PersPerRentOccHous       .           .           .            .       
PctPersOwnOccup          .           .           .            .       
PctPersDenseHous        52.702485   53.268173   53.5800890   53.740616
PctHousLess3BR           .           .           .            .       
MedNumBR                 .           .           .            .       
HousVacant              34.744787   35.428284   36.0267033   36.600706
PctHousOccup            -3.126236   -4.452127   -5.7357512   -6.867062
PctHousOwnOcc            .           .           .            .       
PctVacantBoarded        20.464502   21.635723   22.7220063   23.725853
PctVacMore6Mos           .           .           .            .       
MedYrHousBuilt           .           .           .            .       
PctHousNoPhone           .           .           .            .       
PctWOFullPlumb           .           .           .            .       
OwnOccLowQuart           .           .           .            .       
OwnOccMedVal             .           .           .            .       
OwnOccHiQuart            .           .           .            .       
OwnOccQrange             .           .           .            .       
RentLowQ                 .           .           .            .       
RentMedian               .           .           .            .       
RentHighQ                .           .           .            .       
RentQrange               2.196097    5.015184    7.5259892    9.578632
MedRent                  .           .           .            .       
MedRentPctHousInc        .           .           0.0703302    0.872506
MedOwnCostPctInc         .           .           .            .       
MedOwnCostPctIncNoMtg   -1.854826   -5.521420   -8.8966167  -11.990482
NumInShelters            .           .           .            .       
NumStreet                .           .           .            .       
PctForeignBorn           7.062480    7.615518    8.3374578    8.994983
PctBornSameState        -7.431214   -7.169737   -6.8315818   -6.463928
PctSameHouse85           .           .           .            .       
PctSameCity85            .           .           .            .       
PctSameState85           .           .           .            .       
                                                                     
(Intercept)            594.330963  594.330963  594.330963  594.330963
population               .           .           .           .       
householdsize            .           .           .           .       
agePct12t21              .           .           .           .       
agePct12t29            -19.552531  -23.783284  -27.577779  -31.054658
agePct16t24              .           .           .           .       
agePct65up               .           .           .           .       
numbUrban                .           .           .           .       
pctUrban                37.555029   39.119402   40.554929   41.865186
medIncome                .           .           .           .       
pctWWage                 .           .           .           .       
pctWFarmSelf             .           .           .           .       
pctWInvInc              -3.754300   -7.999246  -11.539309  -14.816684
pctWSocSec               .           .           .           .       
pctWPubAsst              .           .           .           .       
pctWRetire              -3.152368   -6.435528   -9.418582  -12.151836
medFamInc                .           .           .           .       
perCapInc                .           .           .           .       
NumUnderPov              .           .           .           .       
PctPopUnderPov           .           .           .           .       
PctLess9thGrade          .           .           .           .       
PctNotHSGrad             .           .           .           .       
PctBSorMore              .           .           .           .       
PctUnemployed            .           .           .           .       
PctEmploy                .           .           .           .       
PctEmplManu            -18.459320  -19.673252  -20.761395  -21.752018
PctEmplProfServ          .           .           .           .       
PctOccupManu             .           .           .           .       
PctOccupMgmtProf         .           .           .           .       
MalePctDivorce          70.339867   68.644740   67.260093   65.935014
MalePctNevMarr           .           .           .           .       
FemalePctDiv             .           .           .           .       
TotalPctDiv              .           .           .           .       
PersPerFam               .           .           .           .       
PctFam2Par               .           .           .           .       
PctKids2Par           -131.733942 -133.857389 -135.756054 -137.573274
PctYoungKids2Par         .           .           .           .       
PctTeen2Par              .           .           .           .       
PctWorkMomYoungKids      .           .           .           .       
PctWorkMom             -22.997979  -23.640603  -24.204115  -24.722233
NumKidsBornNeverMar      .           .           .           .       
PctKidsBornNeverMar    253.280669  252.740145  252.181630  251.639613
NumImmig                 .           .           .           .       
PctImmigRecent           .           .           .           .       
PctImmigRec5             .           .           .           .       
PctImmigRec8             .           .           .           .       
PctImmigRec10            .           .           .           .       
PctRecentImmig           .           .           .           .       
PctRecImmig5             .           .           .           .       
PctRecImmig8             .           .           .           .       
PctRecImmig10            .           .           .           .       
PctSpeakEnglOnly         .           .           .           .       
PctNotSpeakEnglWell      .           .           .           .       
PctLargHouseFam          .           .           .           .       
PctLargHouseOccup        .           .           .           .       
PersPerOccupHous         .           .           .           .       
PersPerOwnOccHous        .           .           .           .       
PersPerRentOccHous       .           .           .           .       
PctPersOwnOccup          .           .           .           .       
PctPersDenseHous        51.011170   47.954879   45.462879   43.133674
PctHousLess3BR           .           .           .           .       
MedNumBR                 .           .           .           .       
HousVacant              37.080534   37.529153   37.945531   38.323585
PctHousOccup            -7.857004   -8.619324   -9.324344   -9.961504
PctHousOwnOcc            .           .           .           .       
PctVacantBoarded        24.735089   25.583750   26.376828   27.097951
PctVacMore6Mos           .           .           .           .       
MedYrHousBuilt           .           .           .           .       
PctHousNoPhone           .           .           .           .       
PctWOFullPlumb           .           .           .           .       
OwnOccLowQuart           .           .           .           .       
OwnOccMedVal             .           .           .           .       
OwnOccHiQuart            .           .           .           .       
OwnOccQrange             .           .           .           .       
RentLowQ                 .           .           .           .       
RentMedian               .           .           .           .       
RentHighQ                .           .           .           .       
RentQrange              11.650857   13.773984   15.659452   17.384516
MedRent                  .           .           .           .       
MedRentPctHousInc        2.403674    3.550937    4.643953    5.625427
MedOwnCostPctInc         .           .           .           .       
MedOwnCostPctIncNoMtg  -15.464923  -18.862585  -21.877271  -24.640833
NumInShelters            .           .           .           .       
NumStreet                .           .           .           .       
PctForeignBorn          10.358331   11.589973   12.580819   13.505724
PctBornSameState        -6.345477   -6.561684   -6.707302   -6.857480
PctSameHouse85           .           .           .           .       
PctSameCity85            .           .           .           .       
PctSameState85           .           .           .           .       
                                                                      
(Intercept)            594.330963  594.330963  594.3309632  594.330963
population               .           .           .            .       
householdsize            .           .           .            .       
agePct12t21              .           .           .            .       
agePct12t29            -34.178078  -37.087185  -39.6713607  -42.463313
agePct16t24              .           .           .            .       
agePct65up               .           .           .            .       
numbUrban                .           .           .            .       
pctUrban                43.065499   44.145082   45.1435662   46.053290
medIncome                .           .           .            .       
pctWWage                 .           .           .            .       
pctWFarmSelf             .           .           .            .       
pctWInvInc             -17.747365  -20.460115  -22.8604691  -25.245246
pctWSocSec               .           .           .            .       
pctWPubAsst              .           .           .            .       
pctWRetire             -14.601799  -16.895883  -18.9263571  -20.524248
medFamInc                .           .           .            .       
perCapInc                .           .           .            .       
NumUnderPov              .           .           .            .       
PctPopUnderPov           .           .           .            .       
PctLess9thGrade          .           .           .            .       
PctNotHSGrad             .           .           .            .       
PctBSorMore              .           .           .            .       
PctUnemployed            .           .           .            .       
PctEmploy                .           .           .            .       
PctEmplManu            -22.642844  -23.477777  -24.2140989  -24.863680
PctEmplProfServ          .           .           .            .       
PctOccupManu             .           .           .            .       
PctOccupMgmtProf         .           .           .            .       
MalePctDivorce          64.882996   63.697865   62.8472345   61.744232
MalePctNevMarr           .           .           .            .       
FemalePctDiv             .           .           .            .       
TotalPctDiv              .           .           .            .       
PersPerFam               .           .           .            .       
PctFam2Par               .           .           .            .       
PctKids2Par           -138.983949 -140.649908 -141.8065176 -142.885016
PctYoungKids2Par         .           .           .            .       
PctTeen2Par              .           .           .            .       
PctWorkMomYoungKids      .           .           .            .       
PctWorkMom             -25.177364  -25.619149  -25.9942024  -26.330942
NumKidsBornNeverMar      .           .           .            .       
PctKidsBornNeverMar    251.199756  250.725296  250.3549823  249.926547
NumImmig                 .           .           .            .       
PctImmigRecent           .           .           .            .       
PctImmigRec5             .           .           .            .       
PctImmigRec8             .           .           .            .       
PctImmigRec10            .           .           0.1926709    1.143712
PctRecentImmig           .           .           .            .       
PctRecImmig5             .           .           .            .       
PctRecImmig8             .           .           .            .       
PctRecImmig10            .           .           .            .       
PctSpeakEnglOnly         .           .           .            .       
PctNotSpeakEnglWell      .           .           .            .       
PctLargHouseFam          .           .           .            .       
PctLargHouseOccup        .           .           .            .       
PersPerOccupHous         .           .           .            .       
PersPerOwnOccHous        .           .           .            .       
PersPerRentOccHous       .           .           .            .       
PctPersOwnOccup          .           .           .            .       
PctPersDenseHous        41.110828   39.148824   37.4393655   35.859247
PctHousLess3BR           .           .           .            .       
MedNumBR                 .           .           .            .       
HousVacant              38.673246   38.983608   39.2608101   39.528178
PctHousOccup           -10.546998  -11.076132  -11.5596312  -12.005842
PctHousOwnOcc            .           .           .            .       
PctVacantBoarded        27.765186   28.355579   28.9167670   29.494545
PctVacMore6Mos           .           .           .            .       
MedYrHousBuilt           .           .           .            .       
PctHousNoPhone           .           .           .            .       
PctWOFullPlumb           .           .           .            .       
OwnOccLowQuart           .           .           .            .       
OwnOccMedVal             .           .           .            .       
OwnOccHiQuart            .           .           .            .       
OwnOccQrange             .           .           .            .       
RentLowQ                 .           .           .            .       
RentMedian               .           .           .            .       
RentHighQ                .           .           .            .       
RentQrange              18.937981   20.380844   21.6823302   22.907228
MedRent                  .           .           .            .       
MedRentPctHousInc        6.567413    7.350541    8.1101814    8.772716
MedOwnCostPctInc         .           .           .            .       
MedOwnCostPctIncNoMtg  -27.117117  -29.433185  -31.4667069  -33.324044
NumInShelters            .           .           .            .       
NumStreet                .           .           .            .       
PctForeignBorn          14.314707   15.087854   15.7388054   16.211779
PctBornSameState        -6.963209   -7.099500   -7.1603929   -7.192986
PctSameHouse85           .           .           .            .       
PctSameCity85            .           .           .            .       
PctSameState85           .           .           .            .       
                                                                         
(Intercept)            594.3309632  594.330963  594.33096321  594.3309632
population               .            .           .             .        
householdsize            .            .           .             .        
agePct12t21              .            .           .             .        
agePct12t29            -44.7337514  -46.273596  -47.82340921  -49.5913134
agePct16t24              .            .           .             .        
agePct65up               .            .           .             .        
numbUrban                .            .           .             .        
pctUrban                46.9800069   47.837584   48.32292919   48.7311684
medIncome                .            .           .             .        
pctWWage                -0.8905052   -4.070955   -8.49349089  -12.0288356
pctWFarmSelf             .            .           .             .        
pctWInvInc             -27.3708705  -30.212518  -33.80471501  -37.1835488
pctWSocSec               .            .           .             .        
pctWPubAsst              .            .           .             .        
pctWRetire             -22.4210527  -24.823813  -27.51559507  -29.8885094
medFamInc                .            .           .             .        
perCapInc                .            .           .             .        
NumUnderPov              .            .           .             .        
PctPopUnderPov           .            .           .             .        
PctLess9thGrade          .           -1.451784   -7.03877411  -11.8335400
PctNotHSGrad             .            .           .             .        
PctBSorMore              .            .           .             .        
PctUnemployed            .            .           .             .        
PctEmploy                .            .           .             .        
PctEmplManu            -25.4401605  -25.812260  -25.75862289  -25.6880614
PctEmplProfServ          .            .           .             .        
PctOccupManu             .            .           .             .        
PctOccupMgmtProf         .            .           .             .        
MalePctDivorce          60.6328178   59.667374   57.93235932   55.9813355
MalePctNevMarr           .            .           .             .        
FemalePctDiv             .            .           .             .        
TotalPctDiv              .            .           .             .        
PersPerFam               .            .           .             .        
PctFam2Par               .            .           .             .        
PctKids2Par           -143.5899009 -142.329998 -142.29093033 -142.3367218
PctYoungKids2Par         .            .           .             .        
PctTeen2Par              .            .           .             .        
PctWorkMomYoungKids      .            .           .             .        
PctWorkMom             -26.5340881  -26.533684  -26.30701525  -26.2738740
NumKidsBornNeverMar      .            .           .             .        
PctKidsBornNeverMar    249.6429830  250.219505  249.97521042  249.8666029
NumImmig                 .            .           .             .        
PctImmigRecent           .            .           .             .        
PctImmigRec5             .            .           .             .        
PctImmigRec8             .            .           .             .        
PctImmigRec10            1.7675647    2.141072    2.29516866    2.4415312
PctRecentImmig           .            .           .             .        
PctRecImmig5             .            .           .             .        
PctRecImmig8             .            .           .             .        
PctRecImmig10            .            .           .             .        
PctSpeakEnglOnly         .            .           .             .        
PctNotSpeakEnglWell      .            .           .             .        
PctLargHouseFam          .            .           .             .        
PctLargHouseOccup        .            .           .             .        
PersPerOccupHous         .            .           .             .        
PersPerOwnOccHous        .            .           .             .        
PersPerRentOccHous       .            .           .             .        
PctPersOwnOccup          .            .           .             .        
PctPersDenseHous        34.4408011   33.841626   35.66812739   36.9940519
PctHousLess3BR           .            .           .             .        
MedNumBR                 .            .          -0.04055896   -0.8517513
HousVacant              39.7610100   39.883493   39.94076098   39.9622362
PctHousOccup           -12.3857763  -12.677891  -12.77957671  -12.8434075
PctHousOwnOcc            .            .           .             .        
PctVacantBoarded        30.1333897   31.007815   31.94186706   32.7683631
PctVacMore6Mos          -0.3640122   -1.514520   -2.44134586   -3.2497046
MedYrHousBuilt           .            .           .             .        
PctHousNoPhone           .            .           .             .        
PctWOFullPlumb           .            .           .             .        
OwnOccLowQuart           .            .           .             .        
OwnOccMedVal             .            .           .             .        
OwnOccHiQuart            .            .           .             .        
OwnOccQrange             .            .           .             .        
RentLowQ                 .            .           .             .        
RentMedian               .            .           .             .        
RentHighQ                .            .           .             .        
RentQrange              24.1208078   25.591146   26.77926179   27.8784687
MedRent                  .            .           .             .        
MedRentPctHousInc        9.1780273    9.028599    8.47525448    8.0352135
MedOwnCostPctInc         .            .           .             .        
MedOwnCostPctIncNoMtg  -34.9846675  -36.233610  -36.86597487  -37.5772775
NumInShelters            .            .           .             .        
NumStreet                .            .           .             .        
PctForeignBorn          16.5730580   16.851829   17.44348938   17.7064513
PctBornSameState        -7.3052226   -7.292552   -6.73303302   -6.2978158
PctSameHouse85           .            .           .             .        
PctSameCity85            .            .           .             .        
PctSameState85           .            .           .             .        
                                                                       
(Intercept)            594.330963  594.330963  594.3309632  594.3309632
population               .           .           .            .        
householdsize            .           .           .            .        
agePct12t21              .           .           .            .        
agePct12t29            -51.036648  -51.882307  -52.3537000  -53.0033025
agePct16t24              .           .           .            .        
agePct65up               .           .           .            .        
numbUrban                .           .           .            .        
pctUrban                49.164496   49.436638   49.5675314   49.5589299
medIncome                .           .           .            .        
pctWWage               -15.014052  -14.113792  -13.0824367  -13.7680145
pctWFarmSelf             .           .           .            .        
pctWInvInc             -40.551768  -43.595645  -46.4841229  -50.0464862
pctWSocSec               1.147901    5.955869   10.2356397   11.9241375
pctWPubAsst              .           .           .            .        
pctWRetire             -32.461733  -35.005688  -37.2862275  -39.6550746
medFamInc                .           .           .            .        
perCapInc                .           .           .            .        
NumUnderPov              .           .           .            .        
PctPopUnderPov           .           .           .            .        
PctLess9thGrade        -15.571973  -17.179625  -18.3879676  -20.1403629
PctNotHSGrad             .           .           .            .        
PctBSorMore              .           .           .            .        
PctUnemployed            .           .           .            .        
PctEmploy                .           .           .            .        
PctEmplManu            -25.648356  -25.836643  -26.1188339  -26.6837146
PctEmplProfServ          .           .           .            .        
PctOccupManu             .           .           .            .        
PctOccupMgmtProf         .           .           .            .        
MalePctDivorce          53.821359   52.622401   51.7965927   53.9510186
MalePctNevMarr           .           .           .            .        
FemalePctDiv             .           .           .           -4.4791361
TotalPctDiv              .           .           .            .        
PersPerFam               .           .           .            .        
PctFam2Par               .           .           .            .        
PctKids2Par           -142.182034 -140.541316 -138.8575405 -138.8976187
PctYoungKids2Par         .           .           .            .        
PctTeen2Par              .           .           .            .        
PctWorkMomYoungKids      .           .           .            .        
PctWorkMom             -26.255937  -26.742436  -27.2526772  -27.5678715
NumKidsBornNeverMar      .           .           .            .        
PctKidsBornNeverMar    249.459507  249.651391  249.9419929  249.2965673
NumImmig                -2.550807   -5.694393   -8.4479639  -11.0545270
PctImmigRecent           .           .           .            0.3183018
PctImmigRec5             .           .           .            .        
PctImmigRec8             .           .           .            .        
PctImmigRec10            2.497301    2.521077    2.6278799    2.8474506
PctRecentImmig           .           .           .            .        
PctRecImmig5             .           .           .            .        
PctRecImmig8             .           .           .            .        
PctRecImmig10            .           .           .            .        
PctSpeakEnglOnly         .           .           0.1158528    2.0024199
PctNotSpeakEnglWell     -4.938996  -15.416738  -24.9332048  -31.7558955
PctLargHouseFam          .           .           .            .        
PctLargHouseOccup        .           .           .            .        
PersPerOccupHous         .           .           .            .        
PersPerOwnOccHous        .           .           .            .        
PersPerRentOccHous       .           .           .            .        
PctPersOwnOccup          .           .           .            .        
PctPersDenseHous        41.239549   47.332360   52.5012506   57.3545967
PctHousLess3BR           .           .           .            .        
MedNumBR                -1.574712   -2.200347   -2.8119209   -3.5136538
HousVacant              42.311971   45.284325   47.8705704   50.2681383
PctHousOccup           -12.422121  -12.190052  -12.1559176  -12.1407803
PctHousOwnOcc            .           .           .            .        
PctVacantBoarded        33.315973   34.028723   34.6143506   35.0016974
PctVacMore6Mos          -3.978802   -4.794132   -5.6838404   -7.1218379
MedYrHousBuilt           .           .           .            .        
PctHousNoPhone           .           .           .            .        
PctWOFullPlumb           .           .           .            .        
OwnOccLowQuart           .           .           .            .        
OwnOccMedVal             .           .           .            .        
OwnOccHiQuart            .           .           .            .        
OwnOccQrange             .           .           .            .        
RentLowQ                 .           .           .            .        
RentMedian               .           .           .            .        
RentHighQ                .           .           .            .        
RentQrange              29.020111   29.806379   30.4712152   30.9406382
MedRent                  .           .           .            .        
MedRentPctHousInc        7.354835    6.921384    6.5993763    6.3762169
MedOwnCostPctInc         .           .           .            .        
MedOwnCostPctIncNoMtg  -38.137580  -38.985890  -39.9385587  -40.9589444
NumInShelters            .           .           .            .        
NumStreet                .           .           .            .        
PctForeignBorn          20.052564   25.332110   30.2539108   34.5733722
PctBornSameState        -5.943078   -5.548279   -5.4324636   -6.0133638
PctSameHouse85           .           .           0.9099916    3.3331303
PctSameCity85            .           .           .            .        
PctSameState85           .           .           .            .        
                                                                         
(Intercept)            594.3309632  594.3309632  594.3309632  594.3309632
population               .            .            .            .        
householdsize            .            .            .            .        
agePct12t21              .            .            .            .        
agePct12t29            -54.4381715  -56.0277467  -57.3301240  -59.0491469
agePct16t24              .            .            .            .        
agePct65up               .            .            .            .        
numbUrban                .            .            .            .        
pctUrban                49.4548180   49.4610724   49.5300349   49.8069882
medIncome                .            .            .            .        
pctWWage               -15.5424067  -17.6607589  -19.2805167  -19.8166213
pctWFarmSelf             .            0.6499308    1.4806103    2.0125630
pctWInvInc             -53.9004269  -57.3609202  -60.6593536  -63.2406316
pctWSocSec              11.1876348   10.7266846   10.0289778    7.9700886
pctWPubAsst              .            .            .            .        
pctWRetire             -41.6346025  -43.5332462  -45.1476349  -46.5495535
medFamInc                .            .            .            .        
perCapInc                .            .            .            .        
NumUnderPov              .            .            .            .        
PctPopUnderPov           .            .            .            .        
PctLess9thGrade        -20.7394157  -22.8602508  -24.7060659  -27.7006742
PctNotHSGrad             .            .            .            2.8821059
PctBSorMore              .            .            .            .        
PctUnemployed            .            .            .            .        
PctEmploy                .            .            .            .        
PctEmplManu            -27.4828702  -27.7304887  -27.9400913  -28.5650640
PctEmplProfServ          .            .            .            .        
PctOccupManu             .            .            .            .        
PctOccupMgmtProf         .            .            .            .        
MalePctDivorce          59.2335306   63.7551746   68.0087408   72.2869161
MalePctNevMarr           .            .            .            .        
FemalePctDiv           -13.3398326  -21.2971649  -28.8238540  -36.4961132
TotalPctDiv              .            .            .            .        
PersPerFam               .            .            .            .        
PctFam2Par               .            .            .            .        
PctKids2Par           -143.7944811 -150.7768604 -156.8549228 -160.1602983
PctYoungKids2Par         3.8587205   10.0276727   15.1423735   19.0378596
PctTeen2Par              .            .            .            .        
PctWorkMomYoungKids      .            .            .            .        
PctWorkMom             -27.9457059  -28.3743083  -28.8162969  -29.1831634
NumKidsBornNeverMar      .            .            .            .        
PctKidsBornNeverMar    248.0013050  247.4687665  246.7655761  246.3533154
NumImmig               -13.5278323  -15.7104793  -17.7730146  -19.7262406
PctImmigRecent           0.9096869    1.4735100    1.9987242    2.4139650
PctImmigRec5             .            .            .            .        
PctImmigRec8             .            .            .            .        
PctImmigRec10            2.6969055    2.6040430    2.3347101    2.1495060
PctRecentImmig           .            .            .            .        
PctRecImmig5             .            .            .            .        
PctRecImmig8             .            .            .            .        
PctRecImmig10            .            .            .            .        
PctSpeakEnglOnly         5.7721036    7.8595156    9.9922394   12.3000108
PctNotSpeakEnglWell    -37.7160703  -41.2032037  -44.9676899  -48.6607436
PctLargHouseFam          .            .            .            .        
PctLargHouseOccup        .            .            .            .        
PersPerOccupHous         .            .            .            .        
PersPerOwnOccHous        .            .           -0.8960924   -3.3408843
PersPerRentOccHous       .            .            .            .        
PctPersOwnOccup          .            .            .            .        
PctPersDenseHous        61.3241402   64.4951868   68.0504768   71.8429108
PctHousLess3BR           .            .            .            .        
MedNumBR                -4.0408429   -4.5910161   -4.8668172   -5.0866259
HousVacant              52.5140248   54.4751067   56.3215871   57.9953020
PctHousOccup           -11.9306165  -11.4718857  -11.0189786  -10.7101660
PctHousOwnOcc            .            .            .            .        
PctVacantBoarded        35.4695854   35.6227037   35.8604613   36.1521487
PctVacMore6Mos          -8.6332335   -9.8893171  -11.0780099  -12.5506498
MedYrHousBuilt           .            .            .            .        
PctHousNoPhone           .            .            .            0.1846494
PctWOFullPlumb           .            .            .            .        
OwnOccLowQuart           .            .            .            .        
OwnOccMedVal             .            .            .            .        
OwnOccHiQuart            .            .            .            .        
OwnOccQrange             .            .            .            .        
RentLowQ                 .            .            .           -1.8389731
RentMedian               .            .            .            .        
RentHighQ                .            .            .            .        
RentQrange              31.1236797   31.2941612   31.4050112   31.6270194
MedRent                  .            .            .            .        
MedRentPctHousInc        6.2819921    6.2832792    6.2493694    6.6944651
MedOwnCostPctInc         .            .            .            .        
MedOwnCostPctIncNoMtg  -41.8978411  -42.5903175  -43.1186880  -43.6047556
NumInShelters            .            .            .            .        
NumStreet                .            .            .            .        
PctForeignBorn          40.0863701   42.7520205   45.8707646   49.6063726
PctBornSameState        -6.3589076   -6.6922293   -6.9458512   -7.4101268
PctSameHouse85           5.1100705    6.4859397    7.9760545    9.8571464
PctSameCity85            .            .            .            .        
PctSameState85           .            .            .            .        
                                                                        
(Intercept)            594.330963  594.330963  594.33096321  594.3309632
population               .           .           .             .        
householdsize            .           .           .             .        
agePct12t21              .           .           0.70336114    3.4710459
agePct12t29            -60.743430  -63.141740  -68.23157207  -74.4970504
agePct16t24              .           .           .             .        
agePct65up               .           .           .             .        
numbUrban                .           .           .             .        
pctUrban                49.863821   49.958012   50.00424824   50.1462535
medIncome                .           .           .             .        
pctWWage               -20.912277  -22.883293  -28.79994280  -37.6487598
pctWFarmSelf             2.660891    3.312287    4.12598770    5.1561764
pctWInvInc             -62.384256  -62.820150  -63.97624483  -62.4883836
pctWSocSec               4.351800    1.570371    0.91963089    2.9175955
pctWPubAsst              .           .           .             .        
pctWRetire             -47.865755  -48.902106  -49.12589717  -49.1029759
medFamInc                .           .           .             .        
perCapInc                .           .           .             .        
NumUnderPov              .           .           .             .        
PctPopUnderPov           .           .           .             .        
PctLess9thGrade        -37.559590  -44.801889  -51.48005173  -56.3763439
PctNotHSGrad            13.951263   21.850256   29.00497519   33.0549060
PctBSorMore              .           .           .             .        
PctUnemployed            .           .           .             .        
PctEmploy                .           1.382312    8.22861947   18.9358490
PctEmplManu            -29.403448  -30.000050  -30.50494993  -30.9541685
PctEmplProfServ          .           .           .             .        
PctOccupManu             .           .           .             .        
PctOccupMgmtProf         .           .           .             .        
MalePctDivorce          74.003950   75.619434   77.71969936   82.2207963
MalePctNevMarr           .           1.235320    6.87978112   16.8265430
FemalePctDiv           -41.521434  -46.820364  -52.53225465  -56.3174610
TotalPctDiv              .           .           .             .        
PersPerFam               .           .           .             .        
PctFam2Par               .           .           .             .        
PctKids2Par           -163.896358 -168.378180 -173.29730221 -179.2766584
PctYoungKids2Par        23.750454   27.956204   32.38829349   38.3911260
PctTeen2Par              .           .           .             1.2737514
PctWorkMomYoungKids      .           .           1.37686125    4.1326979
PctWorkMom             -29.337926  -29.822314  -32.55124856  -37.6379189
NumKidsBornNeverMar      .           .           .             .        
PctKidsBornNeverMar    245.907683  244.750003  242.51291926  240.2235176
NumImmig               -21.341523  -22.856018  -24.25161341  -26.2960821
PctImmigRecent           2.890619    3.293240    4.04057105    5.6691638
PctImmigRec5             .           .           .             .        
PctImmigRec8             .           .           .             .        
PctImmigRec10            1.763537    1.551327    1.64747479    1.3106893
PctRecentImmig           .           .          -1.12494712   -5.3932432
PctRecImmig5             .           .           .             .        
PctRecImmig8             .           .           .             .        
PctRecImmig10            .           .           .             .        
PctSpeakEnglOnly        13.987605   15.269873   16.03469292   18.1649398
PctNotSpeakEnglWell    -51.134052  -53.995520  -57.18911155  -62.6152187
PctLargHouseFam          .           .           .             .        
PctLargHouseOccup        .          -1.380722   -6.06165207  -16.0346760
PersPerOccupHous         .           .           1.53665684   14.7938872
PersPerOwnOccHous       -5.192886   -5.896459   -4.08871581   -6.3402124
PersPerRentOccHous       .           .           .             .        
PctPersOwnOccup          .           .           .             .        
PctPersDenseHous        74.768505   78.591888   84.63735424   91.6762796
PctHousLess3BR           .           .           .             .        
MedNumBR                -5.472780   -5.663805   -5.62395539   -6.4220763
HousVacant              59.262733   60.454386   61.29921095   61.7372043
PctHousOccup           -10.731297  -10.646938  -10.35233326  -10.3734100
PctHousOwnOcc            .           .           .             .        
PctVacantBoarded        36.360016   36.524365   36.51878735   36.5151401
PctVacMore6Mos         -14.128688  -15.407134  -16.31964448  -17.7322692
MedYrHousBuilt           .           .           0.02995071    0.7601535
PctHousNoPhone           1.409082    2.491180    4.14376895    5.3357218
PctWOFullPlumb           .           .           .             .        
OwnOccLowQuart           .           .           .             .        
OwnOccMedVal             .           .           .             .        
OwnOccHiQuart            .           .           .             .        
OwnOccQrange             .           .           .             .        
RentLowQ                -4.356330   -6.443194  -10.29920913  -27.6623828
RentMedian               .           .           .             .        
RentHighQ                .           .           .             .        
RentQrange              31.762660   31.809479   30.93135231   25.1477904
MedRent                  .           .           2.49781706   17.0699272
MedRentPctHousInc        7.126393    7.441133    7.55118766    7.0557772
MedOwnCostPctInc         .           .           .             .        
MedOwnCostPctIncNoMtg  -44.011386  -44.581882  -45.51974673  -45.6727402
NumInShelters            .           .           0.29302043    1.8681087
NumStreet                .           .           .             .        
PctForeignBorn          53.112696   55.696209   57.29271772   66.3560626
PctBornSameState        -7.553772   -8.001433   -8.83566796   -9.0253904
PctSameHouse85          11.276010   12.460950   12.32874670   12.1244740
PctSameCity85            .           .           .             .        
PctSameState85           .           .           .             .        
                                                                         
(Intercept)            594.3309632  594.3309632  594.330963  594.33096321
population               .            .            .           .         
householdsize            .            .            .           .         
agePct12t21              5.8259090    9.9639975   13.211638   15.96648102
agePct12t29            -80.0094384  -89.3574926  -95.587861 -101.49023919
agePct16t24              .            .            .           .         
agePct65up               .            .            .           .         
numbUrban                .            .            .           .         
pctUrban                50.3104692   50.6119488   50.666723   50.76052623
medIncome                .            .            .          -0.06776869
pctWWage               -42.7406697  -46.2035773  -49.216852  -52.50252879
pctWFarmSelf             5.9085607    6.6277157    7.508151    8.29493932
pctWInvInc             -62.3165947  -62.0191272  -63.195428  -63.51009204
pctWSocSec               5.3558291    8.9057069   12.775471   16.85580037
pctWPubAsst              .            .            .           .         
pctWRetire             -49.3269997  -50.0236561  -49.975283  -50.09855082
medFamInc                .            .            .           .         
perCapInc                .            .            .           .         
NumUnderPov              .            .            .          -0.15029378
PctPopUnderPov           .            .            .           .         
PctLess9thGrade        -60.0309802  -64.9174697  -70.454407  -76.26306109
PctNotHSGrad            35.5628214   38.9390084   44.495392   50.34076538
PctBSorMore              .            .            .           .         
PctUnemployed            .            .            .           .         
PctEmploy               26.9312363   32.9427912   39.334106   45.56550040
PctEmplManu            -31.3968058  -31.6309309  -31.552601  -31.61402280
PctEmplProfServ          .            .            .           .         
PctOccupManu             .            .            .           .         
PctOccupMgmtProf         .            0.4930963    4.064077    7.31300271
MalePctDivorce          85.6258480   89.4674342   93.757787   97.92838690
MalePctNevMarr          24.5746348   32.9528086   39.014001   45.59765566
FemalePctDiv           -59.4130662  -62.3603347  -66.010959  -69.03597307
TotalPctDiv              .            .            .           .         
PersPerFam               .            .            .           .         
PctFam2Par               .            .            .           .         
PctKids2Par           -184.2748840 -186.0709330 -188.751656 -190.32462233
PctYoungKids2Par        42.2037594   46.0525158   49.292951   52.30029974
PctTeen2Par              4.1051091    5.9059450    7.881933    9.41050130
PctWorkMomYoungKids      6.0233111    8.5421485   10.503837   12.27776076
PctWorkMom             -41.4681600  -45.0663914  -47.950526  -50.56832882
NumKidsBornNeverMar      .            .            .           .         
PctKidsBornNeverMar    239.0009634  237.2242374  235.626889  234.09206873
NumImmig               -28.1162149  -29.9144605  -31.273800  -32.58098276
PctImmigRecent           6.9099136    8.0340249    8.703406    9.05630659
PctImmigRec5             .            .            .           .         
PctImmigRec8             .            .            .           .         
PctImmigRec10            1.1998490    1.1119531    1.686351    2.17259805
PctRecentImmig          -9.0990792  -13.4314035  -12.081429   -9.09854152
PctRecImmig5             .           -0.2029252   -8.631436  -17.13813675
PctRecImmig8             .            .            .           .         
PctRecImmig10            .            .            .           .         
PctSpeakEnglOnly        19.6857131   20.7116349   22.613195   24.41153161
PctNotSpeakEnglWell    -65.1909505  -67.2832162  -68.220113  -69.03450371
PctLargHouseFam          .            .            .           .         
PctLargHouseOccup      -22.2609823  -28.7361811  -34.586325  -40.68130022
PersPerOccupHous        24.1137600   34.5994993   43.754811   54.76112079
PersPerOwnOccHous       -9.0821532  -11.4460411  -13.339912  -15.66428456
PersPerRentOccHous       .            .            .           .         
PctPersOwnOccup         -0.0551069   -5.7076497   -9.771184  -14.28195770
PctPersDenseHous        95.6055053   99.1456816  103.298352  106.38265917
PctHousLess3BR           .            .            .           .         
MedNumBR                -7.0593292   -7.3630239   -7.670593   -8.01316868
HousVacant              62.0606697   62.6369153   63.027363   63.50363012
PctHousOccup           -10.3022181  -10.0942741  -10.080483  -10.14511036
PctHousOwnOcc            .            .            .           .         
PctVacantBoarded        36.5008020   36.8138021   37.046349   37.22189821
PctVacMore6Mos         -18.8304485  -19.7805681  -20.622077  -21.48957760
MedYrHousBuilt           1.3289620    3.0191490    4.027851    5.24603152
PctHousNoPhone           6.2236255    6.8155764    6.340126    6.18158199
PctWOFullPlumb           .            .            .           .         
OwnOccLowQuart           .            .            .           .         
OwnOccMedVal             .            .            .           .         
OwnOccHiQuart            .            .            .          -0.08125053
OwnOccQrange             .            .            .           .         
RentLowQ               -40.8104824  -54.6157008  -63.954413  -74.04061593
RentMedian               .            .            .           .         
RentHighQ                .            .            .           .         
RentQrange              20.7578972   15.6903437   11.963868    7.93492194
MedRent                 28.3154463   41.2043931   49.052682   57.59980977
MedRentPctHousInc        6.8449203    7.2926148    7.802144    8.22428117
MedOwnCostPctInc         .            .            .           .         
MedOwnCostPctIncNoMtg  -46.0059674  -46.6361703  -46.914569  -47.26097103
NumInShelters            3.3332226    4.5185300    5.498764    6.50805328
NumStreet                .            .            .           .         
PctForeignBorn          72.8680209   78.7709119   86.422159   92.94514800
PctBornSameState        -9.1902880   -7.9374333   -7.032893   -6.28287555
PctSameHouse85          11.9386383   13.8937330   14.703590   15.69059363
PctSameCity85            .            .            .           .         
PctSameState85          -0.0878168   -2.1624820   -3.489537   -4.61519009
                                                                           
(Intercept)            594.3309632  594.33096321  5.943310e+02  594.3309632
population               .            .           .               .        
householdsize            .            .           .               .        
agePct12t21             19.3866693   22.98027469  2.626249e+01   29.1319280
agePct12t29           -108.5532140 -115.64054800 -1.224088e+02 -128.1110127
agePct16t24              .            .           .               .        
agePct65up              -1.0914074   -5.72893848 -1.053132e+01  -16.5176444
numbUrban                .            .           .               .        
pctUrban                50.9772737   51.24118014  5.162203e+01   52.1205125
medIncome               -5.4604591   -8.50655993 -1.179078e+01  -15.4414227
pctWWage               -55.3365698  -59.18853263 -6.258907e+01  -65.4977609
pctWFarmSelf             9.2564903   10.09724352  1.080424e+01   11.4101808
pctWInvInc             -62.7252623  -62.86882769 -6.283157e+01  -62.3524665
pctWSocSec              20.1322084   23.98246930  2.839831e+01   33.1964934
pctWPubAsst              .            .           .               .        
pctWRetire             -50.3037135  -50.18113753 -5.055600e+01  -51.1905937
medFamInc                .            .           .               .        
perCapInc                .            .           .               .        
NumUnderPov            -10.2022952  -15.99210986 -2.100858e+01  -26.0058231
PctPopUnderPov          -0.3207616   -2.97218751 -5.774027e+00   -8.7057267
PctLess9thGrade        -81.3774484  -85.11833367 -8.879163e+01  -92.4607700
PctNotHSGrad            55.8290527   59.98244453  6.376428e+01   67.3863083
PctBSorMore              .            .           .               .        
PctUnemployed            .            .           .               .        
PctEmploy               50.0609466   54.11628181  5.743571e+01   59.2864194
PctEmplManu            -31.5353295  -31.45156455 -3.129876e+01  -32.0890756
PctEmplProfServ          .            .           .               .        
PctOccupManu             .            .           .               2.2591672
PctOccupMgmtProf        12.0550930   16.25508525  2.015025e+01   24.8130397
MalePctDivorce         101.7200491  104.38321649  1.072506e+02  109.8550539
MalePctNevMarr          51.7457440   56.70318533  6.110643e+01   64.5697073
FemalePctDiv           -71.5201068  -74.89463100 -7.810659e+01  -81.1355698
TotalPctDiv              .            .           .               .        
PersPerFam               .            .           .               .        
PctFam2Par               .            .           .               .        
PctKids2Par           -191.2784943 -194.33772432 -1.970982e+02 -198.6208059
PctYoungKids2Par        54.7970666   56.82197306  5.871850e+01   60.1857453
PctTeen2Par             10.6258264   11.75170090  1.281392e+01   13.2443521
PctWorkMomYoungKids     14.8255512   16.69878182  1.853893e+01   20.6243396
PctWorkMom             -54.2297310  -57.04318821 -5.967571e+01  -62.3134595
NumKidsBornNeverMar      .            .           .               .        
PctKidsBornNeverMar    232.9166605  231.19845344  2.296266e+02  228.2107111
NumImmig               -28.9501995  -27.46256754 -2.617027e+01  -24.6441855
PctImmigRecent           9.6826387   10.26164749  1.089050e+01   11.6678367
PctImmigRec5             .            .           .               .        
PctImmigRec8             .            .           .               .        
PctImmigRec10            2.6901639    3.05472678  3.245370e+00    3.3686411
PctRecentImmig          -6.9806699   -5.20258247 -4.127691e+00   -5.0743678
PctRecImmig5           -25.2144274  -30.74717648 -3.531597e+01  -38.3304755
PctRecImmig8             .            .           .               .        
PctRecImmig10            .            .           .               .        
PctSpeakEnglOnly        26.3519599   27.27669491  2.799245e+01   28.7964482
PctNotSpeakEnglWell    -69.8603776  -70.87591985 -7.210535e+01  -73.4764173
PctLargHouseFam          .            .           .               .        
PctLargHouseOccup      -47.7124270  -52.44273484 -5.705343e+01  -61.7561980
PersPerOccupHous        67.0596842   77.15712416  8.636034e+01   94.7298478
PersPerOwnOccHous      -17.7326603  -20.52559296 -2.326137e+01  -26.1124153
PersPerRentOccHous       .            .           .               .        
PctPersOwnOccup        -18.4381583  -21.69430664 -2.522663e+01  -28.9410099
PctPersDenseHous       108.6737375  109.49700697  1.113024e+02  113.2549141
PctHousLess3BR           1.4236872    4.33449148  6.454006e+00    8.0394203
MedNumBR                -7.8056243   -7.48436918 -7.244063e+00   -7.0728053
HousVacant              67.9087958   70.92465211  7.356523e+01   76.0567636
PctHousOccup            -9.7535621   -9.49629335 -9.269951e+00   -9.4108782
PctHousOwnOcc            .            .           .               .        
PctVacantBoarded        37.4884972   37.54708325  3.769510e+01   37.9806409
PctVacMore6Mos         -22.4450587  -23.23010820 -2.398773e+01  -24.8942429
MedYrHousBuilt           6.1029894    6.82856331  7.562839e+00    8.4150576
PctHousNoPhone           6.1093450    6.52154640  6.817344e+00    7.1874206
PctWOFullPlumb           .            .          -6.559133e-03   -0.4668446
OwnOccLowQuart           .            .           .               .        
OwnOccMedVal             .            .           .               .        
OwnOccHiQuart           -1.9163615   -3.46256878 -4.085469e+00   -5.4310307
OwnOccQrange             .           -0.03873025 -9.264538e-01   -1.8542858
RentLowQ               -82.9972077  -89.37946793 -9.536469e+01  -98.5461045
RentMedian               .            .           .               .        
RentHighQ                .            .           .               .        
RentQrange               4.5816683    1.88902394  .               .        
MedRent                 68.8874025   76.30263468  8.291126e+01   87.0537266
MedRentPctHousInc        7.9872369    8.34180050  8.528361e+00    8.4426501
MedOwnCostPctInc         .            .           .               .        
MedOwnCostPctIncNoMtg  -47.7532758  -48.31379209 -4.886183e+01  -49.4223233
NumInShelters            8.8600272   10.34921899  1.159246e+01   12.7051123
NumStreet                .            .           .               .        
PctForeignBorn          99.7260404  104.12880353  1.081829e+02  112.9463248
PctBornSameState        -5.6832139   -5.23718246 -4.707403e+00   -4.6041056
PctSameHouse85          17.1076239   18.23687402  2.016422e+01   22.1613723
PctSameCity85            .           -0.14486132 -1.526596e+00   -2.4767759
PctSameState85          -5.4261641   -5.96404050 -6.377226e+00   -6.5097254
                                                                           
(Intercept)            594.3309632  594.33096321  594.33096321  594.3309632
population               .            .             .             .        
householdsize            .            .             .            -0.0694044
agePct12t21             31.3242908   34.35278144   35.28625800   36.0388004
agePct12t29           -133.0940880 -138.54681925 -142.72554549 -149.3743020
agePct16t24              .            .             0.11642423    2.6833461
agePct65up             -20.3724870  -27.70395123  -33.06907636  -38.2295214
numbUrban                .           -0.01955467   -2.59494760   -5.9795068
pctUrban                52.4141761   52.74267436   53.01825361   53.3865195
medIncome              -19.2222310  -24.63780956  -29.78828319  -34.0189727
pctWWage               -66.7971692  -70.21005401  -72.24005024  -75.1790287
pctWFarmSelf            11.9455614   12.86929051   13.57890038   14.2596982
pctWInvInc             -62.4556678  -62.80923756  -62.73511190  -63.1427791
pctWSocSec              36.4776408   41.15764573   44.47682371   47.7951653
pctWPubAsst              .            .             .             .        
pctWRetire             -51.4575797  -51.72430790  -52.38142489  -52.7203486
medFamInc                .            .             .             .        
perCapInc                .            .             .             0.2039164
NumUnderPov            -29.8248006  -35.96267836  -41.48168415  -44.7381158
PctPopUnderPov         -10.4936772  -12.16865463  -13.55269850  -14.9737444
PctLess9thGrade        -95.5905302  -99.44457225 -102.98522260 -105.5442323
PctNotHSGrad            69.7905122   73.52020564   76.28010715   78.4639229
PctBSorMore              .            .             .             .        
PctUnemployed            .            .             .             0.2853346
PctEmploy               61.0718473   62.75018370   64.31469350   66.9889018
PctEmplManu            -33.3952370  -34.44994429  -35.45653537  -36.1534549
PctEmplProfServ          .            .             .             .        
PctOccupManu             5.8434389    9.34438301   11.53148285   13.1524211
PctOccupMgmtProf        28.9040866   33.87579947   37.60564520   41.0538925
MalePctDivorce         111.3181439  113.27117451  115.04436062  116.9654953
MalePctNevMarr          67.3365918   68.70516730   71.16152876   74.2598057
FemalePctDiv           -83.6741084  -87.05126984  -89.78691292  -91.9737180
TotalPctDiv              .            .             .             .        
PersPerFam               .           -0.05720837   -9.75435065  -18.8759044
PctFam2Par               .            .             .             .        
PctKids2Par           -200.2781005 -205.80617098 -209.31667678 -212.0704667
PctYoungKids2Par        61.5578823   63.54550236   65.07282989   66.5413160
PctTeen2Par             13.6116568   14.89106360   16.05250413   17.1134185
PctWorkMomYoungKids     22.1891540   24.25806377   25.60270933   26.9097180
PctWorkMom             -64.6394848  -67.03699895  -68.97494391  -70.8370981
NumKidsBornNeverMar      .            .            -0.05787226   -1.1980613
PctKidsBornNeverMar    227.0948007  224.77996791  223.85835089  223.0876820
NumImmig               -23.5317542  -21.10753742  -17.93695280  -15.0331729
PctImmigRecent          12.3360925   12.93622224   13.32653638   13.5330576
PctImmigRec5             .            .             .             .        
PctImmigRec8             .            .             .             .        
PctImmigRec10            3.5532614    4.17683956    5.02821509    5.7113722
PctRecentImmig          -6.1054391   -5.17479420   -3.17569801   -0.8164206
PctRecImmig5           -40.9123782  -46.89776497  -53.76847599  -58.8615042
PctRecImmig8             .            .             .             .        
PctRecImmig10            .            .             .             .        
PctSpeakEnglOnly        29.1671924   29.38235471   29.20988282   28.2143133
PctNotSpeakEnglWell    -74.4005024  -75.67513250  -76.24391402  -77.5618776
PctLargHouseFam          .            .             .             .        
PctLargHouseOccup      -64.8050398  -67.39246270  -67.44249488  -67.6320313
PersPerOccupHous       100.7060448  115.51071610  134.85345016  154.6959685
PersPerOwnOccHous      -28.3154361  -35.11850767  -39.53404093  -43.5926313
PersPerRentOccHous      -1.4110831   -8.58294354  -14.69334398  -20.4882221
PctPersOwnOccup        -31.6524095  -36.12674920  -39.57801893  -43.1853987
PctPersDenseHous       115.2989483  116.93304272  118.29246021  118.5964851
PctHousLess3BR           8.9044105    8.99494711    9.82427881   11.4154903
MedNumBR                -6.8777095   -6.96596971   -6.81680632   -6.5488155
HousVacant              77.9085625   80.72765105   84.56949731   88.1935973
PctHousOccup            -9.5050620   -9.61124743   -9.28594092   -8.9528161
PctHousOwnOcc            .            .             .             0.2476706
PctVacantBoarded        38.3351217   38.83312464   39.28171908   39.5841169
PctVacMore6Mos         -25.4406985  -25.98881047  -26.37477239  -26.7535376
MedYrHousBuilt           9.3648861   10.12932878   10.18094580   10.2679628
PctHousNoPhone           7.6460252    7.30822371    7.47382717    7.6698372
PctWOFullPlumb          -0.8785345   -1.43145269   -1.80450059   -2.1639540
OwnOccLowQuart           .            .             .             .        
OwnOccMedVal             .            .             .             .        
OwnOccHiQuart           -6.2017222   -7.62211330   -7.78562274   -8.3095654
OwnOccQrange            -2.6928335   -3.74713123   -4.23338688   -4.6101698
RentLowQ               -99.7607724 -100.71600750 -101.92366018 -103.4297236
RentMedian               .            .             .             .        
RentHighQ                .           -0.02270314   -7.47681347  -15.2551577
RentQrange               .            .             .             .        
MedRent                 90.0211909   95.38542207  104.69580078  114.1936777
MedRentPctHousInc        8.5071322    7.86569171    7.86525751    7.7912500
MedOwnCostPctInc         .            .             .             .        
MedOwnCostPctIncNoMtg  -49.9830252  -50.65908298  -50.87978311  -51.1404286
NumInShelters           13.6497269   14.79155406   16.40846798   18.1457271
NumStreet                .            .             .             .        
PctForeignBorn         116.6986159  122.71128863  127.81130702  130.9252379
PctBornSameState        -4.4229036   -4.48044961   -4.23937428   -3.9576994
PctSameHouse85          23.5629397   25.18381635   26.09889139   26.7434066
PctSameCity85           -2.9967419   -4.53433340   -5.27206036   -6.1138420
PctSameState85          -6.8538999   -7.01335029   -6.95260573   -6.8505463
                                                                            
(Intercept)            5.943310e+02  594.33096321  594.33096321  594.3309632
population             .               .             .             .        
householdsize         -1.423870e+00   -7.40144126  -11.97393535  -14.4199142
agePct12t21            3.655295e+01   36.86967143   37.63550871   37.5954613
agePct12t29           -1.519470e+02 -153.70124260 -158.91765542 -164.6013351
agePct16t24            4.002362e+00    4.68908543    7.03264260   10.6310569
agePct65up            -4.196694e+01  -49.02125793  -54.70353141  -59.0689065
numbUrban             -8.326196e+00  -15.35582757  -19.91085010  -21.1859141
pctUrban               5.368990e+01   54.13623538   54.49281333   54.6253742
medIncome             -3.945001e+01  -48.60954062  -57.34822772  -64.7486169
pctWWage              -7.799871e+01  -82.06732371  -84.62224636  -87.0094290
pctWFarmSelf           1.493686e+01   15.72740714   16.33237562   16.8323124
pctWInvInc            -6.332914e+01  -63.37693838  -63.23467555  -63.3904160
pctWSocSec             5.031030e+01   54.05076067   57.48030932   60.0143559
pctWPubAsst            .               .             .             .        
pctWRetire            -5.308992e+01  -53.71686487  -54.01820816  -54.2649291
medFamInc              .               .             .             .        
perCapInc              2.964558e+00    7.39574308   12.21325625   15.9157054
NumUnderPov           -4.685875e+01  -46.17127131  -41.51961736  -40.5186554
PctPopUnderPov        -1.934812e+01  -24.57490353  -28.06928863  -30.6996614
PctLess9thGrade       -1.076789e+02 -108.38582909 -108.77649912 -109.2082741
PctNotHSGrad           8.041028e+01   80.98163009   81.10472306   81.2435628
PctBSorMore            .               .             .             .        
PctUnemployed          1.722808e+00    1.57379447    1.82804941    2.3849132
PctEmploy              6.908809e+01   67.75365863   67.22623340   68.0799083
PctEmplManu           -3.658017e+01  -36.93757799  -37.13462666  -37.3743635
PctEmplProfServ        .               .             .             .        
PctOccupManu           1.431355e+01   14.75732991   15.41098191   16.2863315
PctOccupMgmtProf       4.377402e+01   46.56219353   48.76044889   50.8853335
MalePctDivorce         1.187799e+02  121.22673350  122.89795258  124.2859633
MalePctNevMarr         7.658916e+01   80.74005467   85.12299911   88.4209198
FemalePctDiv          -9.440729e+01  -95.69511359  -96.18184651  -96.6978603
TotalPctDiv            .               .             .             .        
PersPerFam            -2.261889e+01  -30.82952666  -35.57952709  -39.7452329
PctFam2Par             4.397984e-02    7.22374557   19.01822655   28.8460828
PctKids2Par           -2.156852e+02 -222.90998031 -232.80628607 -241.5664087
PctYoungKids2Par       6.796249e+01   67.87051857   67.78355433   67.9013115
PctTeen2Par            1.798487e+01   18.63685040   18.97996161   19.4663773
PctWorkMomYoungKids    2.750521e+01   27.96880522   28.56676568   29.0379746
PctWorkMom            -7.196023e+01  -72.05928188  -72.26449975  -72.7099267
NumKidsBornNeverMar   -2.530748e+00   -6.18152388  -10.58784491  -12.7062769
PctKidsBornNeverMar    2.223450e+02  222.30720506  222.37574846  222.2800793
NumImmig              -1.290985e+01   -8.99497570   -7.75996744   -7.1613164
PctImmigRecent         1.394749e+01   14.49396470   14.96617303   16.4502812
PctImmigRec5           .               .            -0.05388621   -2.1399546
PctImmigRec8           8.208924e-03    0.19093463    0.33045248    1.5489711
PctImmigRec10          6.200134e+00    6.46419263    6.48169305    6.4280150
PctRecentImmig         .               .            -0.41658786   -3.0650106
PctRecImmig5          -6.256424e+01  -65.49605609  -66.63391014  -65.4644920
PctRecImmig8           .               .             .             .        
PctRecImmig10          .               .             .             .        
PctSpeakEnglOnly       2.726439e+01   26.14667492   25.36269621   24.6126179
PctNotSpeakEnglWell   -7.955916e+01  -81.21084456  -83.27418411  -84.7185267
PctLargHouseFam        .               .             .             .        
PctLargHouseOccup     -6.902588e+01  -69.83458528  -71.68065850  -72.5525297
PersPerOccupHous       1.670588e+02  190.60882248  205.61703965  212.4724776
PersPerOwnOccHous     -4.550900e+01  -44.39347045  -39.06706123  -30.6670329
PersPerRentOccHous    -2.543514e+01  -35.92952708  -45.99915030  -54.9584314
PctPersOwnOccup       -5.210815e+01  -80.29140247 -119.14794275 -160.3220336
PctPersDenseHous       1.210733e+02  121.27529886  121.73511673  122.4606249
PctHousLess3BR         1.152250e+01   12.59967784   14.58595387   16.0721871
MedNumBR              -6.500876e+00   -6.09740631   -5.43454673   -4.8651542
HousVacant             9.073570e+01   94.66511939   95.96759938   96.8371542
PctHousOccup          -8.490011e+00   -7.83454331   -7.59277709   -7.3972449
PctHousOwnOcc          7.806025e+00   33.14102183   68.53405970  107.0023302
PctVacantBoarded       3.970948e+01   39.85245653   39.99694219   40.1296293
PctVacMore6Mos        -2.702116e+01  -27.37623167  -27.86088276  -28.2783615
MedYrHousBuilt         1.045329e+01    9.91442666    9.17866276    8.5931175
PctHousNoPhone         8.156371e+00    8.50851856    8.38320536    8.0010352
PctWOFullPlumb        -2.428461e+00   -2.72095120   -3.04938928   -3.3614437
OwnOccLowQuart         .               .             .             .        
OwnOccMedVal           .               .             .             .        
OwnOccHiQuart         -8.368330e+00   -9.57402088  -11.22162890  -11.9493439
OwnOccQrange          -5.385835e+00   -5.86823922   -6.15983439   -6.6025842
RentLowQ              -1.045024e+02 -106.06524668 -107.73577043 -109.5818958
RentMedian             .               .             .             .        
RentHighQ             -1.970318e+01  -26.71284587  -31.25665923  -34.8378383
RentQrange             .               .            -0.68325947   -1.7261367
MedRent                1.192416e+02  128.77625059  136.18242535  142.8093663
MedRentPctHousInc      7.919752e+00    7.40969515    6.70797175    6.3557722
MedOwnCostPctInc       .               0.07767059    0.61122097    0.6512606
MedOwnCostPctIncNoMtg -5.121432e+01  -51.30509066  -51.55563370  -51.6166511
NumInShelters          1.959787e+01   22.20392379   24.07235019   25.0386665
NumStreet              .               .             .             .        
PctForeignBorn         1.340965e+02  137.82833139  139.93844742  141.4476662
PctBornSameState      -3.362632e+00   -2.65033746   -2.17549140   -1.5941357
PctSameHouse85         2.657103e+01   25.89925865   25.32742727   24.8551613
PctSameCity85         -6.717366e+00   -7.28470948   -7.88058076   -8.4416335
PctSameState85        -6.996488e+00   -6.96825218   -6.83396230   -6.9279214
                                                                           
(Intercept)            594.330963  5.943310e+02  5.943310e+02  594.33096321
population               .         .             .               .         
householdsize          -16.299363 -1.788651e+01 -1.908878e+01  -19.54143495
agePct12t21             37.595882  3.777374e+01  3.841562e+01   39.17444695
agePct12t29           -169.926140 -1.748237e+02 -1.795220e+02 -183.74543222
agePct16t24             13.943743  1.678857e+01  1.884695e+01   20.80925179
agePct65up             -63.123799 -6.696450e+01 -7.025992e+01  -73.23280118
numbUrban              -22.055434 -2.305445e+01 -2.414812e+01  -24.79185234
pctUrban                54.757315  5.488738e+01  5.500678e+01   55.13588828
medIncome              -71.357506 -7.755032e+01 -8.332740e+01  -89.00837040
pctWWage               -89.202755 -9.111791e+01 -9.255340e+01  -93.96173340
pctWFarmSelf            17.255574  1.762293e+01  1.794432e+01   18.19166803
pctWInvInc             -63.597214 -6.393669e+01 -6.427726e+01  -64.84191416
pctWSocSec              62.161953  6.416371e+01  6.595200e+01   67.26243999
pctWPubAsst              .         .             .               .         
pctWRetire             -54.462479 -5.462229e+01 -5.463029e+01  -54.79985189
medFamInc                .         .             8.597125e-03    1.91357298
perCapInc               19.235810  2.237197e+01  2.569723e+01   27.55424342
NumUnderPov            -41.256966 -4.197707e+01 -4.246838e+01  -42.82543546
PctPopUnderPov         -32.943176 -3.493486e+01 -3.596565e+01  -37.38626925
PctLess9thGrade       -109.716789 -1.101951e+02 -1.104646e+02 -110.75456425
PctNotHSGrad            81.551742  8.186834e+01  8.198501e+01   82.46250745
PctBSorMore              .         .             .               .         
PctUnemployed            2.945892  3.492267e+00  3.959250e+00    4.63188088
PctEmploy               69.050993  7.003457e+01  7.114965e+01   72.51334028
PctEmplManu            -37.573200 -3.776333e+01 -3.803165e+01  -38.09679911
PctEmplProfServ          .         .             .               .         
PctOccupManu            17.027113  1.770860e+01  1.864971e+01   19.16876499
PctOccupMgmtProf        52.801360  5.459904e+01  5.622791e+01   57.62368087
MalePctDivorce         126.009123  1.301126e+02  1.364422e+02  142.01025010
MalePctNevMarr          91.139136  9.332525e+01  9.534217e+01   96.42239641
FemalePctDiv           -96.711777 -9.387930e+01 -8.768821e+01  -82.28004847
TotalPctDiv             -1.179135 -7.954773e+00 -2.015772e+01  -31.41409255
PersPerFam             -43.351868 -4.661362e+01 -4.961412e+01  -53.36536897
PctFam2Par              37.256575  4.440685e+01  5.140744e+01   56.12499644
PctKids2Par           -249.274690 -2.562504e+02 -2.626699e+02 -267.43208437
PctYoungKids2Par        68.029091  6.818900e+01  6.842369e+01   68.66205738
PctTeen2Par             19.912251  2.033350e+01  2.066723e+01   21.02624451
PctWorkMomYoungKids     29.485138  2.988888e+01  3.031940e+01   30.68005719
PctWorkMom             -73.151923 -7.353072e+01 -7.393337e+01  -74.34724037
NumKidsBornNeverMar    -13.751837 -1.469295e+01 -1.556491e+01  -16.07852596
PctKidsBornNeverMar    222.055016  2.217280e+02  2.215041e+02  221.03244690
NumImmig                -6.287537 -5.381342e+00 -4.482709e+00   -4.09438909
PctImmigRecent          17.465491  1.834478e+01  1.914058e+01   19.79174330
PctImmigRec5            -3.204450 -4.125625e+00 -4.904766e+00   -5.59291619
PctImmigRec8             2.226886  2.867075e+00  3.380747e+00    4.02915132
PctImmigRec10            6.344923  6.274666e+00  6.241295e+00    6.01083296
PctRecentImmig          -5.675448 -7.900969e+00 -9.901165e+00  -10.75823819
PctRecImmig5           -64.361223 -6.358121e+01 -6.312094e+01  -63.70762789
PctRecImmig8             .         .             .               .         
PctRecImmig10            .         .            -2.812063e-02   -0.05973292
PctSpeakEnglOnly        23.865108  2.316748e+01  2.261078e+01   21.87183617
PctNotSpeakEnglWell    -86.003275 -8.716862e+01 -8.836719e+01  -89.80017348
PctLargHouseFam          .         .             3.610430e-03    5.41194149
PctLargHouseOccup      -73.012578 -7.325924e+01 -7.343879e+01  -77.57738117
PersPerOccupHous       216.272571  2.187387e+02  2.195815e+02  222.83359371
PersPerOwnOccHous      -21.930919 -1.339637e+01 -4.371930e+00    .         
PersPerRentOccHous     -62.971464 -7.047030e+01 -7.764156e+01  -83.52180273
PctPersOwnOccup       -199.889719 -2.376429e+02 -2.756101e+02 -302.34898024
PctPersDenseHous       123.347000  1.242530e+02  1.250232e+02  125.72577344
PctHousLess3BR          17.254520  1.828971e+01  1.943943e+01   20.13964746
MedNumBR                -4.369299 -3.902962e+00 -3.373889e+00   -3.05450728
HousVacant              97.959301  9.909653e+01  1.000560e+02  100.74782244
PctHousOccup            -7.125717 -6.830544e+00 -6.554518e+00   -6.29733508
PctHousOwnOcc          144.156678  1.796613e+02  2.152735e+02  239.87222583
PctVacantBoarded        40.255782  4.038123e+01  4.051532e+01   40.61778891
PctVacMore6Mos         -28.637453 -2.898892e+01 -2.932692e+01  -29.60484902
MedYrHousBuilt           8.098689  7.613723e+00  7.085542e+00    6.75331115
PctHousNoPhone           7.620806  7.232690e+00  6.674155e+00    6.22487632
PctWOFullPlumb          -3.643834 -3.896151e+00 -4.118284e+00   -4.26921609
OwnOccLowQuart           .         .             .               .         
OwnOccMedVal             .        -8.059328e-04 -6.236805e+00  -10.44359517
OwnOccHiQuart          -12.552287 -1.308930e+01 -6.116882e+00   -1.17049160
OwnOccQrange            -7.055118 -7.482364e+00 -9.892567e+00  -11.73727988
RentLowQ              -112.047271 -1.151047e+02 -1.152617e+02 -116.44699041
RentMedian               .         .             .               .         
RentHighQ              -36.414762 -3.646902e+01 -4.034825e+01  -42.02209290
RentQrange              -3.220191 -5.104681e+00 -5.186284e+00   -6.00464223
MedRent                148.365247  1.533696e+02  1.583136e+02  162.01129923
MedRentPctHousInc        6.083840  5.864066e+00  5.660582e+00    5.51825348
MedOwnCostPctInc         0.666459  6.520985e-01  6.754008e-01    0.76641469
MedOwnCostPctIncNoMtg  -51.644916 -5.166478e+01 -5.174985e+01  -51.73695013
NumInShelters           25.753094  2.642700e+01  2.703093e+01   27.46341589
NumStreet                .         .             .               .         
PctForeignBorn         142.776967  1.439646e+02  1.453647e+02  146.45090332
PctBornSameState        -1.046578 -5.797086e-01 -1.979935e-01    .         
PctSameHouse85          24.470869  2.405706e+01  2.364921e+01   23.64939902
PctSameCity85           -8.940184 -9.343845e+00 -9.670879e+00  -10.07178717
PctSameState85          -7.041411 -7.097199e+00 -7.037784e+00   -7.03696079
                                                                         
(Intercept)            5.943310e+02  5.943310e+02  594.330963  594.330963
population             .             .               .           .       
householdsize         -2.009226e+01 -2.115133e+01  -22.108539  -23.029323
agePct12t21            3.996201e+01  4.043529e+01   40.959612   41.539739
agePct12t29           -1.869351e+02 -1.897849e+02 -192.323483 -194.699090
agePct16t24            2.207520e+01  2.325701e+01   24.107980   24.828705
agePct65up            -7.616842e+01 -7.926714e+01  -81.838250  -84.116702
numbUrban             -2.532663e+01 -2.616676e+01  -27.082322  -27.959706
pctUrban               5.524741e+01  5.537488e+01   55.493782   55.621786
medIncome             -9.522629e+01 -1.030930e+02 -111.342465 -119.535326
pctWWage              -9.561678e+01 -9.721481e+01  -98.635146  -99.842310
pctWFarmSelf           1.845376e+01  1.871454e+01   18.972322   19.217213
pctWInvInc            -6.572466e+01 -6.625995e+01  -66.734361  -67.088673
pctWSocSec             6.815334e+01  6.915553e+01   69.953234   70.639402
pctWPubAsst            .             .               .           .       
pctWRetire            -5.503934e+01 -5.534835e+01  -55.640418  -55.930043
medFamInc              5.801468e+00  1.122457e+01   17.452892   23.838601
perCapInc              2.859796e+01  2.941848e+01   29.816544   29.913473
NumUnderPov           -4.324151e+01 -4.359727e+01  -43.851625  -43.997420
PctPopUnderPov        -3.940355e+01 -4.103251e+01  -42.376153  -43.388805
PctLess9thGrade       -1.111206e+02 -1.114294e+02 -111.604094 -111.788048
PctNotHSGrad           8.298451e+01  8.338126e+01   83.606129   83.792501
PctBSorMore            .             .               .           .       
PctUnemployed          5.307335e+00  5.759353e+00    6.167276    6.558991
PctEmploy              7.343923e+01  7.389473e+01   74.360125   74.833066
PctEmplManu           -3.803743e+01 -3.807164e+01  -38.120260  -38.217267
PctEmplProfServ        .             .               .           .       
PctOccupManu           1.935308e+01  1.962113e+01   19.966023   20.433398
PctOccupMgmtProf       5.871872e+01  5.976046e+01   60.789469   61.819115
MalePctDivorce         1.465032e+02  1.517994e+02  157.240795  162.680846
MalePctNevMarr         9.714944e+01  9.793712e+01   98.708404   99.285908
FemalePctDiv          -7.835677e+01 -7.321110e+01  -67.669474  -61.976079
TotalPctDiv           -4.056817e+01 -5.150291e+01  -62.806396  -74.214503
PersPerFam            -5.676086e+01 -6.125124e+01  -65.937124  -70.750357
PctFam2Par             5.938092e+01  6.290388e+01   66.231157   69.302348
PctKids2Par           -2.711077e+02 -2.749847e+02 -278.507012 -281.688775
PctYoungKids2Par       6.875857e+01  6.884381e+01   68.893048   68.920255
PctTeen2Par            2.130069e+01  2.149367e+01   21.614241   21.694838
PctWorkMomYoungKids    3.110144e+01  3.144209e+01   31.819107   32.220934
PctWorkMom            -7.474931e+01 -7.497090e+01  -75.271094  -75.608263
NumKidsBornNeverMar   -1.646815e+01 -1.698312e+01  -17.464175  -17.929096
PctKidsBornNeverMar    2.205026e+02  2.200140e+02  219.559088  219.176209
NumImmig              -3.790757e+00 -3.314166e+00   -2.826176   -2.392792
PctImmigRecent         2.028687e+01  2.063656e+01   20.992134   21.301062
PctImmigRec5          -6.079628e+00 -6.402478e+00   -6.796669   -7.210505
PctImmigRec8           4.627171e+00  5.127918e+00    5.553533    5.951278
PctImmigRec10          5.779628e+00  5.621826e+00    5.605721    5.653710
PctRecentImmig        -1.058369e+01 -9.949268e+00   -9.431341   -9.136678
PctRecImmig5          -6.537369e+01 -6.727152e+01  -68.569576  -69.192020
PctRecImmig8           .             .               .           .       
PctRecImmig10         -8.940525e-02 -6.990289e-01   -2.107097   -4.062335
PctSpeakEnglOnly       2.100595e+01  2.026862e+01   19.751148   19.294090
PctNotSpeakEnglWell   -9.113300e+01 -9.256019e+01  -93.869679  -95.083898
PctLargHouseFam        9.928303e+00  1.600961e+01   22.864997   29.935563
PctLargHouseOccup     -8.053831e+01 -8.525911e+01  -90.917421  -96.814726
PersPerOccupHous       2.294095e+02  2.384627e+02  247.537181  256.385427
PersPerOwnOccHous      .             .               .           .       
PersPerRentOccHous    -8.894610e+01 -9.451327e+01  -99.539175 -104.076546
PctPersOwnOccup       -3.199515e+02 -3.372700e+02 -352.817190 -366.787675
PctPersDenseHous       1.261596e+02  1.265313e+02  126.887717  127.119965
PctHousLess3BR         2.048024e+01  2.094805e+01   21.409755   21.964663
MedNumBR              -2.869284e+00 -2.672726e+00   -2.481853   -2.231943
HousVacant             1.014612e+02  1.023154e+02  103.128216  103.858327
PctHousOccup          -6.023764e+00 -5.794065e+00   -5.610370   -5.466246
PctHousOwnOcc          2.552291e+02  2.703688e+02  283.913043  296.018276
PctVacantBoarded       4.073315e+01  4.080826e+01   40.875988   40.940286
PctVacMore6Mos        -2.983226e+01 -3.007939e+01  -30.316479  -30.554006
MedYrHousBuilt         6.515276e+00  6.184694e+00    5.854651    5.534006
PctHousNoPhone         6.126401e+00  5.937739e+00    5.730242    5.478374
PctWOFullPlumb        -4.377834e+00 -4.462903e+00   -4.542396   -4.597964
OwnOccLowQuart         .             .               .           .       
OwnOccMedVal          -1.236805e+01 -1.324671e+01  -14.128313  -14.942491
OwnOccHiQuart         -2.912753e-03 -7.961733e-04    .           .       
OwnOccQrange          -1.239249e+01 -1.280462e+01  -13.190611  -13.572903
RentLowQ              -1.187662e+02 -1.232359e+02 -128.140678 -132.948787
RentMedian             .             .               .           .       
RentHighQ             -4.091946e+01 -3.729823e+01  -32.910065  -28.427202
RentQrange            -7.662520e+00 -1.043082e+01  -13.427968  -16.313197
MedRent                1.649208e+02  1.682071e+02  171.323589  174.266482
MedRentPctHousInc      5.385872e+00  5.038884e+00    4.652306    4.254039
MedOwnCostPctInc       1.018485e+00  1.301427e+00    1.583449    1.847712
MedOwnCostPctIncNoMtg -5.181387e+01 -5.184292e+01  -51.875081  -51.924375
NumInShelters          2.784985e+01  2.832000e+01   28.761780   29.170315
NumStreet              .             .               .           .       
PctForeignBorn         1.477254e+02  1.494571e+02  151.542124  153.751778
PctBornSameState       .             .               .           .       
PctSameHouse85         2.387675e+01  2.396308e+01   24.074642   24.241859
PctSameCity85         -1.044198e+01 -1.069158e+01  -10.882967  -11.060363
PctSameState85        -6.934561e+00 -6.863235e+00   -6.833681   -6.813194
                                                                           
(Intercept)            594.33096321  594.33096321  594.3309632  594.3309632
population               .             .             .            .        
householdsize          -23.88274612  -26.91317019  -28.0659373  -28.2826449
agePct12t21             41.94726182   41.97527238   42.3856541   43.2863189
agePct12t29           -196.89247107 -202.22754859 -206.4573354 -208.6840152
agePct16t24             25.43423036   28.47508897   30.9376723   31.6844013
agePct65up             -86.26994258  -89.33552439  -91.7161831  -93.3150726
numbUrban              -28.93382833  -29.70564423  -29.8217644  -30.4199352
pctUrban                55.69599608   55.68286652   55.7059784   55.8077195
medIncome             -127.89474497 -148.60024829 -159.9636479 -166.4698177
pctWWage              -101.28003933 -102.09382121 -103.2608256 -104.5131070
pctWFarmSelf            19.45980984   19.87879432   20.1082260   20.2870552
pctWInvInc             -67.53511182  -67.07196337  -67.4025797  -67.8318549
pctWSocSec              71.21098046   72.31950562   73.1139808   73.7578819
pctWPubAsst              .             .             .            .        
pctWRetire             -56.19416439  -56.82950045  -57.2136119  -57.4388089
medFamInc               30.43985640   48.97992521   58.8985185   64.2617511
perCapInc               30.13004933   28.21036164   28.2039281   28.7394223
NumUnderPov            -44.10229985  -42.78975461  -42.5066344  -42.5092905
PctPopUnderPov         -44.45438260  -43.76481432  -44.0539880  -44.7232480
PctLess9thGrade       -111.77012212 -111.39479341 -111.3323513 -110.9399632
PctNotHSGrad            83.87896934   83.22876117   83.0696859   82.7730405
PctBSorMore              .             .            -1.5400536   -2.8865647
PctUnemployed            6.79981012    6.68076163    6.7221738    6.9014172
PctEmploy               75.20209928   74.93824212   75.6120298   76.6016219
PctEmplManu            -38.21664523  -38.66759517  -38.6883053  -38.6638618
PctEmplProfServ          .             .             .            .        
PctOccupManu            20.63783294   21.79784391   22.1569515   22.4087213
PctOccupMgmtProf        62.75480117   64.57330385   66.7663152   68.6662718
MalePctDivorce         168.69962859  187.62792614  202.1521504  212.7324321
MalePctNevMarr         100.13461352  100.76863060  101.2599023  101.5638287
FemalePctDiv           -55.51618427  -31.29337791  -12.8901476    .        
TotalPctDiv            -86.75639660 -127.95199363 -160.1573525 -183.3200392
PersPerFam             -76.21190136  -90.74250287  -98.5944585 -103.3318552
PctFam2Par              72.38290418   77.84029478   80.1609474   81.6294930
PctKids2Par           -284.73949244 -289.15415492 -291.1311843 -292.5081160
PctYoungKids2Par        68.88925220   68.66933864   68.6062885   68.5998186
PctTeen2Par             21.68553426   21.50684975   21.3158737   21.1927929
PctWorkMomYoungKids     32.59013227   33.34321447   33.6969700   33.9287089
PctWorkMom             -75.91459463  -76.44137694  -76.7800462  -77.1003656
NumKidsBornNeverMar    -18.43094677  -19.76349518  -20.0443825  -20.1713801
PctKidsBornNeverMar    218.71643370  218.62904136  218.2656028  217.7687094
NumImmig                -1.86927233   -0.86866244   -0.5715353   -0.1501376
PctImmigRecent          21.71744718   22.78737782   24.1796750   24.8959360
PctImmigRec5            -7.69134518   -9.29290729  -10.3180667  -10.3997232
PctImmigRec8             6.29369738    6.61039249    6.1595396    5.6427338
PctImmigRec10            5.75239298    6.48239793    6.9073755    7.0531740
PctRecentImmig          -9.10971276  -13.60214253  -18.8290260  -20.6690974
PctRecImmig5           -69.42460552  -62.10852657  -59.7730670  -62.4314874
PctRecImmig8             .             0.04103558    7.8489784   16.2825145
PctRecImmig10           -6.15231809  -14.55208062  -21.6135746  -27.0006774
PctSpeakEnglOnly        19.05986170   18.96259479   18.7511846   18.8849633
PctNotSpeakEnglWell    -96.25102658  -97.66608707  -98.3640764  -99.1863271
PctLargHouseFam         38.00342744   57.66122407   69.0959410   77.8235897
PctLargHouseOccup     -103.83229707 -121.09758198 -130.4890222 -137.9623841
PersPerOccupHous       265.12133974  279.97471172  284.8337822  287.0421956
PersPerOwnOccHous        0.95885715   10.03059187   16.1224352   20.1547411
PersPerRentOccHous    -108.32621264 -115.08328077 -118.4210700 -120.9278215
PctPersOwnOccup       -380.67686916 -415.92039257 -436.8561658 -451.7579333
PctPersDenseHous       127.46649169  127.04863404  127.1990124  127.8750870
PctHousLess3BR          22.38790784   24.72828269   25.6226782   25.9519204
MedNumBR                -2.08995239   -1.29193154   -0.9958789   -0.8699063
HousVacant             104.61533146  104.82811891  104.9111308  105.2414692
PctHousOccup            -5.31101372   -5.35886821   -5.2256781   -5.0801152
PctHousOwnOcc          308.17222731  341.18106769  360.9082653  374.7835699
PctVacantBoarded        40.97651896   40.95871254   40.9755968   41.0125110
PctVacMore6Mos         -30.74340158  -31.12201414  -31.2444071  -31.3398754
MedYrHousBuilt           5.17701017    4.36125228    4.1340884    4.0627659
PctHousNoPhone           5.33611724    4.35908834    4.0888709    4.0117364
PctWOFullPlumb          -4.68991648   -4.82242180   -4.9572675   -5.0805476
OwnOccLowQuart           .             .             .            .        
OwnOccMedVal           -15.90947712  -17.16113854  -18.3068118  -19.4215871
OwnOccHiQuart            .             .             .            .        
OwnOccQrange           -13.86169325  -14.42996518  -14.6867312  -14.8712730
RentLowQ              -138.17119939 -149.13661424 -153.2441045 -157.4289447
RentMedian               .             .             .            .        
RentHighQ              -23.51231288  -12.14939206   -7.9884594   -3.4956903
RentQrange             -19.44109116  -25.83898239  -28.3630202  -30.8522489
MedRent                177.25708752  182.88441883  185.4090794  187.2872469
MedRentPctHousInc        3.83002513    2.56699362    2.1572724    2.0440498
MedOwnCostPctInc         2.11000689    2.49718013    2.7486986    2.9889311
MedOwnCostPctIncNoMtg  -51.94941043  -51.81970856  -51.7080239  -51.6632679
NumInShelters           29.55166981   30.90155348   31.3477283   31.8062279
NumStreet               -0.02140325   -1.72670450   -2.4846678   -3.0060713
PctForeignBorn         155.99373067  161.59207380  163.6421942  165.3150467
PctBornSameState         .             1.80861661    3.1202928    3.9809768
PctSameHouse85          24.35003831   24.79689566   25.2516671   25.7022858
PctSameCity85          -11.16145907  -11.11733744  -11.2180782  -11.3126721
PctSameState85          -6.82643589   -8.33623403   -9.4956475  -10.2284438
                                   
(Intercept)            5.943310e+02
population             .           
householdsize         -2.836097e+01
agePct12t21            4.332426e+01
agePct12t29           -2.087727e+02
agePct16t24            3.174968e+01
agePct65up            -9.333708e+01
numbUrban             -3.041761e+01
pctUrban               5.582684e+01
medIncome             -1.666387e+02
pctWWage              -1.044968e+02
pctWFarmSelf           2.030606e+01
pctWInvInc            -6.781146e+01
pctWSocSec             7.379073e+01
pctWPubAsst            .           
pctWRetire            -5.747551e+01
medFamInc              6.443764e+01
perCapInc              2.872835e+01
NumUnderPov           -4.252073e+01
PctPopUnderPov        -4.471585e+01
PctLess9thGrade       -1.109901e+02
PctNotHSGrad           8.284069e+01
PctBSorMore           -2.904201e+00
PctUnemployed          6.933781e+00
PctEmploy              7.664076e+01
PctEmplManu           -3.870819e+01
PctEmplProfServ        .           
PctOccupManu           2.248083e+01
PctOccupMgmtProf       6.871531e+01
MalePctDivorce         2.129253e+02
MalePctNevMarr         1.015636e+02
FemalePctDiv           .           
TotalPctDiv           -1.835219e+02
PersPerFam            -1.034474e+02
PctFam2Par             8.166268e+01
PctKids2Par           -2.925684e+02
PctYoungKids2Par       6.864519e+01
PctTeen2Par            2.120083e+01
PctWorkMomYoungKids    3.394432e+01
PctWorkMom            -7.713771e+01
NumKidsBornNeverMar   -2.017751e+01
PctKidsBornNeverMar    2.178134e+02
NumImmig              -1.773081e-01
PctImmigRecent         2.491669e+01
PctImmigRec5          -1.046430e+01
PctImmigRec8           5.667294e+00
PctImmigRec10          7.087336e+00
PctRecentImmig        -2.071152e+01
PctRecImmig5          -6.245076e+01
PctRecImmig8           1.643188e+01
PctRecImmig10         -2.719435e+01
PctSpeakEnglOnly       1.886647e+01
PctNotSpeakEnglWell   -9.915952e+01
PctLargHouseFam        7.790486e+01
PctLargHouseOccup     -1.380350e+02
PersPerOccupHous       2.871258e+02
PersPerOwnOccHous      2.026266e+01
PersPerRentOccHous    -1.209690e+02
PctPersOwnOccup       -4.520151e+02
PctPersDenseHous       1.278735e+02
PctHousLess3BR         2.597688e+01
MedNumBR              -8.579393e-01
HousVacant             1.052635e+02
PctHousOccup          -5.091420e+00
PctHousOwnOcc          3.750477e+02
PctVacantBoarded       4.101191e+01
PctVacMore6Mos        -3.137548e+01
MedYrHousBuilt         4.061852e+00
PctHousNoPhone         4.022925e+00
PctWOFullPlumb        -5.107629e+00
OwnOccLowQuart         .           
OwnOccMedVal          -1.945106e+01
OwnOccHiQuart          .           
OwnOccQrange          -1.488511e+01
RentLowQ              -1.574391e+02
RentMedian             7.322341e-03
RentHighQ             -3.493370e+00
RentQrange            -3.086682e+01
MedRent                1.873413e+02
MedRentPctHousInc      2.061220e+00
MedOwnCostPctInc       3.011847e+00
MedOwnCostPctIncNoMtg -5.169876e+01
NumInShelters          3.184440e+01
NumStreet             -3.032049e+00
PctForeignBorn         1.653776e+02
PctBornSameState       4.033608e+00
PctSameHouse85         2.571733e+01
PctSameCity85         -1.133536e+01
PctSameState85        -1.026516e+01</code></pre>
</div>
<p>Vemos que el valor de R2 no es muy diferente al caso anterior, aunque ahora únicamente tenemos 18 coeficientes ≠ 0</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>lasso.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lasso.lm</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_test_s</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>lasso.pred</span>, <span class='va'>y_test</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span>
</code></pre>
</div>
<pre><code>     s0       s1       s2       s3       s4       s5       s6       s7       s8
[1,] NA 53.43702 53.58489 56.11357 57.04245 57.49645 57.74942 57.90835 58.01837
           s9     s10      s11      s12      s13      s14      s15      s16
[1,] 58.09429 58.1505 58.19535 58.22881 58.25553 58.27879 58.32827 58.75626
         s17      s18      s19      s20      s21      s22      s23      s24
[1,] 59.0818 59.31473 59.58416 59.77289 59.97653 60.26295 60.48609 60.65604
          s25      s26      s27      s28      s29      s30      s31     s32
[1,] 60.78928 60.89649 60.99876 61.06659 61.14073 61.27272 61.41957 61.5762
         s33      s34     s35      s36      s37      s38      s39      s40
[1,] 61.6941 61.77421 61.8907 62.00664 62.09131 62.15658 62.20251 62.23972
         s41      s42      s43      s44      s45      s46      s47      s48
[1,] 62.2628 62.28448 62.29744 62.31266 62.37029 62.40295 62.43719 62.46325
          s49      s50      s51      s52      s53      s54      s55      s56
[1,] 62.47401 62.46936 62.43646 62.38518 62.33567 62.27896 62.22658 62.18263
          s57      s58      s59      s60      s61      s62      s63      s64
[1,] 62.15532 62.16498 62.15138 62.12958 62.10708 62.07503 62.06881 62.05471
          s65      s66      s67     s68      s69     s70      s71      s72
[1,] 62.02099 61.97628 61.93831 61.9061 61.84818 61.7983 61.75661 61.72191
          s73      s74      s75      s76      s77      s78     s79      s80
[1,] 61.68235 61.63597 61.59049 61.54589 61.50098 61.46042 61.4217 61.38118
          s81      s82      s83     s84      s85      s86      s87
[1,] 61.34312 61.30674 61.27096 61.2157 61.17072 61.13701 61.13365</code></pre>
</div>
<p>En los datos de prueba tampoco hubo mucha diferencia. Veamos cómo cambia esto al modificar el valor de lambda:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'>for</span> <span class='op'>(</span><span class='va'>lambda</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.5</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>50</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>lambdamin</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  
  <span class='va'>lasso.lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://glmnet.stanford.edu/reference/glmnet.html'>glmnet</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_train_s</span><span class='op'>)</span>, <span class='va'>y_train</span>,
                     alpha <span class='op'>=</span> <span class='fl'>1</span>, lambda <span class='op'>=</span> <span class='va'>lambda</span>,
                     standardize <span class='op'>=</span> <span class='cn'>F</span>, standardize.response <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span>
  
  <span class='va'>lasso.pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lasso.lm</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_test_s</span><span class='op'>)</span><span class='op'>)</span>
  
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"lambda = "</span>, <span class='va'>lambda</span>, 
              <span class='st'>"; Variables restantes:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>lasso.lm</span><span class='op'>$</span><span class='va'>df</span>, <span class='fl'>2</span><span class='op'>)</span>, 
              <span class='st'>"; R^2 entrenamiento = "</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>lasso.lm</span><span class='op'>$</span><span class='va'>dev.ratio</span>,<span class='fl'>2</span><span class='op'>)</span>, 
              <span class='st'>"; R^2 prueba = "</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>lasso.pred</span>, <span class='va'>y_test</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] &quot;lambda =  0 ; Variables restantes: 88 ; R^2 entrenamiento =  0.68 ; R^2 prueba =  0.6&quot;
[1] &quot;lambda =  0.5 ; Variables restantes: 76 ; R^2 entrenamiento =  0.67 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  1 ; Variables restantes: 61 ; R^2 entrenamiento =  0.67 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  2 ; Variables restantes: 47 ; R^2 entrenamiento =  0.66 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  3 ; Variables restantes: 36 ; R^2 entrenamiento =  0.66 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  5 ; Variables restantes: 27 ; R^2 entrenamiento =  0.65 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  10 ; Variables restantes: 19 ; R^2 entrenamiento =  0.64 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  20 ; Variables restantes: 16 ; R^2 entrenamiento =  0.63 ; R^2 prueba =  0.62&quot;
[1] &quot;lambda =  50 ; Variables restantes: 8 ; R^2 entrenamiento =  0.6 ; R^2 prueba =  0.61&quot;
[1] &quot;lambda =  11.07 ; Variables restantes: 18 ; R^2 entrenamiento =  0.64 ; R^2 prueba =  0.62&quot;</code></pre>
</div>
<p>De lo anterior podemos ver que un modelo lineal puede no ser la mejor de las opciones; además, no corroboramos ninguno de los supuestos de la regresión y con una cantidad tan alta de variables es muy posible que muchas estén altamente correlacionadas:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/taiyun/corrplot'>corrplot</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/corrplot/man/corrplot.html'>corrplot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>dr.df</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='st'>"ellipse"</span>, type <span class='op'>=</span> <span class='st'>"upper"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="c16_regs_mv_files/figure-html5/unnamed-chunk-18-1.png" width="624" /></p>
</div>
<p>Podemos también hacer una matriz similar, aunque utilizando gráficos de dispersión:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggobi.github.io/ggally'>GGally</a></span><span class='op'>)</span>
<span class='co'>#pairs &lt;- ggpairs(dr.df, progress = F)</span>
<span class='va'>pairs</span>
</code></pre>
</div>
<pre><code>function (x, ...) 
UseMethod(&quot;pairs&quot;)
&lt;bytecode: 0x7f8e320aa858&gt;
&lt;environment: namespace:graphics&gt;</code></pre>
</div>
<p>La visualización de los datos se hace en parte junto con la evaluación de la regresión, en el sentido de que solo podemos ver la relación entre los datos observados y predichos por el modelo</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>mlm.data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>obs <span class='op'>=</span> <span class='va'>y_test</span>, s0 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>lasso.lm</span>, <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>X_test_s</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>mlm.plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>mlm.data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>obs</span>, y <span class='op'>=</span>  <span class='va'>s0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"lm"</span>, colour <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grDevices/rgb.html'>rgb</a></span><span class='op'>(</span><span class='fl'>118</span>,<span class='fl'>78</span>,<span class='fl'>144</span>, maxColorValue <span class='op'>=</span> <span class='fl'>255</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Gráfico de dispersión de datos observados y predichos"</span>,
                 subtitle <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sprintf.html'>sprintf</a></span><span class='op'>(</span><span class='st'>"R2e: %.2f | R2p: %.2f"</span>,
                                    <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>lasso.lm</span><span class='op'>$</span><span class='va'>dev.ratio</span>,<span class='fl'>2</span><span class='op'>)</span>, 
                                    <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>lasso.pred</span>, <span class='va'>y_test</span><span class='op'>)</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>,
                 caption <span class='op'>=</span> <span class='st'>"Datos de prueba"</span>,
                 x <span class='op'>=</span> <span class='st'>""</span>,
                 y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_bw</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>mlm.plot</span>
</code></pre>
</div>
<p><img src="c16_regs_mv_files/figure-html5/unnamed-chunk-20-1.png" width="624" /></p>
</div>
<h2 id="ingeniería-de-variables">Ingeniería de variables</h2>
<p>Aplicamos un PCA para generar nuevas variables que contengan el efecto de las variables originales y que sean ortogonales:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://www.sthda.com/english/rpkgs/factoextra'>factoextra</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://factominer.free.fr'>FactoMineR</a></span><span class='op'>)</span>

<span class='va'>X_train_pca</span> <span class='op'>&lt;-</span> <span class='fu'>FactoMineR</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/FactoMineR/man/PCA.html'>PCA</a></span><span class='op'>(</span><span class='va'>X_train</span>, graph <span class='op'>=</span> <span class='cn'>F</span>, ncp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>X_train</span><span class='op'>)</span>, scale.unit <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span>
<span class='va'>X_pca_train</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>X_train_pca</span>, <span class='va'>X_train</span><span class='op'>)</span><span class='op'>$</span><span class='va'>coord</span>
<span class='va'>X_pca_test</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>X_train_pca</span>, <span class='va'>X_test</span><span class='op'>)</span><span class='op'>$</span><span class='va'>coord</span>
</code></pre>
</div>
</div>
<p>Evaluemos las correlaciones de los nuevos predictores con nuestra variable de interés y extraigamos aquellas que tengan correlaciones significativas (≠0):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#library(Hmisc)</span>
<span class='va'>c_mat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='va'>X_pca_train</span>, <span class='va'>y_train</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>$</span><span class='va'>y_train</span>
<span class='va'>p_mat</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'>Hmisc</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/Hmisc/man/rcorr.html'>rcorr</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='va'>X_pca_train</span>, <span class='va'>y_train</span><span class='op'>)</span><span class='op'>)</span><span class='op'>$</span><span class='va'>P</span><span class='op'>)</span><span class='op'>$</span><span class='va'>y_train</span>
<span class='va'>p_mat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>y_train <span class='op'>=</span> <span class='va'>p_mat</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>p_mat</span><span class='op'>)</span> <span class='op'>==</span> <span class='cn'>F</span><span class='op'>]</span>, CP <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>X_pca_train</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>sig_cps</span> <span class='op'>&lt;-</span> <span class='va'>p_mat</span><span class='op'>$</span><span class='va'>CP</span><span class='op'>[</span><span class='va'>p_mat</span><span class='op'>$</span><span class='va'>y_train</span> <span class='op'>&lt;=</span> <span class='fl'>0.05</span><span class='op'>]</span>
<span class='va'>sig_cps</span>
</code></pre>
</div>
<pre><code> [1] &quot;Dim.1&quot;  &quot;Dim.2&quot;  &quot;Dim.3&quot;  &quot;Dim.4&quot;  &quot;Dim.5&quot;  &quot;Dim.7&quot;  &quot;Dim.9&quot;  &quot;Dim.10&quot;
 [9] &quot;Dim.11&quot; &quot;Dim.12&quot; &quot;Dim.15&quot; &quot;Dim.16&quot; &quot;Dim.17&quot; &quot;Dim.18&quot; &quot;Dim.19&quot; &quot;Dim.20&quot;
[17] &quot;Dim.23&quot; &quot;Dim.25&quot; &quot;Dim.26&quot; &quot;Dim.28&quot; &quot;Dim.30&quot; &quot;Dim.42&quot; &quot;Dim.48&quot; &quot;Dim.49&quot;
[25] &quot;Dim.58&quot; &quot;Dim.62&quot; &quot;Dim.67&quot; &quot;Dim.69&quot; &quot;Dim.87&quot; &quot;Dim.88&quot;</code></pre>
</div>
<p>Filtramos nuestros datos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>X_filt_train</span> <span class='op'>&lt;-</span> <span class='va'>X_pca_train</span><span class='op'>[</span>,<span class='va'>sig_cps</span><span class='op'>]</span>
<span class='va'>X_filt_test</span> <span class='op'>&lt;-</span> <span class='va'>X_pca_test</span><span class='op'>[</span>,<span class='va'>sig_cps</span><span class='op'>]</span>
<span class='va'>filt_train</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>X_filt_train</span>, <span class='va'>y_train</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Realicemos la regresión múltiple:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pca_lm</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/caret/man/train.html'>train</a></span><span class='op'>(</span><span class='va'>y_train</span><span class='op'>~</span><span class='va'>.</span>,
                data <span class='op'>=</span> <span class='va'>filt_train</span>,
                method <span class='op'>=</span> <span class='st'>"lm"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>pca_lm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
Call:
lm(formula = .outcome ~ ., data = dat)

Residuals:
     Min       1Q   Median       3Q      Max 
-1244.48  -206.63   -45.32   146.07  2507.35 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  5.759e+02  1.229e+01  46.861  &lt; 2e-16 ***
Dim.1        3.899e-04  2.951e-05  13.212  &lt; 2e-16 ***
Dim.2       -4.443e-04  8.890e-05  -4.998 6.49e-07 ***
Dim.3        1.760e-03  3.902e-04   4.511 6.97e-06 ***
Dim.4       -5.184e-03  4.973e-04 -10.423  &lt; 2e-16 ***
Dim.5       -2.102e-02  9.046e-04 -23.238  &lt; 2e-16 ***
Dim.7        1.831e-02  1.788e-03  10.240  &lt; 2e-16 ***
Dim.9       -1.458e-02  3.787e-03  -3.851 0.000123 ***
Dim.10       1.343e-02  4.009e-03   3.350 0.000830 ***
Dim.11       5.615e-02  5.890e-03   9.533  &lt; 2e-16 ***
Dim.12      -3.454e-02  7.395e-03  -4.671 3.28e-06 ***
Dim.15       4.943e-01  1.431e-01   3.454 0.000568 ***
Dim.16      -6.797e-01  1.578e-01  -4.308 1.76e-05 ***
Dim.17       3.921e+00  3.579e-01  10.954  &lt; 2e-16 ***
Dim.18       5.392e+00  4.182e-01  12.893  &lt; 2e-16 ***
Dim.19       5.572e+00  5.179e-01  10.758  &lt; 2e-16 ***
Dim.20       4.022e+00  5.436e-01   7.399 2.30e-13 ***
Dim.23      -1.259e+01  7.098e-01 -17.741  &lt; 2e-16 ***
Dim.25      -6.717e+00  8.911e-01  -7.538 8.33e-14 ***
Dim.26       4.611e+00  1.006e+00   4.582 4.99e-06 ***
Dim.28       3.878e+00  1.116e+00   3.476 0.000524 ***
Dim.30      -6.053e+00  1.425e+00  -4.247 2.31e-05 ***
Dim.42       8.990e+00  3.380e+00   2.660 0.007904 ** 
Dim.48       1.630e+01  4.114e+00   3.962 7.78e-05 ***
Dim.49       2.079e+01  4.495e+00   4.625 4.07e-06 ***
Dim.58      -3.642e+01  7.158e+00  -5.087 4.10e-07 ***
Dim.62      -2.630e+01  8.636e+00  -3.045 0.002368 ** 
Dim.67       6.076e+01  1.139e+01   5.336 1.10e-07 ***
Dim.69      -5.835e+01  1.272e+01  -4.586 4.91e-06 ***
Dim.87      -8.223e+10  8.700e+10  -0.945 0.344729    
Dim.88       2.215e+14  5.611e+13   3.948 8.27e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 376.9 on 1464 degrees of freedom
Multiple R-squared:  0.6355,    Adjusted R-squared:  0.6281 
F-statistic: 85.09 on 30 and 1464 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>Los resultados son similares en los datos de entrenamiento, veamos qué pasa con los datos de prueba:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>pca_tpreds</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span><span class='op'>(</span><span class='va'>pca_lm</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='va'>X_filt_test</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/caret/man/postResample.html'>R2</a></span><span class='op'>(</span><span class='va'>pca_tpreds</span>, <span class='va'>y_test</span><span class='op'>)</span>, <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.6</code></pre>
</div>
<p>Los resultados también son similares a aquellos de la regresión Lasso. La conclusión que podemos generar es que un modelo lineal como este puede no ser la mejor opción para estos datos. ¿Cómo más podríamos mejorarlo?</p>
<h2 id="ejercicio-1">Ejercicio 1</h2>
<ol type="1">
<li>Realiza una regresión Lasso con los CPs. ¿Cuántas variables se mantienen?¿Cambia el desempeño de los modelos?</li>
<li>Realiza los diagnósticos de las regresiones Ridge, Lasso y la regresión con CP. ¿Cuál está mejor ajustada? (Performance)</li>
<li>Aplica un GLM con las variables restantes en la regresión Lasso. ¿Qué familia utilizas para el error? ¿El ajuste mejora o se mantiene igual?</li>
</ol>
<h2 id="ejercicio-2">Ejercicio 2</h2>
<p>El objetivo es predecir la edad de individuos de abulón a partir de mediciones corporales de los mismos utilizando algún modelo lineal. Puedes también utilizar algún modelo no lineal, si es de tu interés.</p>
<p>Los datos para entrenar los modelos se encuentran <a href="https://storage.googleapis.com/download.tensorflow.org/data/abalone_train.csv">aquí</a>. Las columnas corresponden a: - Longitud del organismo, - Diámetro del organismo, - Altura del organismo, - Peso entero, - Peso sin concha, - Peso de las vísceras, - Peso de la cáscara, - Edad (años)</p>
<p>Los puntos a tener en cuenta son:</p>
<ol type="1">
<li>Identificar si es necesario hacer algún procesamiento a los datos y, de ser así, aplicarlo.</li>
<li>¿Es necesario, prudente y válido incluir todas las variables en el modelo?</li>
<li>A partir del punto anterior, construir el/los modelos de regresión. ¿Es necesario utilizar un modelo penalizado/regularizado?</li>
<li>Evaluar si los modelos están sobre o sub ajustados.</li>
<li>Analizar los gráficos diagnósticos de la regresión (recuerda que todos son construidos a partir de los residuales y los valores a predecir) y evaluar la bondad de ajuste de los modelos y evaluar su calidad (e.g., ¿Son los residuales normales y homocedásticos?).</li>
<li>Una vez mejorado el modelo lo más posible (i.e., escalando los valores, eliminando variables o generando nuevas (e.g. ACP)), crea un nuevo modelo con TODAS las observaciones.</li>
<li>Predice los valores de edad de los <a href="https://storage.googleapis.com/download.tensorflow.org/data/abalone_test.csv">datos de prueba</a>. ¿Cuál es el valor de MSE y <span class="math inline">\(R^2\)</span> alcanzado por el modelo?</li>
<li>Tomando en cuenta estos resultados, ¿el modelo ajustado final se encuentra bien ajustado, sobreajustado o infraajustado?</li>
</ol>
<h2 id="datos">Datos:</h2>
<p>El código de las siguientes celdas permite descargar los datos directamente a R desde una URL:</p>
<h3 id="entrenamiento">Entrenamiento</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>train_d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"https://storage.googleapis.com/"</span>,
                  <span class='st'>"download.tensorflow.org/data/abalone_train.csv"</span><span class='op'>)</span>
<span class='va'>download</span> <span class='op'>&lt;-</span> <span class='fu'>RCurl</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/RCurl/man/getURL.html'>getURL</a></span><span class='op'>(</span><span class='va'>train_d</span><span class='op'>)</span>
<span class='va'>train</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span>text <span class='op'>=</span> <span class='va'>download</span>, header <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>train</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Long"</span>, <span class='st'>"Diam"</span>, <span class='st'>"Alt"</span>, <span class='st'>"PesoEnt"</span>,
                     <span class='st'>"PesoDesc"</span>, <span class='st'>"PesoVisc"</span>, <span class='st'>"PesoCasc"</span>, <span class='st'>"Edad"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>train</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Long"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Diam"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Alt"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["PesoEnt"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["PesoDesc"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["PesoVisc"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["PesoCasc"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Edad"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"0.435","2":"0.335","3":"0.110","4":"0.334","5":"0.1355","6":"0.0775","7":"0.0965","8":"7","_rn_":"1"},{"1":"0.585","2":"0.450","3":"0.125","4":"0.874","5":"0.3545","6":"0.2075","7":"0.2250","8":"6","_rn_":"2"},{"1":"0.655","2":"0.510","3":"0.160","4":"1.092","5":"0.3960","6":"0.2825","7":"0.3700","8":"14","_rn_":"3"},{"1":"0.545","2":"0.425","3":"0.125","4":"0.768","5":"0.2940","6":"0.1495","7":"0.2600","8":"16","_rn_":"4"},{"1":"0.545","2":"0.420","3":"0.130","4":"0.879","5":"0.3740","6":"0.1695","7":"0.2300","8":"13","_rn_":"5"},{"1":"0.570","2":"0.450","3":"0.145","4":"0.751","5":"0.2825","6":"0.2195","7":"0.2215","8":"10","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<h3 id="prueba">Prueba</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>test_d</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"https://storage.googleapis.com/"</span>,
                 <span class='st'>"download.tensorflow.org/data/abalone_test.csv"</span><span class='op'>)</span>
<span class='va'>download</span> <span class='op'>&lt;-</span> <span class='fu'>RCurl</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/RCurl/man/getURL.html'>getURL</a></span><span class='op'>(</span><span class='va'>test_d</span><span class='op'>)</span>
<span class='va'>test</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span>text <span class='op'>=</span> <span class='va'>download</span>, header <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>test</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Long"</span>, <span class='st'>"Diam"</span>, <span class='st'>"Alt"</span>, <span class='st'>"PesoEnt"</span>, <span class='st'>"PesoDesc"</span>,
                    <span class='st'>"PesoVisc"</span>, <span class='st'>"PesoCasc"</span>, <span class='st'>"Edad"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>test</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Long"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Diam"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Alt"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["PesoEnt"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["PesoDesc"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["PesoVisc"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["PesoCasc"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Edad"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"0.570","2":"0.465","3":"0.180","4":"1.2950","5":"0.3390","6":"0.2225","7":"0.440","8":"12","_rn_":"1"},{"1":"0.660","2":"0.530","3":"0.185","4":"1.3485","5":"0.4930","6":"0.2450","7":"0.490","8":"12","_rn_":"2"},{"1":"0.440","2":"0.345","3":"0.120","4":"0.3650","5":"0.1655","6":"0.0830","7":"0.110","8":"7","_rn_":"3"},{"1":"0.620","2":"0.475","3":"0.160","4":"1.1295","5":"0.4630","6":"0.2685","7":"0.330","8":"10","_rn_":"4"},{"1":"0.505","2":"0.410","3":"0.135","4":"0.6570","5":"0.2910","6":"0.1330","7":"0.195","8":"15","_rn_":"5"},{"1":"0.625","2":"0.515","3":"0.155","4":"1.1635","5":"0.4875","6":"0.2590","7":"0.355","8":"11","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
<p>© Copyright 2021 [Dr. Plancton] (https://www.drplancton.com).</p>
<p>Software licensed under the [Apache License, v2.0] (https://www.apache.org/licenses/LICENSE-2.0).</p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>

<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="M. en C. Arturo Bell Enríquez García" />


<title>Técnicas Multivariadas: Introducción</title>

<!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content=""/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
<!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->

<style type="text/css">
body {
  padding-top: 60px;
}
</style>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/pandoc/header-attrs.js"></script>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/jquerylib/lib/3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/bootstrap/css/cosmo.min.css" rel="stylesheet" />
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/bootstrap/js/bootstrap.min.js"></script>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/bootstrap/shim/html5shiv.min.js"></script>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/bootstrap/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/jqueryui/jquery-ui.min.js"></script>
<link href="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/tocify/jquery.tocify.css" rel="stylesheet" />
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/tocify/jquery.tocify.js"></script>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/navigation-1.1/tabsets.js"></script>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/navigation-1.1/codefolding.js"></script>
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/navigation-1.1/sourceembed.js"></script>
<link href="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/highlightjs/default.css" rel="stylesheet" />
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/highlightjs/highlight.js"></script>
<link href="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="/Library/Frameworks/R.framework/Versions/4.0/Resources/library/rmarkdown/rmd/h/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://drplancton.com">
<img src="logo.png" alt="Logo"/>
</a>
<a href="index.html" class="title">Bioestadística con R</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Temas
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="biolcdatos.html">Biología como Ciencia de Datos</a>
<a href="herrbasic.html">Herramientas Básicas</a>
<a href="rel_lin.html">Relaciones Lineales</a>
<a href="noparnolin.html">No Paramétrico y No Lineal</a>
<a href="mv.html">Técnicas Multivariadas</a>
</div>
</div>
</div>
<div class="nav-right">
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Temas
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Biología como Ciencia de Datos</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="c1_Intro_R.html">Introducción a R</a>
        </li>
        <li>
          <a href="c2_ggplot2.html">ggplot2</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Herramientas Básicas</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="c3_probabilidad.html">Probabilidad</a>
        </li>
        <li>
          <a href="c4_muestreo.html">Teoría del Muestreo</a>
        </li>
        <li>
          <a href="c5_descriptiva.html">Estadística Descriptiva</a>
        </li>
        <li>
          <a href="c6_ph0.html">Pruebas de hipótesis</a>
        </li>
        <li>
          <a href="c7_param.html">Técnicas Paramétricas</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Relaciones Lineales</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="c8_rls.html">Modelo Lineal Simple</a>
        </li>
        <li>
          <a href="c9_glm.html">Modelos Lineales Generalizados</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">No Paramétrico y No Lineal</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="c10_no_par.html">Técnicas No Paramétricas</a>
        </li>
        <li>
          <a href="c11_no_lineal.html">Modelos No Lineales</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Técnicas Multivariadas</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="c11_intro_mv.html">Introducción</a>
        </li>
        <li>
          <a href="c12_no_sup.html">No supervisadas</a>
        </li>
        <li>
          <a href="c13_comps_mv.html">Comparaciones Multivariadas</a>
        </li>
        <li>
          <a href="c14_clasificacion.html">Clasificaciones</a>
        </li>
        <li>
          <a href="c15_regs_mv.html">Regresiones Múltiples</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Técnicas Multivariadas: Introducción</h1>
<h4 class="author">M. en C. Arturo Bell Enríquez García</h4>

</div>


<p><strong><a href="https://youtu.be/0y_3iX8oH5c">VIDEO</a></strong></p>
<div id="matrices-de-correlación-y-covarianzas" class="section level2">
<h2>Matrices de correlación y covarianzas:</h2>
<p>Para obtenerlas utilizaremos las mismas funciones que para el cálculo individual (y por consiguiente podremos calcular también la <span class="math inline">\(\rho\)</span> de Spearman). Utilicemos como ejemplo la base de datos <code>mtcars</code>:</p>
<pre class="r"><code>head(mtcars)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["mpg"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["cyl"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["disp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["drat"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["wt"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["qsec"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["vs"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["am"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["gear"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["carb"],"name":[11],"type":["dbl"],"align":["right"]}],"data":[{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.620","7":"16.46","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4"},{"1":"21.0","2":"6","3":"160","4":"110","5":"3.90","6":"2.875","7":"17.02","8":"0","9":"1","10":"4","11":"4","_rn_":"Mazda RX4 Wag"},{"1":"22.8","2":"4","3":"108","4":"93","5":"3.85","6":"2.320","7":"18.61","8":"1","9":"1","10":"4","11":"1","_rn_":"Datsun 710"},{"1":"21.4","2":"6","3":"258","4":"110","5":"3.08","6":"3.215","7":"19.44","8":"1","9":"0","10":"3","11":"1","_rn_":"Hornet 4 Drive"},{"1":"18.7","2":"8","3":"360","4":"175","5":"3.15","6":"3.440","7":"17.02","8":"0","9":"0","10":"3","11":"2","_rn_":"Hornet Sportabout"},{"1":"18.1","2":"6","3":"225","4":"105","5":"2.76","6":"3.460","7":"20.22","8":"1","9":"0","10":"3","11":"1","_rn_":"Valiant"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Ahora estimemos ambas matrices:</p>
<pre class="r"><code># Matriz de covarianzas
cov.mat &lt;- cov(mtcars)

# Matriz de correlación
cor.mat &lt;- cor(mtcars)

# Las imprimimos en pantalla
cov.mat</code></pre>
<pre><code>##              mpg         cyl        disp          hp         drat          wt
## mpg    36.324103  -9.1723790  -633.09721 -320.732056   2.19506351  -5.1166847
## cyl    -9.172379   3.1895161   199.66028  101.931452  -0.66836694   1.3673710
## disp -633.097208 199.6602823 15360.79983 6721.158669 -47.06401915 107.6842040
## hp   -320.732056 101.9314516  6721.15867 4700.866935 -16.45110887  44.1926613
## drat    2.195064  -0.6683669   -47.06402  -16.451109   0.28588135  -0.3727207
## wt     -5.116685   1.3673710   107.68420   44.192661  -0.37272073   0.9573790
## qsec    4.509149  -1.8868548   -96.05168  -86.770081   0.08714073  -0.3054816
## vs      2.017137  -0.7298387   -44.37762  -24.987903   0.11864919  -0.2736613
## am      1.803931  -0.4657258   -36.56401   -8.320565   0.19015121  -0.3381048
## gear    2.135685  -0.6491935   -50.80262   -6.358871   0.27598790  -0.4210806
## carb   -5.363105   1.5201613    79.06875   83.036290  -0.07840726   0.6757903
##              qsec           vs           am        gear        carb
## mpg    4.50914919   2.01713710   1.80393145   2.1356855 -5.36310484
## cyl   -1.88685484  -0.72983871  -0.46572581  -0.6491935  1.52016129
## disp -96.05168145 -44.37762097 -36.56401210 -50.8026210 79.06875000
## hp   -86.77008065 -24.98790323  -8.32056452  -6.3588710 83.03629032
## drat   0.08714073   0.11864919   0.19015121   0.2759879 -0.07840726
## wt    -0.30548161  -0.27366129  -0.33810484  -0.4210806  0.67579032
## qsec   3.19316613   0.67056452  -0.20495968  -0.2804032 -1.89411290
## vs     0.67056452   0.25403226   0.04233871   0.0766129 -0.46370968
## am    -0.20495968   0.04233871   0.24899194   0.2923387  0.04637097
## gear  -0.28040323   0.07661290   0.29233871   0.5443548  0.32661290
## carb  -1.89411290  -0.46370968   0.04637097   0.3266129  2.60887097</code></pre>
<pre class="r"><code>cor.mat</code></pre>
<pre><code>##             mpg        cyl       disp         hp        drat         wt
## mpg   1.0000000 -0.8521620 -0.8475514 -0.7761684  0.68117191 -0.8676594
## cyl  -0.8521620  1.0000000  0.9020329  0.8324475 -0.69993811  0.7824958
## disp -0.8475514  0.9020329  1.0000000  0.7909486 -0.71021393  0.8879799
## hp   -0.7761684  0.8324475  0.7909486  1.0000000 -0.44875912  0.6587479
## drat  0.6811719 -0.6999381 -0.7102139 -0.4487591  1.00000000 -0.7124406
## wt   -0.8676594  0.7824958  0.8879799  0.6587479 -0.71244065  1.0000000
## qsec  0.4186840 -0.5912421 -0.4336979 -0.7082234  0.09120476 -0.1747159
## vs    0.6640389 -0.8108118 -0.7104159 -0.7230967  0.44027846 -0.5549157
## am    0.5998324 -0.5226070 -0.5912270 -0.2432043  0.71271113 -0.6924953
## gear  0.4802848 -0.4926866 -0.5555692 -0.1257043  0.69961013 -0.5832870
## carb -0.5509251  0.5269883  0.3949769  0.7498125 -0.09078980  0.4276059
##             qsec         vs          am       gear        carb
## mpg   0.41868403  0.6640389  0.59983243  0.4802848 -0.55092507
## cyl  -0.59124207 -0.8108118 -0.52260705 -0.4926866  0.52698829
## disp -0.43369788 -0.7104159 -0.59122704 -0.5555692  0.39497686
## hp   -0.70822339 -0.7230967 -0.24320426 -0.1257043  0.74981247
## drat  0.09120476  0.4402785  0.71271113  0.6996101 -0.09078980
## wt   -0.17471588 -0.5549157 -0.69249526 -0.5832870  0.42760594
## qsec  1.00000000  0.7445354 -0.22986086 -0.2126822 -0.65624923
## vs    0.74453544  1.0000000  0.16834512  0.2060233 -0.56960714
## am   -0.22986086  0.1683451  1.00000000  0.7940588  0.05753435
## gear -0.21268223  0.2060233  0.79405876  1.0000000  0.27407284
## carb -0.65624923 -0.5696071  0.05753435  0.2740728  1.00000000</code></pre>
<p>Veámos la matriz de correlaciones gráficamente:</p>
<pre class="r"><code>library(corrplot)</code></pre>
<pre><code>## corrplot 0.84 loaded</code></pre>
<pre class="r"><code>corrplot(cor.mat, method = &quot;ellipse&quot;, type = &quot;upper&quot;)</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Ahora utilicemos una función que, en un solo paso, computará la matriz de correlación, realizará una prueba de significancia para cada una y además nos presentará la matriz de manera gráfica:</p>
<pre class="r"><code>source(&quot;http://www.sthda.com/upload/rquery_cormat.r&quot;) # Descarga la función desde esa url y la carga en memoria
mydata &lt;- mtcars[, c(1,3,4,5,6,7)] # Para fines prácticos se extrae un subconjunto de las columnas
rquery.cormat(mydata) # Se aplica la función</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre><code>## $r
##         hp  disp    wt  qsec  mpg drat
## hp       1                            
## disp  0.79     1                      
## wt    0.66  0.89     1                
## qsec -0.71 -0.43 -0.17     1          
## mpg  -0.78 -0.85 -0.87  0.42    1     
## drat -0.45 -0.71 -0.71 0.091 0.68    1
## 
## $p
##           hp    disp      wt  qsec     mpg drat
## hp         0                                   
## disp 7.1e-08       0                           
## wt   4.1e-05 1.2e-11       0                   
## qsec 5.8e-06   0.013    0.34     0             
## mpg  1.8e-07 9.4e-10 1.3e-10 0.017       0     
## drat    0.01 5.3e-06 4.8e-06  0.62 1.8e-05    0
## 
## $sym
##      hp disp wt qsec mpg drat
## hp   1                       
## disp ,  1                    
## wt   ,  +    1               
## qsec ,  .       1            
## mpg  ,  +    +  .    1       
## drat .  ,    ,       ,   1   
## attr(,&quot;legend&quot;)
## [1] 0 &#39; &#39; 0.3 &#39;.&#39; 0.6 &#39;,&#39; 0.8 &#39;+&#39; 0.9 &#39;*&#39; 0.95 &#39;B&#39; 1</code></pre>
<p>Otra alternativa es utilizar la función <code>chart.Correlation(data, histogram)</code> de la librería <code>PerformanceAnalytics</code>, en la cual se muestran todos resultados en una misma gráfica:</p>
<pre class="r"><code>library(PerformanceAnalytics)</code></pre>
<pre><code>## Loading required package: xts</code></pre>
<pre><code>## Loading required package: zoo</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre><code>## 
## Attaching package: &#39;PerformanceAnalytics&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:moments&#39;:
## 
##     kurtosis, skewness</code></pre>
<pre><code>## The following object is masked from &#39;package:graphics&#39;:
## 
##     legend</code></pre>
<pre class="r"><code>chart.Correlation(mydata, histogram = T, pch = 19)</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Un comentario final al respecto de estas matrices es que, además de ser la base de las técnicas multivariadas, nos permiten evaluar la asociación entre nuestras variables sin comprometer un modelo predictivo, a la vez que nos permitirán hacer un filtrado de nuestras variables para evitar autocorrelaciones o incluir variables poco informativas, aunque de esto hablaremos más adelante.</p>
</div>
<div id="normalidad-multivariada" class="section level2">
<h2>Normalidad multivariada</h2>
<p>Para analizar si nuestros datos multivariados se ajustan a una distribución normal multivariada utilizaremos la librería <code>MVN</code>, cuya función <code>mvn(data, mvnTest, multivariatePlot)</code> nos permite realizar una serie de pruebas tanto multi como univariadas:</p>
<div id="prueba-de-mardia-1970" class="section level3">
<h3>Prueba de Mardia (1970)</h3>
<p>Consiste en analizar si los momentos de la distribución Mv de los datos difieren de los esperados de una distribución Normal Mv (<a href="http://bit.ly/mardia_test">Mardia 1970</a>), las hipótesis nulas son:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(H_0: S_{obs} = S_{NMv_{µ, \Sigma}}\)</span></li>
<li><span class="math inline">\(H_0: K_{obs} = K_{NMv_{µ, \Sigma}}\)</span></li>
</ol>
<p>Donde <span class="math inline">\(\mu\)</span> representa el vector de medias de cada variable y <span class="math inline">\(\Sigma\)</span> la matriz de covarianzas.</p>
<p>Al realizar esta prueba vemos que la distribución Mv observada tiene una curtosis adecuada, aunque se encuentra fuertemente sesgada. Si analizamos los datos univariados vemos que en apariencia 2/6 variables presentan normalidad univariada.</p>
<pre class="r"><code>library(MVN)</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;GGally&#39;:
##   method from   
##   +.gg   ggplot2</code></pre>
<pre><code>## sROC 0.1-2 loaded</code></pre>
<pre class="r"><code>mvntest &lt;- mvn(mydata, mvnTest = &quot;mardia&quot;)
mardia.test &lt;- mvntest$multivariateNormality
unitest &lt;- mvntest$univariateNormality

mardia.test</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Test"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Statistic"],"name":[2],"type":["fct"],"align":["left"]},{"label":["p value"],"name":[3],"type":["fct"],"align":["left"]},{"label":["Result"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"Mardia Skewness","2":"77.6519454787057","3":"0.0293424460277968","4":"NO"},{"1":"Mardia Kurtosis","2":"0.241701622075929","3":"0.80901137258975","4":"YES"},{"1":"MVN","2":"NA","3":"NA","4":"NO"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>unitest</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Test"],"name":[1],"type":["I<chr>"],"align":["right"]},{"label":["Variable"],"name":[2],"type":["I<chr>"],"align":["right"]},{"label":["Statistic"],"name":[3],"type":["I<chr>"],"align":["right"]},{"label":["p value"],"name":[4],"type":["I<chr>"],"align":["right"]},{"label":["Normality"],"name":[5],"type":["I<chr>"],"align":["right"]}],"data":[{"1":"Shapiro-Wilk","2":"mpg","3":"0.9476","4":"0.1229","5":"YES","_rn_":"1"},{"1":"Shapiro-Wilk","2":"disp","3":"0.9200","4":"0.0208","5":"NO","_rn_":"2"},{"1":"Shapiro-Wilk","2":"hp","3":"0.9334","4":"0.0488","5":"NO","_rn_":"3"},{"1":"Shapiro-Wilk","2":"drat","3":"0.9459","4":"0.1101","5":"YES","_rn_":"4"},{"1":"Shapiro-Wilk","2":"wt","3":"0.9433","4":"0.0927","5":"YES","_rn_":"5"},{"1":"Shapiro-Wilk","2":"qsec","3":"0.9733","4":"0.5935","5":"YES","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="prueba-de-henze-zirkler" class="section level3">
<h3>Prueba de Henze-Zirkler</h3>
<p>Si observamos con atención los valores de p, veremos que hay algunos que se encuentran cercanos al umbral de 0.05 por lo que un análisis a partir de los cuantiles de la distribución puede ser una alternativa más informativa. Para ello podemos utilizar la prueba de Henze-Zirkler. Esta prueba considera una hipótesis compuesta, en la cual <em>la distribución de X es una distribución normal no degenerada</em>, cuyos resultados son consistentes contra cualquier distribución alternativa no normal (por ello compuesta). La representación está dada en términos de <span class="math inline">\(L^2\)</span> (Distancia de Mahalanobis, más adelante hablaremos sobre medidas de distancia). Al ser una prueba de bondad de ajuste (observado vs. esperado), el estadístico de prueba sigue una distribución <span class="math inline">\(\chi^2\)</span> (<a href="http://bit.ly/Henze_Zirkler">Henze y Zirkler 2007</a>).</p>
<p>Aplicandola con <code>mvn()</code> vemos que también sugiere una falta de normalidad, lo cual podemos comprobar al ver el gráfico Cuantil-Cuantil</p>
<pre class="r"><code>hz.test &lt;- mvn(mydata, mvnTest = &quot;hz&quot;, multivariatePlot = &quot;qq&quot;)$multivariateNormality</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>hz.test</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Test"],"name":[1],"type":["chr"],"align":["left"]},{"label":["HZ"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p value"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["MVN"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"Henze-Zirkler","2":"1.046162","3":"0.001459679","4":"NO"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Ese gráfico, aunque informativo, puede trabajarse para hacerse más agradable a la vista utilizando ggplot2 utilizando la siguiente función personalizada creada a partir del código utilizado para la gráfica anterior:</p>
<pre class="r"><code># Funciones personalizadas:

# Extraida de la función mvn(multivariatePlot = &quot;qq&quot;) para un gráfico QQ para normalidad multivariada utilizando la distancia de mahalanobis
ji2.plot &lt;- function(df){
  # Datos
  n &lt;- dim(mydata)[1] # número de datos
  p &lt;- dim(mydata)[2] # número de grupos
  dif &lt;- scale(mydata, scale = F) # Centramos los datos (a-µ(a)) sin escalarlos (sin dividir por su \sigma)
  d &lt;- diag(dif %*% solve(cov(mydata), tol = 1e-25) %*% t(dif)) # Cálculo de la distancia de mahalanobis^2
  r &lt;- rank(d) # Asignación de rangos a las distancias
  ji2 &lt;-  qchisq((r - 0.5)/n, p) # Obtención de los cuantiles teóricos según la distribución ji^2
  ji2.plot.data &lt;- data.frame(d, ji2) # Reunimos los objetos en un data.frame para graficar con ggplot2
  
  # Graficado
  library(ggplot2)
  ji2.qq &lt;- ggplot(data = ji2.plot.data, aes(x = d, y = ji2)) + 
            geom_point(colour = &quot;deepskyblue4&quot;, alpha = 0.5, size = 4) + 
            geom_abline(slope = 1, colour = rgb(118,78,144, maxColorValue = 255), size = 1) +
            labs(title = bquote(&quot;Gráfico QQ de&quot; ~~ {chi^2} ~~ &quot;, g.l = &quot;~ .(p)),
                 subtitle = bquote(&quot;Distancia de Mahalanobis (&quot;~{D^2}~&quot;) vs. Cuantiles teóricos&quot;),
                 x = element_blank(),
                 y = element_blank(),
                 caption = &quot;Basado en mvn(..., multivariatePlot == \&quot;qq\&quot;)&quot;
                 )

  return(ji2.qq)
}

# Tema personalizado
blank_theme &lt;- function(){
  theme(panel.grid.minor = element_blank(),
        panel.grid.major = element_blank(),
        panel.background = element_blank(),
        axis.line = element_blank(),
        aspect.ratio = 1/1.61,
        axis.ticks = element_blank(),
        text = element_text(colour = &quot;gray50&quot;), # Eliminar
        legend.position = &quot;none&quot;
        )
}</code></pre>
<pre class="r"><code>qqjiplot &lt;- ji2.plot(mydata) + blank_theme()
qqjiplot</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="prueba-de-royston" class="section level3">
<h3>Prueba de Royston</h3>
<p>Esta prueba es una extensión multivariada de la prueba por excelencia para la normalidad univariada: la prueba de Shapiro-Wilk’s. Originalmente propuesta en 1983, aunque fue corregida/ampliada por el mismo autor en 1992 (<a href="http://bit.ly/Royston_otros">Royston vs. otras</a>). Funciona mejor para muestras pequeñas, aunque no se recomienda emplearla con menos de 3 observaciones o con más de 2000.</p>
<p>Su implementación sigue la misma línea que los casos anteriores. Si analizamos el valor de p, veremos que se encuentra en el límite de la significancia a un <span class="math inline">\(\alpha = 0.05\)</span>; sin embargo, si consideramos también el gráfico QQ que elaboramos anteriormente, no podemos asumir que esas desviaciones sean despreciables.</p>
<pre class="r"><code>royston.test &lt;- mvn(mydata, mvnTest = &quot;royston&quot;)$multivariateNormality
royston.test</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Test"],"name":[1],"type":["chr"],"align":["left"]},{"label":["H"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["p value"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["MVN"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"Royston","2":"6.680718","3":"0.04965041","4":"NO"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="igualdad-de-dispersiones-multivariadas" class="section level2">
<h2>Igualdad de dispersiones multivariadas</h2>
<p>Conforme vayamos avanzando en el curso veremos que, entre los supuestos de algunas pruebas, vamos a encontrar el de “igualdad de dispersiones multivariadas”; <em>i.e.</em>, igualdad de matrices de covarianza. Una alternativa es utilizar la prueba de <a href="http://bit.ly/Homo_mvdisp">Anderson (2006)</a>, la cual es un análogo multivariado a la prueba de Levene para la homogeneidad de varianzas. La prueba de hipótesis está basada en distancias no euclidianas entre los grupos (<em>i.e.</em>, no utiliza el teorema de Pitágoras :( ). Un dato curioso es que este método también se ha utilizado para evaluar la diversidad <span class="math inline">\(\beta\)</span> de una comunidad.</p>
<p>Para su implementación en R utilizaremos la función <code>betadisper</code> de la librería <code>vegan</code>. Al ser un método basado en distancias, primero habrá que transformar los datos a una matriz de distancias utilizando alguna de las funciones <code>dist</code>, <code>betadiver</code> o <code>vegdist</code>. Necesitamos, además, establecer los grupos a utilizar.</p>
<pre class="r"><code>library(vegan)</code></pre>
<pre><code>## Loading required package: permute</code></pre>
<pre><code>## Loading required package: lattice</code></pre>
<pre><code>## This is vegan 2.5-7</code></pre>
<pre class="r"><code>dist.mat &lt;- vegdist(mydata, method = &quot;bray&quot;, type = c(&quot;median&quot;))
groups &lt;- as.character(mtcars$cyl)
#dist.mat # Por fines prácticos no se muestra, ya que calcula una distancia entre cada par de instancias o grupos, resultando en matrices sumamente grandes</code></pre>
<p>Ahora utilizaremos la función <code>betadisper</code> para comprobar la homogeneidad de dispersiones entre los distintos cilindros. Esta prueba únicamente genera el espacio multivariado para realizar la prueba, realizando un ACP para reducir la dimensionalidad de la base de datos y estimar las distancias a la mediana de cada uno de los grupos establecidos.</p>
<pre class="r"><code>disp.mv &lt;- betadisper(dist.mat, group = groups, type = &quot;median&quot;) # Realizar el procedimiento
disp.mv</code></pre>
<pre><code>## 
##  Homogeneity of multivariate dispersions
## 
## Call: betadisper(d = dist.mat, group = groups, type = &quot;median&quot;)
## 
## No. of Positive Eigenvalues: 18
## No. of Negative Eigenvalues: 13
## 
## Average distance to median:
##       4       6       8 
## 0.09587 0.06171 0.08251 
## 
## Eigenvalues for PCoA axes:
## (Showing 8 of 31 eigenvalues)
##    PCoA1    PCoA2    PCoA3    PCoA4    PCoA5    PCoA6    PCoA7    PCoA8 
## 1.392690 0.091453 0.040689 0.037914 0.025951 0.009016 0.007642 0.004007</code></pre>
<p>Si realizamos la prueba de hipótesis vemos que, al parecer, las dispersiones multiviariadas son similares entre los 3 grupos.</p>
<pre class="r"><code>anova(disp.mv) # Prueba de hipótesis</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Sum Sq"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Mean Sq"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"0.00499152","3":"0.00249576","4":"1.238726","5":"0.3046332","_rn_":"Groups"},{"1":"29","2":"0.05842862","3":"0.00201478","4":"NA","5":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Ahora veamos las dispersiones gráficamente:</p>
<pre class="r"><code>plot(disp.mv, ellipse = T, hull = F) # Análisis gráfico</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-14-1.png" width="672" /> Al analizar el gráfico vemos que las dispersiones son similares; sin embargo, pareciera que la dispersión del grupo 6 es más pequeña que la de los grupos 4 y 8, en tonces realicemos las comparaciones pareadas univariadas con la prueba Honesta de Diferencias Significativas de Tukey (<code>TukeyHSD</code>). Los resultados sugieren que las dispersiones con un <span class="math inline">\(\alpha = 0.05\)</span> son similares, lo cual a su vez pudiera sugerir que hay un equilibrio entre las dispersiones en el eje x con respecto a las dispersiones en el eje y.</p>
<pre class="r"><code>mod.HSD &lt;- TukeyHSD(disp.mv)
mod.HSD &lt;- data.frame(mod.HSD$group, comp = dimnames(mod.HSD$group)[[1]])
mod.HSD</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["diff"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["lwr"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["upr"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p.adj"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["comp"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"-0.03415902","2":"-0.08775592","3":"0.01943787","4":"0.2727664","5":"6-4","_rn_":"6-4"},{"1":"-0.01335766","2":"-0.05802174","3":"0.03130642","4":"0.7427965","5":"8-4","_rn_":"8-4"},{"1":"0.02080137","2":"-0.03051376","3":"0.07211649","4":"0.5820846","5":"8-6","_rn_":"8-6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Al igual que en el caso anterior podemos utilizar ggplot para personalizar el gráfico:</p>
<pre class="r"><code>hsd.plot &lt;- ggplot(data = mod.HSD, 
                   aes(x = comp)) + 
            geom_point(aes(y = diff), 
                       colour = &quot;deepskyblue4&quot;, 
                       size = 4, 
                       alpha = 0.7)+ 
            geom_errorbar(aes(ymin = lwr, ymax = upr), 
                          colour = &quot;deepskyblue4&quot;) + 
            blank_theme() + 
            labs(title = &quot;Diferencias en dispersión multivariada e IC&quot;,
                 subtitle = &quot;Prueba HSD de Tukey&quot;,
                 x = &quot;Grupos&quot;,
                 y = element_blank()) +
            scale_y_continuous(breaks = NULL) + 
            geom_hline(yintercept = 0, colour = rgb(118,78,144, maxColorValue = 255), linetype = &quot;dashed&quot;) +
            annotate(&quot;text&quot;,
                     x = 0.5, y = 0+0.005, 
                     label = as.character(0),
                     colour = rgb(118,78,144, maxColorValue = 255)
                     ) +
            geom_hline(yintercept = max(mod.HSD$upr), colour = &quot;firebrick&quot;, alpha = 0.7, linetype = &quot;dashed&quot;) +
            annotate(&quot;text&quot;,
                     x = 0.5, y = max(mod.HSD$upr)-0.005, 
                     label = as.character(round(max(mod.HSD$upr),2)),
                     colour = &quot;firebrick&quot;
                     ) +
            geom_hline(yintercept = min(mod.HSD$lwr), colour = &quot;firebrick&quot;, alpha = 0.7, linetype = &quot;dashed&quot;) +
            annotate(&quot;text&quot;,
                     x = 0.5, y = min(mod.HSD$lwr)-0.005, 
                     label = as.character(round(min(mod.HSD$lwr),2)),
                     colour = &quot;firebrick&quot;
                     ) +
            geom_text(aes(label = paste(&quot;p = &quot;, round(p.adj,2)), y = 0),
                       stat = &quot;identity&quot;,
                       nudge_y = max(mod.HSD$upr)+0.005, colour = &quot;gray50&quot;)
            
hsd.plot</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="implicaciones-analíticas-de-la-multidimensionalidad" class="section level2">
<h2>Implicaciones analíticas de la multidimensionalidad</h2>
<p>Es importante mencionar que entre más incrementemos la dimensionalidad de nuestro problema más difícil será resumir en un solo resultado las pruebas de nuestros análisis y, en consecuencia, deberemos de considerar distintas técnicas/estrategias que analicen nuestros datos desde distintas perspectivas antes de emitir un juicio o extraer conclusiones. Por esta razón, es sumamente importante que realicemos una selección de variables de manera rigurosa antes de comenzar nuestro análisis, ya que incluir variables innecesariamente únicamente incrementará la varianza de los datos sin aportarnos ninguna información adicional, causando desviaciones de la normalidad, modelos complejos sobre o infra ajustados y pérdidas de poder estadístico.</p>
<p>En cuanto a la normalidad, hay un par de consideraciones a tener en cuenta. La primera es que si nuestro análisis está basado en la matriz de correlación estaremos cumpliendo el supuesto de normalidad de la técnica que estemos aplicando (de tenerlo), ya que, explícitamente ajustamos los datos a una distribución normal. Por otra parte, es importante mencionar que si nuestros datos en realidad no se ajustan o se encuentran fuertemente desviados de la normalidad, las conclusiones que extraigamos serán únicamente sobre la tendencia más general de nuestros datos (Revisar: desigualdad/teorema de Chebyshev) y, en consecuencia, pueden no ser una representación completa de nuestras muestras. Si esto es importante o no, dependerá de nuesta pregunta de investigación y qué tan fino querramos que sea el análisis.</p>
</div>
<div id="transformaciones-o-deformaciones" class="section level2">
<h2>Transformaciones o deformaciones</h2>
<p>Habiendo tocado el tema de la estandarización, hablemos también del resto de transformaciones. En general, podemos considerar que existen dos tipos de transformaciones: 1. Aquellas que afectan la distribución de los datos (logarítmica) 2. Aquellas que simplemente cambian los límites de la distribución original (MinMax)</p>
<p>¿Cuál utilizar? Dependerá de nuestros objetivos para hacerla, lo cual me lleva al punto de que: NINGUNA transformación debe de ser aplicada sin cuidado. Hay que tener en cuenta que aunque no se cambie la distribución de los datos, el análisis ya no se realiza sobre los datos originales, lo cual puede causar errores de interpretación. Con esto no quiero decir que las transformaciones sean malas, solo que hay que emplearlas con una justificación y asegurarnos de re-transformar los datos antes de hacer inferencias.</p>
<p>Veamos algunas de las transformaciones más comunes y cuáles son sus consecuencias en los datos. Para ello, consideremos estos datos sin transformar. Vemos que están altamente sesgados y en consecuencia bastante alejados de la normalidad:</p>
<pre class="r"><code># Función de graficado
kdeplots &lt;- function(data, aes){
  kdeplots &lt;- ggplot(data, aes) + 
            geom_density() + 
            blank_theme() +
            labs(title = &quot;Conteo de peces&quot;,
                 subtitle = &quot;Gráfico de densidad con datos y distrintas transformaciones&quot;,
                 caption = &quot;Datos: http://bit.ly/comm_transf&quot;,
                 x = element_blank(),
                 y = element_blank()) +
            scale_y_continuous(breaks = NULL)
  return(kdeplots)
}</code></pre>
<pre class="r"><code>df &lt;- data.frame(datos = c(38, 1, 13, 2, 13, 20, 150, 9, 28, 6, 4, 43), transf = &quot;originales&quot;)

kde.plots &lt;- kdeplots(df, aes(datos, color = transf))
kde.plots</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div id="estandarización" class="section level3">
<h3>Estandarización</h3>
<p>Veamos el efecto de estandarizar los datos; es decir, utilizar la distribución Z. El resultado es la misma distribución, aunque los datos ahora se encuentran escalados en el intervalo [-3,3] indicando a cuantas SD de la media se encuentra cada punto.</p>
<pre class="r"><code>df2 &lt;- rbind(df, data.frame(datos = (df$datos-mean(df$datos))/sd(df$datos), transf = &quot;Z&quot;))
kde.plots &lt;- kdeplots(df2, aes(datos, color = transf)) + facet_wrap(~transf, scales = &quot;free&quot;)
kde.plots</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="transformación-logarítmica" class="section level3">
<h3>Transformación logarítmica:</h3>
<p>Posiblemente la transformación más conocida, utilizada y, en consecuencia, abusada.Se realiza aplicando la ecuación <span class="math inline">\(X_{log} = log_n(X)\)</span>. (OJO: si hay ceros será <span class="math inline">\(X_{log} = log_n(X+1)\)</span>, ya que el logaritmo de 0 no existe). Veamos qué le pasa a la distribución al aplicarla. La distribución cambió notablemente, ahora se encuentra mucho más cerca de una forma de campana. ¿Cuándo aplicarla? Cuando querramos forzar nuestros datos a una distribución normal para cumplir con los supuestos de alguna prueba paramétrica, linealizar los datos y, equivocadamente, ponerlos en la misma escala que otra variable. Con excepción del último caso, cualquiera de las formas está matemáticamente justificada, solo hay que tener en consideración que los datos no son los originales y que pueden no representar adecuadamente nuestro muestreo. Otro caso en el cual es válido utilizarlo es si queremos ver cuál es cuando tenemos distintos factores y nuestra variable de respuesta es el resultado de su interacción (producto) tal que <span class="math inline">\(Y = a \times b \times c \times d\times ... \times z\)</span> (efecto multiplicativo y no aditivo), ya que el resultado es una distribución con forma log-normal que no es posible capturar con los datos originales. Su re-transformación es <span class="math inline">\(n^{X_{log}}\)</span>. Salvo en el último caso, recomiendo contrastar los resultados con una prueba no paramétrica utilizando los datos originales y ver cuáles son las diferencias.</p>
<pre class="r"><code>df2 &lt;- rbind(df2, data.frame(datos = log(df$datos), transf = &quot;log(x)&quot;))
kde.plots &lt;- kdeplots(df2, aes(datos, color = transf)) + facet_wrap(~transf, scales = &quot;free&quot;)
kde.plots</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="raíz-cuadrada" class="section level3">
<h3>Raíz cuadrada</h3>
<p>Otra transformación muy empleada, consiste en en obtener la raíz cuadrada de cada uno de los datos (<span class="math inline">\(\sqrt{X}\)</span>, OJO: si hay valores negativos no se puede utilizar, hay que pasarlos a valores absolutos o añadir una constante para volverlos positivos). Veamos su efecto en la distribución. En este caso el cambio en la forma no es tan agresivo, y la consecuencia es únicamente que las diferencias entre los valores más altos y los más pequeños se redujo. Su re-transformación es: <span class="math inline">\(\sqrt{x}^2\)</span>. Su uso más común es con datos de conteo (abundancias, bacterias en una caja petri, etc.)</p>
<pre class="r"><code>df2 &lt;- rbind(df2, data.frame(datos = sqrt(df$datos), transf = &quot;sqrt(x)&quot;))
kde.plots &lt;- kdeplots(df2, aes(datos, color = transf)) + facet_wrap(~transf, scales = &quot;free&quot;)
kde.plots</code></pre>
<p><img src="c12_intro_mv_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
</div>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
<p>© Copyright 2021 [Dr. Plancton] (https://www.drplancton.com).</p>
<p>Software licensed under the [Apache License, v2.0] (https://www.apache.org/licenses/LICENSE-2.0).</p>
</div>
<!--/radix_placeholder_navigation_after_body-->

<div id="rmd-source-code">LS0tCnRpdGxlOiAiVMOpY25pY2FzIE11bHRpdmFyaWFkYXM6IEludHJvZHVjY2nDs24iCmF1dGhvcjogIk0uIGVuIEMuIEFydHVybyBCZWxsIEVucsOtcXVleiBHYXJjw61hIgpvdXRwdXQ6CiAgICBodG1sX2RvY3VtZW50OgogICAgICBkZl9wcmludDogcGFnZWQKICAgICAgdGhlbWU6IGNvc21vCiAgICAgIHRvYzogVFJVRQogICAgICB0b2NfZmxvYXQ6IFRSVUUKICAgICAgY29kZV9kb3dubG9hZDogVFJVRQotLS0KCioqW1ZJREVPXShodHRwczovL3lvdXR1LmJlLzB5XzNpWDhvSDVjKSoqCgojIyBNYXRyaWNlcyBkZSBjb3JyZWxhY2nDs24geSBjb3ZhcmlhbnphczoKClBhcmEgb2J0ZW5lcmxhcyB1dGlsaXphcmVtb3MgbGFzIG1pc21hcyBmdW5jaW9uZXMgcXVlIHBhcmEgZWwgY8OhbGN1bG8gaW5kaXZpZHVhbCAoeSBwb3IgY29uc2lndWllbnRlIHBvZHJlbW9zIGNhbGN1bGFyIHRhbWJpw6luIGxhICRccmhvJCBkZSBTcGVhcm1hbikuIFV0aWxpY2Vtb3MgY29tbyBlamVtcGxvIGxhIGJhc2UgZGUgZGF0b3MgYG10Y2Fyc2A6CgpgYGB7cn0KaGVhZChtdGNhcnMpCmBgYAoKQWhvcmEgZXN0aW1lbW9zIGFtYmFzIG1hdHJpY2VzOgoKYGBge3J9CiMgTWF0cml6IGRlIGNvdmFyaWFuemFzCmNvdi5tYXQgPC0gY292KG10Y2FycykKCiMgTWF0cml6IGRlIGNvcnJlbGFjacOzbgpjb3IubWF0IDwtIGNvcihtdGNhcnMpCgojIExhcyBpbXByaW1pbW9zIGVuIHBhbnRhbGxhCmNvdi5tYXQKY29yLm1hdApgYGAKClZlw6Ftb3MgbGEgbWF0cml6IGRlIGNvcnJlbGFjaW9uZXMgZ3LDoWZpY2FtZW50ZToKCmBgYHtyfQpsaWJyYXJ5KGNvcnJwbG90KQpjb3JycGxvdChjb3IubWF0LCBtZXRob2QgPSAiZWxsaXBzZSIsIHR5cGUgPSAidXBwZXIiKQpgYGAKCkFob3JhIHV0aWxpY2Vtb3MgdW5hIGZ1bmNpw7NuIHF1ZSwgZW4gdW4gc29sbyBwYXNvLCBjb21wdXRhcsOhIGxhIG1hdHJpeiBkZSBjb3JyZWxhY2nDs24sIHJlYWxpemFyw6EgdW5hIHBydWViYSBkZSBzaWduaWZpY2FuY2lhIHBhcmEgY2FkYSB1bmEgeSBhZGVtw6FzIG5vcyBwcmVzZW50YXLDoSBsYSBtYXRyaXogZGUgbWFuZXJhIGdyw6FmaWNhOgpgYGB7cn0Kc291cmNlKCJodHRwOi8vd3d3LnN0aGRhLmNvbS91cGxvYWQvcnF1ZXJ5X2Nvcm1hdC5yIikgIyBEZXNjYXJnYSBsYSBmdW5jacOzbiBkZXNkZSBlc2EgdXJsIHkgbGEgY2FyZ2EgZW4gbWVtb3JpYQpteWRhdGEgPC0gbXRjYXJzWywgYygxLDMsNCw1LDYsNyldICMgUGFyYSBmaW5lcyBwcsOhY3RpY29zIHNlIGV4dHJhZSB1biBzdWJjb25qdW50byBkZSBsYXMgY29sdW1uYXMKcnF1ZXJ5LmNvcm1hdChteWRhdGEpICMgU2UgYXBsaWNhIGxhIGZ1bmNpw7NuCmBgYAoKT3RyYSBhbHRlcm5hdGl2YSBlcyB1dGlsaXphciBsYSBmdW5jacOzbiBgY2hhcnQuQ29ycmVsYXRpb24oZGF0YSwgaGlzdG9ncmFtKWAgZGUgbGEgbGlicmVyw61hIGBQZXJmb3JtYW5jZUFuYWx5dGljc2AsIGVuIGxhIGN1YWwgc2UgbXVlc3RyYW4gdG9kb3MgcmVzdWx0YWRvcyBlbiB1bmEgbWlzbWEgZ3LDoWZpY2E6CgpgYGB7cn0KbGlicmFyeShQZXJmb3JtYW5jZUFuYWx5dGljcykKY2hhcnQuQ29ycmVsYXRpb24obXlkYXRhLCBoaXN0b2dyYW0gPSBULCBwY2ggPSAxOSkKYGBgCgpVbiBjb21lbnRhcmlvIGZpbmFsIGFsIHJlc3BlY3RvIGRlIGVzdGFzIG1hdHJpY2VzIGVzIHF1ZSwgYWRlbcOhcyBkZSBzZXIgbGEgYmFzZSBkZSBsYXMgdMOpY25pY2FzIG11bHRpdmFyaWFkYXMsIG5vcyBwZXJtaXRlbiBldmFsdWFyIGxhIGFzb2NpYWNpw7NuIGVudHJlIG51ZXN0cmFzIHZhcmlhYmxlcyBzaW4gY29tcHJvbWV0ZXIgdW4gbW9kZWxvIHByZWRpY3Rpdm8sIGEgbGEgdmV6IHF1ZSBub3MgcGVybWl0aXLDoW4gaGFjZXIgdW4gZmlsdHJhZG8gZGUgbnVlc3RyYXMgdmFyaWFibGVzIHBhcmEgZXZpdGFyIGF1dG9jb3JyZWxhY2lvbmVzIG8gaW5jbHVpciB2YXJpYWJsZXMgcG9jbyBpbmZvcm1hdGl2YXMsIGF1bnF1ZSBkZSBlc3RvIGhhYmxhcmVtb3MgbcOhcyBhZGVsYW50ZS4KCiMjIE5vcm1hbGlkYWQgbXVsdGl2YXJpYWRhCgpQYXJhIGFuYWxpemFyIHNpIG51ZXN0cm9zIGRhdG9zIG11bHRpdmFyaWFkb3Mgc2UgYWp1c3RhbiBhIHVuYSBkaXN0cmlidWNpw7NuIG5vcm1hbCBtdWx0aXZhcmlhZGEgdXRpbGl6YXJlbW9zIGxhIGxpYnJlcsOtYSBgTVZOYCwgY3V5YSBmdW5jacOzbiBgbXZuKGRhdGEsIG12blRlc3QsIG11bHRpdmFyaWF0ZVBsb3QpYCBub3MgcGVybWl0ZSByZWFsaXphciB1bmEgc2VyaWUgZGUgcHJ1ZWJhcyB0YW50byBtdWx0aSBjb21vIHVuaXZhcmlhZGFzOgoKIyMjIFBydWViYSBkZSBNYXJkaWEgKDE5NzApCkNvbnNpc3RlIGVuIGFuYWxpemFyIHNpIGxvcyBtb21lbnRvcyBkZSBsYSBkaXN0cmlidWNpw7NuIE12IGRlIGxvcyBkYXRvcyBkaWZpZXJlbiBkZSBsb3MgZXNwZXJhZG9zIGRlIHVuYSBkaXN0cmlidWNpw7NuIE5vcm1hbCBNdiAoW01hcmRpYSAxOTcwXShodHRwOi8vYml0Lmx5L21hcmRpYV90ZXN0KSksIGxhcyBoaXDDs3Rlc2lzIG51bGFzIHNvbjoKCjEuICRIXzA6IFNfe29ic30gPSBTX3tOTXZfe8K1LCBcU2lnbWF9fSQKMi4gJEhfMDogS197b2JzfSA9IEtfe05Ndl97wrUsIFxTaWdtYX19JAoKRG9uZGUgJFxtdSQgcmVwcmVzZW50YSBlbCB2ZWN0b3IgZGUgbWVkaWFzIGRlIGNhZGEgdmFyaWFibGUgeSAkXFNpZ21hJCBsYSBtYXRyaXogZGUgY292YXJpYW56YXMuCgpBbCByZWFsaXphciBlc3RhIHBydWViYSB2ZW1vcyBxdWUgbGEgZGlzdHJpYnVjacOzbiBNdiBvYnNlcnZhZGEgdGllbmUgdW5hIGN1cnRvc2lzIGFkZWN1YWRhLCBhdW5xdWUgc2UgZW5jdWVudHJhIGZ1ZXJ0ZW1lbnRlIHNlc2dhZGEuIFNpIGFuYWxpemFtb3MgbG9zIGRhdG9zIHVuaXZhcmlhZG9zIHZlbW9zIHF1ZSBlbiBhcGFyaWVuY2lhIDIvNiB2YXJpYWJsZXMgcHJlc2VudGFuIG5vcm1hbGlkYWQgdW5pdmFyaWFkYS4KYGBge3J9CmxpYnJhcnkoTVZOKQptdm50ZXN0IDwtIG12bihteWRhdGEsIG12blRlc3QgPSAibWFyZGlhIikKbWFyZGlhLnRlc3QgPC0gbXZudGVzdCRtdWx0aXZhcmlhdGVOb3JtYWxpdHkKdW5pdGVzdCA8LSBtdm50ZXN0JHVuaXZhcmlhdGVOb3JtYWxpdHkKCm1hcmRpYS50ZXN0CnVuaXRlc3QKYGBgCgojIyMgUHJ1ZWJhIGRlIEhlbnplLVppcmtsZXIKU2kgb2JzZXJ2YW1vcyBjb24gYXRlbmNpw7NuIGxvcyB2YWxvcmVzIGRlIHAsIHZlcmVtb3MgcXVlIGhheSBhbGd1bm9zIHF1ZSBzZSBlbmN1ZW50cmFuIGNlcmNhbm9zIGFsIHVtYnJhbCBkZSAwLjA1IHBvciBsbyBxdWUgdW4gYW7DoWxpc2lzIGEgcGFydGlyIGRlIGxvcyBjdWFudGlsZXMgZGUgbGEgZGlzdHJpYnVjacOzbiBwdWVkZSBzZXIgdW5hIGFsdGVybmF0aXZhIG3DoXMgaW5mb3JtYXRpdmEuIFBhcmEgZWxsbyBwb2RlbW9zIHV0aWxpemFyIGxhIHBydWViYSBkZSBIZW56ZS1aaXJrbGVyLiBFc3RhIHBydWViYSBjb25zaWRlcmEgdW5hIGhpcMOzdGVzaXMgY29tcHVlc3RhLCBlbiBsYSBjdWFsICpsYSBkaXN0cmlidWNpw7NuIGRlIFggZXMgdW5hIGRpc3RyaWJ1Y2nDs24gbm9ybWFsIG5vIGRlZ2VuZXJhZGEqLCBjdXlvcyByZXN1bHRhZG9zIHNvbiBjb25zaXN0ZW50ZXMgY29udHJhIGN1YWxxdWllciBkaXN0cmlidWNpw7NuIGFsdGVybmF0aXZhIG5vIG5vcm1hbCAocG9yIGVsbG8gY29tcHVlc3RhKS4gTGEgcmVwcmVzZW50YWNpw7NuIGVzdMOhIGRhZGEgZW4gdMOpcm1pbm9zIGRlICRMXjIkIChEaXN0YW5jaWEgZGUgTWFoYWxhbm9iaXMsIG3DoXMgYWRlbGFudGUgaGFibGFyZW1vcyBzb2JyZSBtZWRpZGFzIGRlIGRpc3RhbmNpYSkuIEFsIHNlciB1bmEgcHJ1ZWJhIGRlIGJvbmRhZCBkZSBhanVzdGUgKG9ic2VydmFkbyB2cy4gZXNwZXJhZG8pLCBlbCBlc3RhZMOtc3RpY28gZGUgcHJ1ZWJhIHNpZ3VlIHVuYSBkaXN0cmlidWNpw7NuICRcY2hpXjIkIChbSGVuemUgeSBaaXJrbGVyIDIwMDddKGh0dHA6Ly9iaXQubHkvSGVuemVfWmlya2xlcikpLgoKQXBsaWNhbmRvbGEgY29uIGBtdm4oKWAgdmVtb3MgcXVlIHRhbWJpw6luIHN1Z2llcmUgdW5hIGZhbHRhIGRlIG5vcm1hbGlkYWQsIGxvIGN1YWwgcG9kZW1vcyBjb21wcm9iYXIgYWwgdmVyIGVsIGdyw6FmaWNvIEN1YW50aWwtQ3VhbnRpbApgYGB7cn0KaHoudGVzdCA8LSBtdm4obXlkYXRhLCBtdm5UZXN0ID0gImh6IiwgbXVsdGl2YXJpYXRlUGxvdCA9ICJxcSIpJG11bHRpdmFyaWF0ZU5vcm1hbGl0eQpoei50ZXN0CmBgYAoKRXNlIGdyw6FmaWNvLCBhdW5xdWUgaW5mb3JtYXRpdm8sIHB1ZWRlIHRyYWJhamFyc2UgcGFyYSBoYWNlcnNlIG3DoXMgYWdyYWRhYmxlIGEgbGEgdmlzdGEgdXRpbGl6YW5kbyBnZ3Bsb3QyIHV0aWxpemFuZG8gbGEgc2lndWllbnRlIGZ1bmNpw7NuIHBlcnNvbmFsaXphZGEgY3JlYWRhIGEgcGFydGlyIGRlbCBjw7NkaWdvIHV0aWxpemFkbyBwYXJhIGxhIGdyw6FmaWNhIGFudGVyaW9yOgoKYGBge3J9CiMgRnVuY2lvbmVzIHBlcnNvbmFsaXphZGFzOgoKIyBFeHRyYWlkYSBkZSBsYSBmdW5jacOzbiBtdm4obXVsdGl2YXJpYXRlUGxvdCA9ICJxcSIpIHBhcmEgdW4gZ3LDoWZpY28gUVEgcGFyYSBub3JtYWxpZGFkIG11bHRpdmFyaWFkYSB1dGlsaXphbmRvIGxhIGRpc3RhbmNpYSBkZSBtYWhhbGFub2JpcwpqaTIucGxvdCA8LSBmdW5jdGlvbihkZil7CiAgIyBEYXRvcwogIG4gPC0gZGltKG15ZGF0YSlbMV0gIyBuw7ptZXJvIGRlIGRhdG9zCiAgcCA8LSBkaW0obXlkYXRhKVsyXSAjIG7Dum1lcm8gZGUgZ3J1cG9zCiAgZGlmIDwtIHNjYWxlKG15ZGF0YSwgc2NhbGUgPSBGKSAjIENlbnRyYW1vcyBsb3MgZGF0b3MgKGEtwrUoYSkpIHNpbiBlc2NhbGFybG9zIChzaW4gZGl2aWRpciBwb3Igc3UgXHNpZ21hKQogIGQgPC0gZGlhZyhkaWYgJSolIHNvbHZlKGNvdihteWRhdGEpLCB0b2wgPSAxZS0yNSkgJSolIHQoZGlmKSkgIyBDw6FsY3VsbyBkZSBsYSBkaXN0YW5jaWEgZGUgbWFoYWxhbm9iaXNeMgogIHIgPC0gcmFuayhkKSAjIEFzaWduYWNpw7NuIGRlIHJhbmdvcyBhIGxhcyBkaXN0YW5jaWFzCiAgamkyIDwtICBxY2hpc3EoKHIgLSAwLjUpL24sIHApICMgT2J0ZW5jacOzbiBkZSBsb3MgY3VhbnRpbGVzIHRlw7NyaWNvcyBzZWfDum4gbGEgZGlzdHJpYnVjacOzbiBqaV4yCiAgamkyLnBsb3QuZGF0YSA8LSBkYXRhLmZyYW1lKGQsIGppMikgIyBSZXVuaW1vcyBsb3Mgb2JqZXRvcyBlbiB1biBkYXRhLmZyYW1lIHBhcmEgZ3JhZmljYXIgY29uIGdncGxvdDIKICAKICAjIEdyYWZpY2FkbwogIGxpYnJhcnkoZ2dwbG90MikKICBqaTIucXEgPC0gZ2dwbG90KGRhdGEgPSBqaTIucGxvdC5kYXRhLCBhZXMoeCA9IGQsIHkgPSBqaTIpKSArIAogICAgICAgICAgICBnZW9tX3BvaW50KGNvbG91ciA9ICJkZWVwc2t5Ymx1ZTQiLCBhbHBoYSA9IDAuNSwgc2l6ZSA9IDQpICsgCiAgICAgICAgICAgIGdlb21fYWJsaW5lKHNsb3BlID0gMSwgY29sb3VyID0gcmdiKDExOCw3OCwxNDQsIG1heENvbG9yVmFsdWUgPSAyNTUpLCBzaXplID0gMSkgKwogICAgICAgICAgICBsYWJzKHRpdGxlID0gYnF1b3RlKCJHcsOhZmljbyBRUSBkZSIgfn4ge2NoaV4yfSB+fiAiLCBnLmwgPSAifiAuKHApKSwKICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA9IGJxdW90ZSgiRGlzdGFuY2lhIGRlIE1haGFsYW5vYmlzICgifntEXjJ9fiIpIHZzLiBDdWFudGlsZXMgdGXDs3JpY29zIiksCiAgICAgICAgICAgICAgICAgeCA9IGVsZW1lbnRfYmxhbmsoKSwKICAgICAgICAgICAgICAgICB5ID0gZWxlbWVudF9ibGFuaygpLAogICAgICAgICAgICAgICAgIGNhcHRpb24gPSAiQmFzYWRvIGVuIG12biguLi4sIG11bHRpdmFyaWF0ZVBsb3QgPT0gXCJxcVwiKSIKICAgICAgICAgICAgICAgICApCgogIHJldHVybihqaTIucXEpCn0KCiMgVGVtYSBwZXJzb25hbGl6YWRvCmJsYW5rX3RoZW1lIDwtIGZ1bmN0aW9uKCl7CiAgdGhlbWUocGFuZWwuZ3JpZC5taW5vciA9IGVsZW1lbnRfYmxhbmsoKSwKICAgICAgICBwYW5lbC5ncmlkLm1ham9yID0gZWxlbWVudF9ibGFuaygpLAogICAgICAgIHBhbmVsLmJhY2tncm91bmQgPSBlbGVtZW50X2JsYW5rKCksCiAgICAgICAgYXhpcy5saW5lID0gZWxlbWVudF9ibGFuaygpLAogICAgICAgIGFzcGVjdC5yYXRpbyA9IDEvMS42MSwKICAgICAgICBheGlzLnRpY2tzID0gZWxlbWVudF9ibGFuaygpLAogICAgICAgIHRleHQgPSBlbGVtZW50X3RleHQoY29sb3VyID0gImdyYXk1MCIpLCAjIEVsaW1pbmFyCiAgICAgICAgbGVnZW5kLnBvc2l0aW9uID0gIm5vbmUiCiAgICAgICAgKQp9CmBgYAoKYGBge3J9CnFxamlwbG90IDwtIGppMi5wbG90KG15ZGF0YSkgKyBibGFua190aGVtZSgpCnFxamlwbG90CmBgYAoKIyMjIFBydWViYSBkZSBSb3lzdG9uCkVzdGEgcHJ1ZWJhIGVzIHVuYSBleHRlbnNpw7NuIG11bHRpdmFyaWFkYSBkZSBsYSBwcnVlYmEgcG9yIGV4Y2VsZW5jaWEgcGFyYSBsYSBub3JtYWxpZGFkIHVuaXZhcmlhZGE6IGxhIHBydWViYSBkZSBTaGFwaXJvLVdpbGsncy4gT3JpZ2luYWxtZW50ZSBwcm9wdWVzdGEgZW4gMTk4MywgYXVucXVlIGZ1ZSBjb3JyZWdpZGEvYW1wbGlhZGEgcG9yIGVsIG1pc21vIGF1dG9yIGVuIDE5OTIgKFtSb3lzdG9uIHZzLiBvdHJhc10oaHR0cDovL2JpdC5seS9Sb3lzdG9uX290cm9zKSkuIEZ1bmNpb25hIG1lam9yIHBhcmEgbXVlc3RyYXMgcGVxdWXDsWFzLCBhdW5xdWUgbm8gc2UgcmVjb21pZW5kYSBlbXBsZWFybGEgY29uIG1lbm9zIGRlIDMgb2JzZXJ2YWNpb25lcyBvIGNvbiBtw6FzIGRlIDIwMDAuCgpTdSBpbXBsZW1lbnRhY2nDs24gc2lndWUgbGEgbWlzbWEgbMOtbmVhIHF1ZSBsb3MgY2Fzb3MgYW50ZXJpb3Jlcy4gU2kgYW5hbGl6YW1vcyBlbCB2YWxvciBkZSBwLCB2ZXJlbW9zIHF1ZSBzZSBlbmN1ZW50cmEgZW4gZWwgbMOtbWl0ZSBkZSBsYSBzaWduaWZpY2FuY2lhIGEgdW4gJFxhbHBoYSA9IDAuMDUkOyBzaW4gZW1iYXJnbywgc2kgY29uc2lkZXJhbW9zIHRhbWJpw6luIGVsIGdyw6FmaWNvIFFRIHF1ZSBlbGFib3JhbW9zIGFudGVyaW9ybWVudGUsIG5vIHBvZGVtb3MgYXN1bWlyIHF1ZSBlc2FzIGRlc3ZpYWNpb25lcyBzZWFuIGRlc3ByZWNpYWJsZXMuCgpgYGB7cn0Kcm95c3Rvbi50ZXN0IDwtIG12bihteWRhdGEsIG12blRlc3QgPSAicm95c3RvbiIpJG11bHRpdmFyaWF0ZU5vcm1hbGl0eQpyb3lzdG9uLnRlc3QKYGBgCgojIyBJZ3VhbGRhZCBkZSBkaXNwZXJzaW9uZXMgbXVsdGl2YXJpYWRhcwpDb25mb3JtZSB2YXlhbW9zIGF2YW56YW5kbyBlbiBlbCBjdXJzbyB2ZXJlbW9zIHF1ZSwgZW50cmUgbG9zIHN1cHVlc3RvcyBkZSBhbGd1bmFzIHBydWViYXMsIHZhbW9zIGEgZW5jb250cmFyIGVsIGRlICJpZ3VhbGRhZCBkZSBkaXNwZXJzaW9uZXMgbXVsdGl2YXJpYWRhcyI7ICppLmUuKiwgaWd1YWxkYWQgZGUgbWF0cmljZXMgZGUgY292YXJpYW56YS4gVW5hIGFsdGVybmF0aXZhIGVzIHV0aWxpemFyIGxhIHBydWViYSBkZSBbQW5kZXJzb24gKDIwMDYpXShodHRwOi8vYml0Lmx5L0hvbW9fbXZkaXNwKSwgbGEgY3VhbCBlcyB1biBhbsOhbG9nbyBtdWx0aXZhcmlhZG8gYSBsYSBwcnVlYmEgZGUgTGV2ZW5lIHBhcmEgbGEgaG9tb2dlbmVpZGFkIGRlIHZhcmlhbnphcy4gTGEgcHJ1ZWJhIGRlIGhpcMOzdGVzaXMgZXN0w6EgYmFzYWRhIGVuIGRpc3RhbmNpYXMgbm8gZXVjbGlkaWFuYXMgZW50cmUgbG9zIGdydXBvcyAoKmkuZS4qLCBubyB1dGlsaXphIGVsIHRlb3JlbWEgZGUgUGl0w6Fnb3JhcyA6KCApLiBVbiBkYXRvIGN1cmlvc28gZXMgcXVlIGVzdGUgbcOpdG9kbyB0YW1iacOpbiBzZSBoYSB1dGlsaXphZG8gcGFyYSBldmFsdWFyIGxhIGRpdmVyc2lkYWQgJFxiZXRhJCBkZSB1bmEgY29tdW5pZGFkLgoKUGFyYSBzdSBpbXBsZW1lbnRhY2nDs24gZW4gUiB1dGlsaXphcmVtb3MgbGEgZnVuY2nDs24gYGJldGFkaXNwZXJgIGRlIGxhIGxpYnJlcsOtYSBgdmVnYW5gLiBBbCBzZXIgdW4gbcOpdG9kbyBiYXNhZG8gZW4gZGlzdGFuY2lhcywgcHJpbWVybyBoYWJyw6EgcXVlIHRyYW5zZm9ybWFyIGxvcyBkYXRvcyBhIHVuYSBtYXRyaXogZGUgZGlzdGFuY2lhcyB1dGlsaXphbmRvIGFsZ3VuYSBkZSBsYXMgZnVuY2lvbmVzIGBkaXN0YCwgYGJldGFkaXZlcmAgbyBgdmVnZGlzdGAuIE5lY2VzaXRhbW9zLCBhZGVtw6FzLCBlc3RhYmxlY2VyIGxvcyBncnVwb3MgYSB1dGlsaXphci4KCmBgYHtyfQpsaWJyYXJ5KHZlZ2FuKQpkaXN0Lm1hdCA8LSB2ZWdkaXN0KG15ZGF0YSwgbWV0aG9kID0gImJyYXkiLCB0eXBlID0gYygibWVkaWFuIikpCmdyb3VwcyA8LSBhcy5jaGFyYWN0ZXIobXRjYXJzJGN5bCkKI2Rpc3QubWF0ICMgUG9yIGZpbmVzIHByw6FjdGljb3Mgbm8gc2UgbXVlc3RyYSwgeWEgcXVlIGNhbGN1bGEgdW5hIGRpc3RhbmNpYSBlbnRyZSBjYWRhIHBhciBkZSBpbnN0YW5jaWFzIG8gZ3J1cG9zLCByZXN1bHRhbmRvIGVuIG1hdHJpY2VzIHN1bWFtZW50ZSBncmFuZGVzCmBgYAoKQWhvcmEgdXRpbGl6YXJlbW9zIGxhIGZ1bmNpw7NuIGBiZXRhZGlzcGVyYCBwYXJhIGNvbXByb2JhciBsYSBob21vZ2VuZWlkYWQgZGUgZGlzcGVyc2lvbmVzIGVudHJlIGxvcyBkaXN0aW50b3MgY2lsaW5kcm9zLiBFc3RhIHBydWViYSDDum5pY2FtZW50ZSBnZW5lcmEgZWwgZXNwYWNpbyBtdWx0aXZhcmlhZG8gcGFyYSByZWFsaXphciBsYSBwcnVlYmEsIHJlYWxpemFuZG8gdW4gQUNQIHBhcmEgcmVkdWNpciBsYSBkaW1lbnNpb25hbGlkYWQgZGUgbGEgYmFzZSBkZSBkYXRvcyB5IGVzdGltYXIgbGFzIGRpc3RhbmNpYXMgYSBsYSBtZWRpYW5hIGRlIGNhZGEgdW5vIGRlIGxvcyBncnVwb3MgZXN0YWJsZWNpZG9zLgpgYGB7cn0KZGlzcC5tdiA8LSBiZXRhZGlzcGVyKGRpc3QubWF0LCBncm91cCA9IGdyb3VwcywgdHlwZSA9ICJtZWRpYW4iKSAjIFJlYWxpemFyIGVsIHByb2NlZGltaWVudG8KZGlzcC5tdgpgYGAKClNpIHJlYWxpemFtb3MgbGEgcHJ1ZWJhIGRlIGhpcMOzdGVzaXMgdmVtb3MgcXVlLCBhbCBwYXJlY2VyLCBsYXMgZGlzcGVyc2lvbmVzIG11bHRpdmlhcmlhZGFzIHNvbiBzaW1pbGFyZXMgZW50cmUgbG9zIDMgZ3J1cG9zLgpgYGB7cn0KYW5vdmEoZGlzcC5tdikgIyBQcnVlYmEgZGUgaGlww7N0ZXNpcwpgYGAKQWhvcmEgdmVhbW9zIGxhcyBkaXNwZXJzaW9uZXMgZ3LDoWZpY2FtZW50ZToKYGBge3J9CnBsb3QoZGlzcC5tdiwgZWxsaXBzZSA9IFQsIGh1bGwgPSBGKSAjIEFuw6FsaXNpcyBncsOhZmljbwpgYGAKQWwgYW5hbGl6YXIgZWwgZ3LDoWZpY28gdmVtb3MgcXVlIGxhcyBkaXNwZXJzaW9uZXMgc29uIHNpbWlsYXJlczsgc2luIGVtYmFyZ28sIHBhcmVjaWVyYSBxdWUgbGEgZGlzcGVyc2nDs24gZGVsIGdydXBvIDYgZXMgbcOhcyBwZXF1ZcOxYSBxdWUgbGEgZGUgbG9zIGdydXBvcyA0IHkgOCwgZW4gdG9uY2VzIHJlYWxpY2Vtb3MgbGFzIGNvbXBhcmFjaW9uZXMgcGFyZWFkYXMgdW5pdmFyaWFkYXMgY29uIGxhIHBydWViYSBIb25lc3RhIGRlIERpZmVyZW5jaWFzIFNpZ25pZmljYXRpdmFzIGRlIFR1a2V5IChgVHVrZXlIU0RgKS4gTG9zIHJlc3VsdGFkb3Mgc3VnaWVyZW4gcXVlIGxhcyBkaXNwZXJzaW9uZXMgY29uIHVuICRcYWxwaGEgPSAwLjA1JCBzb24gc2ltaWxhcmVzLCBsbyBjdWFsIGEgc3UgdmV6IHB1ZGllcmEgc3VnZXJpciBxdWUgaGF5IHVuIGVxdWlsaWJyaW8gZW50cmUgbGFzIGRpc3BlcnNpb25lcyBlbiBlbCBlamUgeCBjb24gcmVzcGVjdG8gYSBsYXMgZGlzcGVyc2lvbmVzIGVuIGVsIGVqZSB5LgpgYGB7cn0KbW9kLkhTRCA8LSBUdWtleUhTRChkaXNwLm12KQptb2QuSFNEIDwtIGRhdGEuZnJhbWUobW9kLkhTRCRncm91cCwgY29tcCA9IGRpbW5hbWVzKG1vZC5IU0QkZ3JvdXApW1sxXV0pCm1vZC5IU0QKYGBgCgpBbCBpZ3VhbCBxdWUgZW4gZWwgY2FzbyBhbnRlcmlvciBwb2RlbW9zIHV0aWxpemFyIGdncGxvdCBwYXJhIHBlcnNvbmFsaXphciBlbCBncsOhZmljbzoKCmBgYHtyfQpoc2QucGxvdCA8LSBnZ3Bsb3QoZGF0YSA9IG1vZC5IU0QsIAogICAgICAgICAgICAgICAgICAgYWVzKHggPSBjb21wKSkgKyAKICAgICAgICAgICAgZ2VvbV9wb2ludChhZXMoeSA9IGRpZmYpLCAKICAgICAgICAgICAgICAgICAgICAgICBjb2xvdXIgPSAiZGVlcHNreWJsdWU0IiwgCiAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IDQsIAogICAgICAgICAgICAgICAgICAgICAgIGFscGhhID0gMC43KSsgCiAgICAgICAgICAgIGdlb21fZXJyb3JiYXIoYWVzKHltaW4gPSBsd3IsIHltYXggPSB1cHIpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvdXIgPSAiZGVlcHNreWJsdWU0IikgKyAKICAgICAgICAgICAgYmxhbmtfdGhlbWUoKSArIAogICAgICAgICAgICBsYWJzKHRpdGxlID0gIkRpZmVyZW5jaWFzIGVuIGRpc3BlcnNpw7NuIG11bHRpdmFyaWFkYSBlIElDIiwKICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA9ICJQcnVlYmEgSFNEIGRlIFR1a2V5IiwKICAgICAgICAgICAgICAgICB4ID0gIkdydXBvcyIsCiAgICAgICAgICAgICAgICAgeSA9IGVsZW1lbnRfYmxhbmsoKSkgKwogICAgICAgICAgICBzY2FsZV95X2NvbnRpbnVvdXMoYnJlYWtzID0gTlVMTCkgKyAKICAgICAgICAgICAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gMCwgY29sb3VyID0gcmdiKDExOCw3OCwxNDQsIG1heENvbG9yVmFsdWUgPSAyNTUpLCBsaW5ldHlwZSA9ICJkYXNoZWQiKSArCiAgICAgICAgICAgIGFubm90YXRlKCJ0ZXh0IiwKICAgICAgICAgICAgICAgICAgICAgeCA9IDAuNSwgeSA9IDArMC4wMDUsIAogICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGFzLmNoYXJhY3RlcigwKSwKICAgICAgICAgICAgICAgICAgICAgY29sb3VyID0gcmdiKDExOCw3OCwxNDQsIG1heENvbG9yVmFsdWUgPSAyNTUpCiAgICAgICAgICAgICAgICAgICAgICkgKwogICAgICAgICAgICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSBtYXgobW9kLkhTRCR1cHIpLCBjb2xvdXIgPSAiZmlyZWJyaWNrIiwgYWxwaGEgPSAwLjcsIGxpbmV0eXBlID0gImRhc2hlZCIpICsKICAgICAgICAgICAgYW5ub3RhdGUoInRleHQiLAogICAgICAgICAgICAgICAgICAgICB4ID0gMC41LCB5ID0gbWF4KG1vZC5IU0QkdXByKS0wLjAwNSwgCiAgICAgICAgICAgICAgICAgICAgIGxhYmVsID0gYXMuY2hhcmFjdGVyKHJvdW5kKG1heChtb2QuSFNEJHVwciksMikpLAogICAgICAgICAgICAgICAgICAgICBjb2xvdXIgPSAiZmlyZWJyaWNrIgogICAgICAgICAgICAgICAgICAgICApICsKICAgICAgICAgICAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gbWluKG1vZC5IU0QkbHdyKSwgY29sb3VyID0gImZpcmVicmljayIsIGFscGhhID0gMC43LCBsaW5ldHlwZSA9ICJkYXNoZWQiKSArCiAgICAgICAgICAgIGFubm90YXRlKCJ0ZXh0IiwKICAgICAgICAgICAgICAgICAgICAgeCA9IDAuNSwgeSA9IG1pbihtb2QuSFNEJGx3ciktMC4wMDUsIAogICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGFzLmNoYXJhY3Rlcihyb3VuZChtaW4obW9kLkhTRCRsd3IpLDIpKSwKICAgICAgICAgICAgICAgICAgICAgY29sb3VyID0gImZpcmVicmljayIKICAgICAgICAgICAgICAgICAgICAgKSArCiAgICAgICAgICAgIGdlb21fdGV4dChhZXMobGFiZWwgPSBwYXN0ZSgicCA9ICIsIHJvdW5kKHAuYWRqLDIpKSwgeSA9IDApLAogICAgICAgICAgICAgICAgICAgICAgIHN0YXQgPSAiaWRlbnRpdHkiLAogICAgICAgICAgICAgICAgICAgICAgIG51ZGdlX3kgPSBtYXgobW9kLkhTRCR1cHIpKzAuMDA1LCBjb2xvdXIgPSAiZ3JheTUwIikKICAgICAgICAgICAgCmhzZC5wbG90CmBgYAoKIyMgSW1wbGljYWNpb25lcyBhbmFsw610aWNhcyBkZSBsYSBtdWx0aWRpbWVuc2lvbmFsaWRhZAoKRXMgaW1wb3J0YW50ZSBtZW5jaW9uYXIgcXVlIGVudHJlIG3DoXMgaW5jcmVtZW50ZW1vcyBsYSBkaW1lbnNpb25hbGlkYWQgZGUgbnVlc3RybyBwcm9ibGVtYSBtw6FzIGRpZsOtY2lsIHNlcsOhIHJlc3VtaXIgZW4gdW4gc29sbyByZXN1bHRhZG8gbGFzIHBydWViYXMgZGUgbnVlc3Ryb3MgYW7DoWxpc2lzIHksIGVuIGNvbnNlY3VlbmNpYSwgZGViZXJlbW9zIGRlIGNvbnNpZGVyYXIgZGlzdGludGFzIHTDqWNuaWNhcy9lc3RyYXRlZ2lhcyBxdWUgYW5hbGljZW4gbnVlc3Ryb3MgZGF0b3MgZGVzZGUgZGlzdGludGFzIHBlcnNwZWN0aXZhcyBhbnRlcyBkZSBlbWl0aXIgdW4ganVpY2lvIG8gZXh0cmFlciBjb25jbHVzaW9uZXMuIFBvciBlc3RhIHJhesOzbiwgZXMgc3VtYW1lbnRlIGltcG9ydGFudGUgcXVlIHJlYWxpY2Vtb3MgdW5hIHNlbGVjY2nDs24gZGUgdmFyaWFibGVzIGRlIG1hbmVyYSByaWd1cm9zYSBhbnRlcyBkZSBjb21lbnphciBudWVzdHJvIGFuw6FsaXNpcywgeWEgcXVlIGluY2x1aXIgdmFyaWFibGVzIGlubmVjZXNhcmlhbWVudGUgw7puaWNhbWVudGUgaW5jcmVtZW50YXLDoSBsYSB2YXJpYW56YSBkZSBsb3MgZGF0b3Mgc2luIGFwb3J0YXJub3MgbmluZ3VuYSBpbmZvcm1hY2nDs24gYWRpY2lvbmFsLCBjYXVzYW5kbyBkZXN2aWFjaW9uZXMgZGUgbGEgbm9ybWFsaWRhZCwgbW9kZWxvcyBjb21wbGVqb3Mgc29icmUgbyBpbmZyYSBhanVzdGFkb3MgeSBww6lyZGlkYXMgZGUgcG9kZXIgZXN0YWTDrXN0aWNvLiAKCkVuIGN1YW50byBhIGxhIG5vcm1hbGlkYWQsIGhheSB1biBwYXIgZGUgY29uc2lkZXJhY2lvbmVzIGEgdGVuZXIgZW4gY3VlbnRhLiBMYSBwcmltZXJhIGVzIHF1ZSBzaSBudWVzdHJvIGFuw6FsaXNpcyBlc3TDoSBiYXNhZG8gZW4gbGEgbWF0cml6IGRlIGNvcnJlbGFjacOzbiBlc3RhcmVtb3MgY3VtcGxpZW5kbyBlbCBzdXB1ZXN0byBkZSBub3JtYWxpZGFkIGRlIGxhIHTDqWNuaWNhIHF1ZSBlc3RlbW9zIGFwbGljYW5kbyAoZGUgdGVuZXJsbyksIHlhIHF1ZSwgZXhwbMOtY2l0YW1lbnRlIGFqdXN0YW1vcyBsb3MgZGF0b3MgYSB1bmEgZGlzdHJpYnVjacOzbiBub3JtYWwuIFBvciBvdHJhIHBhcnRlLCBlcyBpbXBvcnRhbnRlIG1lbmNpb25hciBxdWUgc2kgbnVlc3Ryb3MgZGF0b3MgZW4gcmVhbGlkYWQgbm8gc2UgYWp1c3RhbiBvIHNlIGVuY3VlbnRyYW4gZnVlcnRlbWVudGUgZGVzdmlhZG9zIGRlIGxhIG5vcm1hbGlkYWQsIGxhcyBjb25jbHVzaW9uZXMgcXVlIGV4dHJhaWdhbW9zIHNlcsOhbiDDum5pY2FtZW50ZSBzb2JyZSBsYSB0ZW5kZW5jaWEgbcOhcyBnZW5lcmFsIGRlIG51ZXN0cm9zIGRhdG9zIChSZXZpc2FyOiBkZXNpZ3VhbGRhZC90ZW9yZW1hIGRlIENoZWJ5c2hldikgeSwgZW4gY29uc2VjdWVuY2lhLCBwdWVkZW4gbm8gc2VyIHVuYSByZXByZXNlbnRhY2nDs24gY29tcGxldGEgZGUgbnVlc3RyYXMgbXVlc3RyYXMuIFNpIGVzdG8gZXMgaW1wb3J0YW50ZSBvIG5vLCBkZXBlbmRlcsOhIGRlIG51ZXN0YSBwcmVndW50YSBkZSBpbnZlc3RpZ2FjacOzbiB5IHF1w6kgdGFuIGZpbm8gcXVlcnJhbW9zIHF1ZSBzZWEgZWwgYW7DoWxpc2lzLgoKIyMgVHJhbnNmb3JtYWNpb25lcyBvIGRlZm9ybWFjaW9uZXMKCkhhYmllbmRvIHRvY2FkbyBlbCB0ZW1hIGRlIGxhIGVzdGFuZGFyaXphY2nDs24sIGhhYmxlbW9zIHRhbWJpw6luIGRlbCByZXN0byBkZSB0cmFuc2Zvcm1hY2lvbmVzLiBFbiBnZW5lcmFsLCBwb2RlbW9zIGNvbnNpZGVyYXIgcXVlIGV4aXN0ZW4gZG9zIHRpcG9zIGRlIHRyYW5zZm9ybWFjaW9uZXM6CjEuIEFxdWVsbGFzIHF1ZSBhZmVjdGFuIGxhIGRpc3RyaWJ1Y2nDs24gZGUgbG9zIGRhdG9zIChsb2dhcsOtdG1pY2EpCjIuIEFxdWVsbGFzIHF1ZSBzaW1wbGVtZW50ZSBjYW1iaWFuIGxvcyBsw61taXRlcyBkZSBsYSBkaXN0cmlidWNpw7NuIG9yaWdpbmFsIChNaW5NYXgpCgrCv0N1w6FsIHV0aWxpemFyPyBEZXBlbmRlcsOhIGRlIG51ZXN0cm9zIG9iamV0aXZvcyBwYXJhIGhhY2VybGEsIGxvIGN1YWwgbWUgbGxldmEgYWwgcHVudG8gZGUgcXVlOiBOSU5HVU5BIHRyYW5zZm9ybWFjacOzbiBkZWJlIGRlIHNlciBhcGxpY2FkYSBzaW4gY3VpZGFkby4gSGF5IHF1ZSB0ZW5lciBlbiBjdWVudGEgcXVlIGF1bnF1ZSBubyBzZSBjYW1iaWUgbGEgZGlzdHJpYnVjacOzbiBkZSBsb3MgZGF0b3MsIGVsIGFuw6FsaXNpcyB5YSBubyBzZSByZWFsaXphIHNvYnJlIGxvcyBkYXRvcyBvcmlnaW5hbGVzLCBsbyBjdWFsIHB1ZWRlIGNhdXNhciBlcnJvcmVzIGRlIGludGVycHJldGFjacOzbi4gQ29uIGVzdG8gbm8gcXVpZXJvIGRlY2lyIHF1ZSBsYXMgdHJhbnNmb3JtYWNpb25lcyBzZWFuIG1hbGFzLCBzb2xvIHF1ZSBoYXkgcXVlIGVtcGxlYXJsYXMgY29uIHVuYSBqdXN0aWZpY2FjacOzbiB5IGFzZWd1cmFybm9zIGRlIHJlLXRyYW5zZm9ybWFyIGxvcyBkYXRvcyBhbnRlcyBkZSBoYWNlciBpbmZlcmVuY2lhcy4KClZlYW1vcyBhbGd1bmFzIGRlIGxhcyB0cmFuc2Zvcm1hY2lvbmVzIG3DoXMgY29tdW5lcyB5IGN1w6FsZXMgc29uIHN1cyBjb25zZWN1ZW5jaWFzIGVuIGxvcyBkYXRvcy4gUGFyYSBlbGxvLCBjb25zaWRlcmVtb3MgZXN0b3MgZGF0b3Mgc2luIHRyYW5zZm9ybWFyLiBWZW1vcyBxdWUgZXN0w6FuIGFsdGFtZW50ZSBzZXNnYWRvcyB5IGVuIGNvbnNlY3VlbmNpYSBiYXN0YW50ZSBhbGVqYWRvcyBkZSBsYSBub3JtYWxpZGFkOgoKYGBge3J9CiMgRnVuY2nDs24gZGUgZ3JhZmljYWRvCmtkZXBsb3RzIDwtIGZ1bmN0aW9uKGRhdGEsIGFlcyl7CiAga2RlcGxvdHMgPC0gZ2dwbG90KGRhdGEsIGFlcykgKyAKICAgICAgICAgICAgZ2VvbV9kZW5zaXR5KCkgKyAKICAgICAgICAgICAgYmxhbmtfdGhlbWUoKSArCiAgICAgICAgICAgIGxhYnModGl0bGUgPSAiQ29udGVvIGRlIHBlY2VzIiwKICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA9ICJHcsOhZmljbyBkZSBkZW5zaWRhZCBjb24gZGF0b3MgeSBkaXN0cmludGFzIHRyYW5zZm9ybWFjaW9uZXMiLAogICAgICAgICAgICAgICAgIGNhcHRpb24gPSAiRGF0b3M6IGh0dHA6Ly9iaXQubHkvY29tbV90cmFuc2YiLAogICAgICAgICAgICAgICAgIHggPSBlbGVtZW50X2JsYW5rKCksCiAgICAgICAgICAgICAgICAgeSA9IGVsZW1lbnRfYmxhbmsoKSkgKwogICAgICAgICAgICBzY2FsZV95X2NvbnRpbnVvdXMoYnJlYWtzID0gTlVMTCkKICByZXR1cm4oa2RlcGxvdHMpCn0KCmBgYAoKYGBge3J9CmRmIDwtIGRhdGEuZnJhbWUoZGF0b3MgPSBjKDM4LCAxLCAxMywgMiwgMTMsIDIwLCAxNTAsIDksIDI4LCA2LCA0LCA0MyksIHRyYW5zZiA9ICJvcmlnaW5hbGVzIikKCmtkZS5wbG90cyA8LSBrZGVwbG90cyhkZiwgYWVzKGRhdG9zLCBjb2xvciA9IHRyYW5zZikpCmtkZS5wbG90cwpgYGAKCiMjIyBFc3RhbmRhcml6YWNpw7NuClZlYW1vcyBlbCBlZmVjdG8gZGUgZXN0YW5kYXJpemFyIGxvcyBkYXRvczsgZXMgZGVjaXIsIHV0aWxpemFyIGxhIGRpc3RyaWJ1Y2nDs24gWi4gRWwgcmVzdWx0YWRvIGVzIGxhIG1pc21hIGRpc3RyaWJ1Y2nDs24sIGF1bnF1ZSBsb3MgZGF0b3MgYWhvcmEgc2UgZW5jdWVudHJhbiBlc2NhbGFkb3MgZW4gZWwgaW50ZXJ2YWxvIFstMywzXSBpbmRpY2FuZG8gYSBjdWFudGFzIFNEIGRlIGxhIG1lZGlhIHNlIGVuY3VlbnRyYSBjYWRhIHB1bnRvLgoKYGBge3J9CmRmMiA8LSByYmluZChkZiwgZGF0YS5mcmFtZShkYXRvcyA9IChkZiRkYXRvcy1tZWFuKGRmJGRhdG9zKSkvc2QoZGYkZGF0b3MpLCB0cmFuc2YgPSAiWiIpKQprZGUucGxvdHMgPC0ga2RlcGxvdHMoZGYyLCBhZXMoZGF0b3MsIGNvbG9yID0gdHJhbnNmKSkgKyBmYWNldF93cmFwKH50cmFuc2YsIHNjYWxlcyA9ICJmcmVlIikKa2RlLnBsb3RzCmBgYAoKCiMjIyBUcmFuc2Zvcm1hY2nDs24gbG9nYXLDrXRtaWNhOgpQb3NpYmxlbWVudGUgbGEgdHJhbnNmb3JtYWNpw7NuIG3DoXMgY29ub2NpZGEsIHV0aWxpemFkYSB5LCBlbiBjb25zZWN1ZW5jaWEsIGFidXNhZGEuU2UgcmVhbGl6YSBhcGxpY2FuZG8gbGEgZWN1YWNpw7NuICRYX3tsb2d9ID0gbG9nX24oWCkkLiAoT0pPOiBzaSBoYXkgY2Vyb3Mgc2Vyw6EgJFhfe2xvZ30gPSBsb2dfbihYKzEpJCwgeWEgcXVlIGVsIGxvZ2FyaXRtbyBkZSAwIG5vIGV4aXN0ZSkuIFZlYW1vcyBxdcOpIGxlIHBhc2EgYSBsYSBkaXN0cmlidWNpw7NuIGFsIGFwbGljYXJsYS4gTGEgZGlzdHJpYnVjacOzbiBjYW1iacOzIG5vdGFibGVtZW50ZSwgYWhvcmEgc2UgZW5jdWVudHJhIG11Y2hvIG3DoXMgY2VyY2EgZGUgdW5hIGZvcm1hIGRlIGNhbXBhbmEuIMK/Q3XDoW5kbyBhcGxpY2FybGE/IEN1YW5kbyBxdWVycmFtb3MgZm9yemFyIG51ZXN0cm9zIGRhdG9zIGEgdW5hIGRpc3RyaWJ1Y2nDs24gbm9ybWFsIHBhcmEgY3VtcGxpciBjb24gbG9zIHN1cHVlc3RvcyBkZSBhbGd1bmEgcHJ1ZWJhIHBhcmFtw6l0cmljYSwgbGluZWFsaXphciBsb3MgZGF0b3MgeSwgZXF1aXZvY2FkYW1lbnRlLCBwb25lcmxvcyBlbiBsYSBtaXNtYSBlc2NhbGEgcXVlIG90cmEgdmFyaWFibGUuIENvbiBleGNlcGNpw7NuIGRlbCDDumx0aW1vIGNhc28sIGN1YWxxdWllcmEgZGUgbGFzIGZvcm1hcyBlc3TDoSBtYXRlbcOhdGljYW1lbnRlIGp1c3RpZmljYWRhLCBzb2xvIGhheSBxdWUgdGVuZXIgZW4gY29uc2lkZXJhY2nDs24gcXVlIGxvcyBkYXRvcyBubyBzb24gbG9zIG9yaWdpbmFsZXMgeSBxdWUgcHVlZGVuIG5vIHJlcHJlc2VudGFyIGFkZWN1YWRhbWVudGUgbnVlc3RybyBtdWVzdHJlby4gT3RybyBjYXNvIGVuIGVsIGN1YWwgZXMgdsOhbGlkbyB1dGlsaXphcmxvIGVzIHNpIHF1ZXJlbW9zIHZlciBjdcOhbCBlcyBjdWFuZG8gdGVuZW1vcyBkaXN0aW50b3MgZmFjdG9yZXMgeSBudWVzdHJhIHZhcmlhYmxlIGRlIHJlc3B1ZXN0YSBlcyBlbCByZXN1bHRhZG8gZGUgc3UgaW50ZXJhY2Npw7NuIChwcm9kdWN0bykgdGFsIHF1ZSAkWSA9IGEgXHRpbWVzIGIgXHRpbWVzIGMgXHRpbWVzIGRcdGltZXMgLi4uIFx0aW1lcyB6JCAoZWZlY3RvIG11bHRpcGxpY2F0aXZvIHkgbm8gYWRpdGl2byksIHlhIHF1ZSBlbCByZXN1bHRhZG8gZXMgdW5hIGRpc3RyaWJ1Y2nDs24gY29uIGZvcm1hIGxvZy1ub3JtYWwgcXVlIG5vIGVzIHBvc2libGUgY2FwdHVyYXIgY29uIGxvcyBkYXRvcyBvcmlnaW5hbGVzLiBTdSByZS10cmFuc2Zvcm1hY2nDs24gZXMgJG5ee1hfe2xvZ319JC4gU2Fsdm8gZW4gZWwgw7psdGltbyBjYXNvLCByZWNvbWllbmRvIGNvbnRyYXN0YXIgbG9zIHJlc3VsdGFkb3MgY29uIHVuYSBwcnVlYmEgbm8gcGFyYW3DqXRyaWNhIHV0aWxpemFuZG8gbG9zIGRhdG9zIG9yaWdpbmFsZXMgeSB2ZXIgY3XDoWxlcyBzb24gbGFzIGRpZmVyZW5jaWFzLgoKYGBge3J9CmRmMiA8LSByYmluZChkZjIsIGRhdGEuZnJhbWUoZGF0b3MgPSBsb2coZGYkZGF0b3MpLCB0cmFuc2YgPSAibG9nKHgpIikpCmtkZS5wbG90cyA8LSBrZGVwbG90cyhkZjIsIGFlcyhkYXRvcywgY29sb3IgPSB0cmFuc2YpKSArIGZhY2V0X3dyYXAofnRyYW5zZiwgc2NhbGVzID0gImZyZWUiKQprZGUucGxvdHMKYGBgCgojIyMgUmHDrXogY3VhZHJhZGEKT3RyYSB0cmFuc2Zvcm1hY2nDs24gbXV5IGVtcGxlYWRhLCBjb25zaXN0ZSBlbiBlbiBvYnRlbmVyIGxhIHJhw616IGN1YWRyYWRhIGRlIGNhZGEgdW5vIGRlIGxvcyBkYXRvcyAoJFxzcXJ0e1h9JCwgT0pPOiBzaSBoYXkgdmFsb3JlcyBuZWdhdGl2b3Mgbm8gc2UgcHVlZGUgdXRpbGl6YXIsIGhheSBxdWUgcGFzYXJsb3MgYSB2YWxvcmVzIGFic29sdXRvcyBvIGHDsWFkaXIgdW5hIGNvbnN0YW50ZSBwYXJhIHZvbHZlcmxvcyBwb3NpdGl2b3MpLiBWZWFtb3Mgc3UgZWZlY3RvIGVuIGxhIGRpc3RyaWJ1Y2nDs24uIEVuIGVzdGUgY2FzbyBlbCBjYW1iaW8gZW4gbGEgZm9ybWEgbm8gZXMgdGFuIGFncmVzaXZvLCB5IGxhIGNvbnNlY3VlbmNpYSBlcyDDum5pY2FtZW50ZSBxdWUgbGFzIGRpZmVyZW5jaWFzIGVudHJlIGxvcyB2YWxvcmVzIG3DoXMgYWx0b3MgeSBsb3MgbcOhcyBwZXF1ZcOxb3Mgc2UgcmVkdWpvLiBTdSByZS10cmFuc2Zvcm1hY2nDs24gZXM6ICRcc3FydHt4fV4yJC4gU3UgdXNvIG3DoXMgY29tw7puIGVzIGNvbiBkYXRvcyBkZSBjb250ZW8gKGFidW5kYW5jaWFzLCBiYWN0ZXJpYXMgZW4gdW5hIGNhamEgcGV0cmksIGV0Yy4pCgpgYGB7cn0KZGYyIDwtIHJiaW5kKGRmMiwgZGF0YS5mcmFtZShkYXRvcyA9IHNxcnQoZGYkZGF0b3MpLCB0cmFuc2YgPSAic3FydCh4KSIpKQprZGUucGxvdHMgPC0ga2RlcGxvdHMoZGYyLCBhZXMoZGF0b3MsIGNvbG9yID0gdHJhbnNmKSkgKyBmYWNldF93cmFwKH50cmFuc2YsIHNjYWxlcyA9ICJmcmVlIikKa2RlLnBsb3RzCmBgYAoK</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("c12_intro_mv.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

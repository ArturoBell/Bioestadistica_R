<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Bioestadística Aplicada con R y RStudio - 3&nbsp; Bases de R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./c04_ggplot2.html" rel="next">
<link href="./c02_intro_rs.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bases de R</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Bioestadística Aplicada con R y RStudio</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Prefacio</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./s0_preparacion.html" class="sidebar-item-text sidebar-link">Preparación</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./s1_biolcdatos.html" class="sidebar-item-text sidebar-link">Biología como Ciencia de Datos</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c01_biolcdatos.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Ciencia de datos y biología</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c02_intro_rs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introducción a RStudio y Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c03_bases_r.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bases de R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./c04_ggplot2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Principios de visualización de datos y <code>ggplot2</code></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#el-lenguaje-de-programación-r" id="toc-el-lenguaje-de-programación-r" class="nav-link active" data-scroll-target="#el-lenguaje-de-programación-r"><span class="toc-section-number">3.1</span>  El lenguaje de programación <code>R</code></a></li>
  <li><a href="#objetos" id="toc-objetos" class="nav-link" data-scroll-target="#objetos"><span class="toc-section-number">3.2</span>  Objetos</a>
  <ul class="collapse">
  <li><a href="#consideraciones" id="toc-consideraciones" class="nav-link" data-scroll-target="#consideraciones"><span class="toc-section-number">3.2.1</span>  Consideraciones</a></li>
  </ul></li>
  <li><a href="#librerías-y-funciones" id="toc-librerías-y-funciones" class="nav-link" data-scroll-target="#librerías-y-funciones"><span class="toc-section-number">3.3</span>  Librerías y funciones</a>
  <ul class="collapse">
  <li><a href="#funciones" id="toc-funciones" class="nav-link" data-scroll-target="#funciones"><span class="toc-section-number">3.3.1</span>  Funciones</a></li>
  <li><a href="#librerías" id="toc-librerías" class="nav-link" data-scroll-target="#librerías"><span class="toc-section-number">3.3.2</span>  Librerías</a></li>
  </ul></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables"><span class="toc-section-number">3.4</span>  Variables</a></li>
  <li><a href="#tipos-de-variables" id="toc-tipos-de-variables" class="nav-link" data-scroll-target="#tipos-de-variables"><span class="toc-section-number">3.5</span>  Tipos de variables</a>
  <ul class="collapse">
  <li><a href="#datos" id="toc-datos" class="nav-link" data-scroll-target="#datos"><span class="toc-section-number">3.5.1</span>  Datos</a></li>
  <li><a href="#estructurasarreglos" id="toc-estructurasarreglos" class="nav-link" data-scroll-target="#estructurasarreglos"><span class="toc-section-number">3.5.2</span>  Estructuras/arreglos</a></li>
  </ul></li>
  <li><a href="#carga-de-datos" id="toc-carga-de-datos" class="nav-link" data-scroll-target="#carga-de-datos"><span class="toc-section-number">3.6</span>  Carga de datos</a></li>
  <li><a href="#operaciones-comunes" id="toc-operaciones-comunes" class="nav-link" data-scroll-target="#operaciones-comunes"><span class="toc-section-number">3.7</span>  Operaciones comunes</a>
  <ul class="collapse">
  <li><a href="#transposición" id="toc-transposición" class="nav-link" data-scroll-target="#transposición"><span class="toc-section-number">3.7.1</span>  Transposición</a></li>
  <li><a href="#rebanadas-slices" id="toc-rebanadas-slices" class="nav-link" data-scroll-target="#rebanadas-slices"><span class="toc-section-number">3.7.2</span>  “Rebanadas” (slices)</a></li>
  <li><a href="#cambiar-nombres-de-columnas" id="toc-cambiar-nombres-de-columnas" class="nav-link" data-scroll-target="#cambiar-nombres-de-columnas"><span class="toc-section-number">3.7.3</span>  Cambiar nombres de columnas</a></li>
  <li><a href="#transformaciones" id="toc-transformaciones" class="nav-link" data-scroll-target="#transformaciones"><span class="toc-section-number">3.7.4</span>  Transformaciones</a></li>
  <li><a href="#añadir-vectores-como-columnas" id="toc-añadir-vectores-como-columnas" class="nav-link" data-scroll-target="#añadir-vectores-como-columnas"><span class="toc-section-number">3.7.5</span>  Añadir vectores como columnas</a></li>
  </ul></li>
  <li><a href="#operadores-lógicos" id="toc-operadores-lógicos" class="nav-link" data-scroll-target="#operadores-lógicos"><span class="toc-section-number">3.8</span>  Operadores lógicos</a></li>
  <li><a href="#automatización" id="toc-automatización" class="nav-link" data-scroll-target="#automatización"><span class="toc-section-number">3.9</span>  Automatización</a>
  <ul class="collapse">
  <li><a href="#ciclos-for" id="toc-ciclos-for" class="nav-link" data-scroll-target="#ciclos-for"><span class="toc-section-number">3.9.1</span>  Ciclos <code>for</code></a></li>
  <li><a href="#familia-de-funciones-apply" id="toc-familia-de-funciones-apply" class="nav-link" data-scroll-target="#familia-de-funciones-apply"><span class="toc-section-number">3.9.2</span>  Familia de funciones <code>apply()</code></a></li>
  <li><a href="#condicionales" id="toc-condicionales" class="nav-link" data-scroll-target="#condicionales"><span class="toc-section-number">3.9.3</span>  Condicionales</a></li>
  </ul></li>
  <li><a href="#ejercicios" id="toc-ejercicios" class="nav-link" data-scroll-target="#ejercicios"><span class="toc-section-number">3.10</span>  Ejercicios</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Bases de R</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="el-lenguaje-de-programación-r" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="el-lenguaje-de-programación-r"><span class="header-section-number">3.1</span> El lenguaje de programación <code>R</code></h2>
<p>En la sesión anterior hablamos de <code>RStudio</code> como una interfaz gráfica a <code>R</code>, pero no fuimos más allá de decir que <code>R</code> es un lenguaje de programación que se ejecuta en consola. Pues bien, <code>R</code> es, y cito textualmente, “un <strong>lenguaje</strong> y <strong>ambiente</strong> para la <strong>computación estadística</strong> y la creación de <strong>gráficos</strong>”. ¿En castellano? Es un lenguaje creado especialmente para procedimientos estadísticos y el graficado de datos. Es un software libre, por lo que además de ser gratuito es auditable (i.e., cualquiera puede revisar el código fuente), “cualquiera” puede contribuir (ojo a las comillas). En su código fuente base (R base) incluye diversos algoritmos, modelos y distribuciones de probabilidad, aunque también es fácilmente extensible por medio de paquetes o librerías.</p>
<p>En este punto me dirás “Ok, Arturo, de acuerdo con lo que dices, pero ¿por qué se ha vuelto tan popular en análisis bioestadísticos?” Pues tiene que ver con varios factores. El primero es que es un lenguaje de <strong>alto nivel</strong>; es decir, está hecho para ser leído por humanos y no por computadoras. El segundo es que es <strong>interactivo</strong>, por lo que podemos ir modificando el código y ver su salida en tiempo real <strong>sin necesidad de compilar</strong> primero el código. El tercer</p>
</section>
<section id="objetos" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="objetos"><span class="header-section-number">3.2</span> Objetos</h2>
<p><code>R</code> es un lenguaje en el cual domina el paradigma de la programación orientada a objetos; <em>i.e.</em>, en R todo es un objeto. El método de creación es el mismo para todos los casos: utilizar el <strong>símbolo de asignación</strong> <code>&lt;-</code> (atajo de teclado <code>alt -</code>). Como ejemplo, creemos un objeto que contenga el texto “¡Hola Mundo!”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>texto <span class="ot">&lt;-</span> <span class="st">"¡Hola mundo!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notarás que no hubo salida ni en la libreta ni en la consola. Esto quiere decir que el objeto fue creado satisfactoriamente, y ahora podemos acceder o utilizar ese texto <strong>llamando</strong> al objeto <code>texto</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>texto</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "¡Hola mundo!"</code></pre>
</div>
</div>
<section id="consideraciones" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="consideraciones"><span class="header-section-number">3.2.1</span> Consideraciones</h3>
<p>Aunque podemos poner virtualmente cualquier nombre a nuestros objetos, es necesario que tengamos algunas cosas en cuenta:</p>
<ol type="1">
<li>No empezar nombres de objetos con números.</li>
<li>No utilizar nombres de funciones u otros objetos creados anteriormente: <strong>enmascaramiento</strong> (funciones) o <strong>sobre-escritura</strong> (variables)</li>
<li>Evitar empezar con punto (<code>.</code>), pues el objeto queda oculto del ambiente de trabajo</li>
<li>Utilizar nombres cortos, pero lo más descriptivos posibles (<code>amundsen_plot</code> &gt;&gt; <code>plot</code>)</li>
<li>Se pueden utilizar <code>_</code> o <code>.</code> dentro del nombre (como separadores, por ejemplo). La guía de estilo de R sugiere el uso de <code>_</code>, aunque la guía de estilo de Google para R sugiere el uso de <em>CamelCase</em> (<code>AmundsenPlot</code>). Lo más importante para uso personal/interno es ser consistente y evitar mezclar estilos.</li>
</ol>
</section>
</section>
<section id="librerías-y-funciones" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="librerías-y-funciones"><span class="header-section-number">3.3</span> Librerías y funciones</h2>
<p>Aunque en <code>R</code> predomina el paradigma de la programación orientada a objetos, también podemos hacer uso del paradigma funcional de la programación; es decir, podemos construir nuestros programas mediante la aplicación y construcción de funciones. Aunque en este momento te suene poco intuitivo o como si estuviéramos comenzando por el final, vamos a comenzar con las funciones, para después hablar de los tipos de objetos que tenemos, pues resulta que para crear cierto tipo de objetos necesitamos utilizar funciones.</p>
<section id="funciones" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="funciones"><span class="header-section-number">3.3.1</span> Funciones</h3>
<p>Las funciones representan una serie de métodos para obtener un resultado, para utilizarlas emplearemos la estructura <code>fun(arg1, arg2, ..., argn)</code>, donde <code>arg*</code>representa un <strong>argumento</strong>; es decir, un elemento “pasado” a la función para regular sus procesos. El ejemplo más simple, y con el cuál ya hemos estado en contacto, es la función <code>print()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"¡Hola Mundo!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "¡Hola Mundo!"</code></pre>
</div>
</div>
<p>Esta función “imprime” un resultado en pantalla, pero puede ser utilizada para mucho más que para imprimir texto. A final de cuentas, este mismo resultado lo podemos obtener simplemente poniendo el texto en la consola. ¿Qué puede hacer la función? Eso lo podemos ver consultando la <strong>ayuda</strong> de la función, utilizando el operador <code>?</code> antes del nombre, tal que:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>?print</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Te darás cuenta que no tenemos una salida en la libreta, lo cuál es normal, pues la ayuda tiene su propio espacio en el ambiente gráfico. Si estuviéramos trabajando solo con la línea de comandos en el terminal, ahí sí veríamos la salida en la consola. Una de las partes más importantes de la documentación de ayuda es que tenemos los <strong>argumentos</strong> de la función; es decir, qué necesita la función para realizar su trabajo, así como el papel de cada uno de estos elementos.</p>
<p>Por otra parte, cuando declaramos una función los llamaremos <strong>parámetros</strong>. Para declarar una función generaremos una variable cuyo nombre será el nombre “llamable” de la función, a la cual asignaremos el cuerpo de la función utilizando <code>function(parámetros){cuerpo}</code>. Para ejemplificar, creemos una función para calcular la media aritmética de un conjunto de números <code>x</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>media.arit <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mejora: Trabajo con NAs</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  suma <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(suma<span class="sc">/</span>n)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="fu">media.arit</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>¿Cuándo declarar una función? Cuando tengamos un flujo de trabajo que consista de exactamente los mismos pasos con posibles pequeñas variaciones, el cuál aplicaremos de manera continua. De hecho, uno de los productos que obtendremos de estas reuniones será un script con las funciones relacionadas con los análisis tróficos IIR, PSIRI, gráficos de Amundsen, etc. para que puedan ser utilizados de manera sencilla, repetitiva, y consistente.</p>
<p>Por último, debido a que un gran número de funciones son altamente regulables (cuentan con un gran número de parámetros), te recomiendo hacer uso extensivo (excesivo) de la ayuda (<code>?fun</code>) para que obtengas de primera mano el conocimiento sobre su objetivo, sus entradas, su salida y, en consecuencia, ayudarte a prevenir o solucionar errores.</p>
</section>
<section id="librerías" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="librerías"><span class="header-section-number">3.3.2</span> Librerías</h3>
<p>Afortunadamente para nostros, muchas de las técnicas o procedimientos que realizamos ya fueron programados por alguien con más experiencia, y usualmente compilados en una librería de R. Hay una gran cantidad de librerías disponibles, algunas instalables directamente desde CRAN (R), mientras que otras son instalables desde repositorios públicos como <a href="https://www.github.com">GitHub</a>. Por lo general, la gran mayoría las instalaremos desde R, utilizando la función <code>install.packages("package", dependencies = T)</code>. Esta función buscará la versión más reciente del paquete solicitado y la descargará e instalará para que pueda ser utilizada por nosotros. Un ejemplo:</p>
<pre><code>install.packages("tidyverse", dependencies = T)</code></pre>
<p>Esta línea descargará el paquete <code>tidyverse</code>, que es un paquete formado por muchos otros paquetes que forman un “dialecto” dentro de R. Por el momento no te preocupes por eso, solo lo instalamos para evitarnos muchas descargas independientes de paquetes que pueden llegar a serte extremadamente útiles, tal como <code>ggplot2</code>. Es importante mencionar que una cosa es <strong>instalar</strong> la librería y otra cosa es <strong>utilizar</strong> la librería, para lo cual necesitamos de la función <code>library(package)</code>, tal que:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Una vez que hicimos esto ya podemos utilizar TODAS las funciones que forman parte de la librería. ¿Y si solo quiero utilizar una función particular? En ese caso puedes utilizar el operador <code>::</code>. Probemos viendo la ayuda de la función <code>str_extract</code> de la librería <code>stringr</code> que forma parte del <code>tidyverse</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>?stringr<span class="sc">::</span>str_extract</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ahora que sabemos qué es una función, qué es una librería y cómo utilizarlos, vayamos a explorar el otro tipo de objetos: las variables.</p>
</section>
</section>
<section id="variables" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="variables"><span class="header-section-number">3.4</span> Variables</h2>
<p>A diferencia de una función en la cual almacenamos series de pasos para obtener un resultado, una variable nos permite almacenar todo lo demás: resultados, números, texto, tablas, e incluso otras variables. Su declaración la vimos arriba: con el símbolo de asignación (<strong>&lt;-</strong>). Para imprimir el resultado en pantalla podemos llamar a la variable o utilizar la función <code>print(var)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>var <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
</div>
</section>
<section id="tipos-de-variables" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="tipos-de-variables"><span class="header-section-number">3.5</span> Tipos de variables</h2>
<p>Existen dos tipos de variables, los cuales a su vez se subdividen en otros tipos. Para conocer el tipo de una variable utilizamos la función <code>typeof(var)</code>, mientras que las funciones <code>is.*()</code> nos permiten probar si una variable es de un tipo en específico (<em>e.g.</em> <code>is.character(var)</code>).</p>
<section id="datos" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="datos"><span class="header-section-number">3.5.1</span> Datos</h3>
<p>Las variables que contienen un solo elemento se conocen como <strong>datos</strong>:</p>
<ol type="1">
<li><strong>Character</strong>: Cadena de caracteres, indicadas por comillas dobles o sencillas:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>char <span class="ot">&lt;-</span> <span class="st">"a"</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(char)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li><strong>Integer</strong>: Números enteros, indicados por la letra “L” después del número:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>integer <span class="ot">&lt;-</span> 5L</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(integer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><strong>Double</strong>: Fracciones, también conocidos como <em>floating points</em>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>dbl <span class="ot">&lt;-</span> <span class="dv">7</span><span class="sc">/</span><span class="dv">5</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(dbl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<ol start="4" type="1">
<li><strong>Logical</strong>: Valor lógico o booleano. Solo puede tomar dos valores: <code>TRUE</code> o <code>FALSE</code> o sus abreviaturas <code>T</code> o <code>F</code></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>bool <span class="ot">&lt;-</span> <span class="fu">is.double</span>(dbl)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">'valor: '</span>, bool))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "valor:  TRUE"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">'tipo: '</span>, <span class="fu">typeof</span>(bool)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tipo:  logical"</code></pre>
</div>
</div>
<ol start="5" type="1">
<li><strong>Complex</strong>: Números complejos, con una parte real y una imaginaria:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>comp.n <span class="ot">&lt;-</span> <span class="dv">8</span><span class="sc">+</span>3i</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(comp.n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "complex"</code></pre>
</div>
</div>
</section>
<section id="estructurasarreglos" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="estructurasarreglos"><span class="header-section-number">3.5.2</span> Estructuras/arreglos</h3>
<p>Las estructuras son colecciones de valores, cada una con sus propiedades y sus métodos de acceso a los valores que las conforman (indexación/indización):</p>
<section id="vector" class="level4" data-number="3.5.2.1">
<h4 data-number="3.5.2.1" class="anchored" data-anchor-id="vector"><span class="header-section-number">3.5.2.1</span> Vector</h4>
<p>La estructura más básica. Una colección <strong>unidimensional</strong> de elementos. Las funciones para crearlos son: <code>c()</code>, la cual <em>combina</em> una serie de elementos en un vector (mismo tipo) o una lista (diferentes tipos); <code>vector(mode, length)</code>: genera un vector “vacío” con longitud (número de elementos) <code>length</code> y tipo de datos <code>'mode'</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>vect<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>vect<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode =</span> <span class="st">'double'</span>, <span class="at">length =</span> <span class="dv">5</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(vect<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(vect<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0 0 0 0</code></pre>
</div>
</div>
<p>Para indexar un vector utilizamos: <code>var[i]</code>, donde <code>i</code> representa la posición del (los) elemento(s) de interés:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(vect<span class="fl">.1</span>[<span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(vect<span class="fl">.1</span>[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3</code></pre>
</div>
</div>
</section>
<section id="factor" class="level4" data-number="3.5.2.2">
<h4 data-number="3.5.2.2" class="anchored" data-anchor-id="factor"><span class="header-section-number">3.5.2.2</span> Factor</h4>
<p>Representan variables categoricas. Contienen los valores de la variable así como los valores posibles que puede tomar (niveles). Se crean con la función <code>factor(x, levels, labels)</code>, donde x representa los valores de la variable, <code>levels</code> representa los posibles niveles y <code>labels</code> (opcional) representan etiquetas de cada nivel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fact<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>), </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>, <span class="st">'d'</span>, <span class="st">'e'</span>))</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>fact<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] a b c
Levels: a b c d e</code></pre>
</div>
</div>
</section>
<section id="matrix" class="level4" data-number="3.5.2.3">
<h4 data-number="3.5.2.3" class="anchored" data-anchor-id="matrix"><span class="header-section-number">3.5.2.3</span> Matrix</h4>
<p>Una estructura bidimensional (columnas/renglones). Se generan utilizando la función <code>matrix(data, nrow, ncol, byrow)</code>, donde <code>data</code> representa la colección de objetos que formarán la matriz, <code>nrow</code> y <code>ncol</code> el número de renglones y columnas, respectivamente, y <code>byrow</code> si se llenará por renglones (<code>FALSE</code>) o por columnas (<code>TRUE</code>, por defecto)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>mat<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(T, F, F, T), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>mat<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]  [,2]
[1,]  TRUE FALSE
[2,] FALSE  TRUE</code></pre>
</div>
</div>
<p>Para indexar una matriz utilizaremos también corchetes; sin embargo, indicaremos el par renglón,columna donde se ubica el elemento:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat<span class="fl">.1</span>[<span class="dv">1</span>,<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat<span class="fl">.1</span>[<span class="dv">2</span>,<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Si quisieramos indexar toda una dimensión (renglón o columna), utilizaríamos el mismo método, dejando en blanco la dimensión contraria; es decir, si nos interesa una columna, dejaremos en blanco el número de renglón y si nos interesa un renglón dejaremos en blanco el número de columna:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat<span class="fl">.1</span>[,<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(mat<span class="fl">.1</span>[<span class="dv">1</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE</code></pre>
</div>
</div>
<p>OJO: <code>print(mat.1[c(1,1)])</code> NO da la diagonal de la matriz, esa la obtenemos con <code>diag(mat1)</code>, sino que repite 2 veces el primer elemento de la matriz</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>mat<span class="fl">.1</span>[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>),<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE</code></pre>
</div>
</div>
</section>
<section id="dataframe" class="level4" data-number="3.5.2.4">
<h4 data-number="3.5.2.4" class="anchored" data-anchor-id="dataframe"><span class="header-section-number">3.5.2.4</span> DataFrame</h4>
<p>El DataFrame es la estructura con la que más comúnmente estaremos en contacto. Es una tabla completa que, a diferencia de la matriz, contiene nombres de columnas. Tiene dos particularidades que hay que considerar: 1) todos los elementos que forman a cada columna deberán ser del mismo tipo y 2) El número de renglones de todas las columnas debe de ser el mismo. Se crean utilizando la función <code>data.frame(col.name = data, ...)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">col.a =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>), </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">col.b =</span> <span class="fu">c</span>(<span class="dv">20</span><span class="sc">:</span><span class="dv">25</span>), </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">col.c =</span> <span class="fu">c</span>(<span class="dv">15</span><span class="sc">:</span><span class="dv">20</span>))</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Nota: Si no se indica el nombre de las columnas este será asignado automáticamente</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  col.a col.b col.c
1     0    20    15
2     1    21    16
3     2    22    17
4     3    23    18
5     4    24    19
6     5    25    20</code></pre>
</div>
</div>
<p>Existen distintos modos de indexar un DataFrame. El primero de ellos <code>var$col.name</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.1</span><span class="sc">$</span>col.a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 1 2 3 4 5</code></pre>
</div>
</div>
<p>Ejercicio renglones 1 y 4 de la columna c:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.1</span><span class="sc">$</span>col.c[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15 18</code></pre>
</div>
</div>
<p>Como vemos, este modo de indexación extrae la columna completa en forma de un vector, por lo que si queremos accesar un valor en particular solo habrá que utilizar ese método de indexación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.1</span><span class="sc">$</span>col.b[<span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23</code></pre>
</div>
</div>
<p>Finalmente, también podemos utilizar el método de indexación de matrices, recordando que se especifica el par renglón, columna:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>df<span class="fl">.1</span>[<span class="dv">4</span>,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23</code></pre>
</div>
</div>
<p>Esta es la estructura con la que más debemos de familiarizarnos, pues la mayor parte de nuestros datos los representamos en ella. ¿Siempre debemos de ingresar los datos manualmente? Para nada, tenemos todo un abanico de funciones que nos permiten cargar datos directamente de archivos, pero eso lo veremos más adelante.</p>
</section>
<section id="list" class="level4" data-number="3.5.2.5">
<h4 data-number="3.5.2.5" class="anchored" data-anchor-id="list"><span class="header-section-number">3.5.2.5</span> List</h4>
<p>Las listas son una colección de cualquier combinación de datos o estructuras, incluyendo otras listas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>l<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">list</span>(df<span class="fl">.1</span>, mat<span class="fl">.1</span>, vect<span class="fl">.1</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(l<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
  col.a col.b col.c
1     0    20    15
2     1    21    16
3     2    22    17
4     3    23    18
5     4    24    19
6     5    25    20

[[2]]
      [,1]  [,2]
[1,]  TRUE FALSE
[2,] FALSE  TRUE

[[3]]
[1] 1 2 3 4 5</code></pre>
</div>
</div>
<p>En la salida de arriba vemos el método de indexación: <code>var[[i]][j,k]</code>, donde <code>i</code> representa el número de objeto en la lista y <code>j,k</code> el par renglón,columna (de aplicar). En el caso de DataFrames podemos seguir utilizando el operador <code>$</code> para utilizar los noombres de columnas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>l<span class="fl">.1</span>[[<span class="dv">1</span>]]<span class="sc">$</span>col.a[<span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>Ahora que hemos hablado de todos los tipos de estructuras, y antes de encaminarnos hacia los procesos de automatización, hablemos de cómo cargar nuestros datos en R.</p>
<p>Ejercicios:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>l<span class="fl">.1</span>[[<span class="dv">2</span>]][<span class="dv">2</span>,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>l<span class="fl">.1</span>[[<span class="dv">3</span>]][<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>l<span class="fl">.1</span>[[<span class="dv">1</span>]]<span class="sc">$</span>col.b[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22 23</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>l<span class="fl">.1</span>[[<span class="dv">1</span>]]<span class="sc">$</span>col.a[<span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 0</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="carga-de-datos" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="carga-de-datos"><span class="header-section-number">3.6</span> Carga de datos</h2>
<p>El cómo carguemos nuestros datos depende de varios factores: a) el formato del archivo en el que estén archivados, b) el cómo esté acomodada la información, c) qué necesitemos para hacer los análisis posteriores. El ejemplo más simple es cargar un archivo de texto separado por comas, en el cuál las comas separan las columnas y los saltos de línea los renglones. Tomemos como ejemplo el archivo <code>"datos1.csv"</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>datos1 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"datos/datos1.csv"</span>, <span class="at">sep =</span> <span class="st">","</span>, <span class="at">header =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Podemos verificar la información obteniendo el <strong>encabezado</strong> del data.frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  sp st habitat Alpheus_lottini Alpheus_spp Alpheus_umbo Amphipods
1 Cu  1       C               0           0            0         0
2 Cu  2       C               0           4            0         0
3 Cu  3       C               0           0            0         0
4 Cz  1       C               0           0            0         6
5 Ar  1       C               0           0            0         0
6 Ps  1       C               0           0            0         0
  Apogon_retrosella Appendicularians Axoclinus_nigricaudis Bittium_cerralvoense
1                 0                0                     0                    0
2                 0                0                     0                    0
3                 0                0                     0                    0
4                 0                0                     0                    0
5                 0                0                     0                    0
6                 0                0                     0                    0
  Chaetognaths Cirripedia_Chthamalus_anisopoma. Cladocerans_Penila_avirostris
1            0                                0                             0
2            0                                0                             0
3            0                                0                             0
4            0                                0                             0
5            0                                0                             0
6            0                                0                             0
  Cladocerans_Pseudovadne_tergestina Copepods_Acartia_clausi
1                                  0                       9
2                                  0                       0
3                                  0                       0
4                                  0                       8
5                                  0                       0
6                                  0                       0
  Copepods_Calanus_pacificus Epitonium_canna Fish_eggs foraminifera
1                          0               0         0            0
2                          0               0         0            0
3                          0               0         0            0
4                          0               0        13            0
5                          0               0         0            0
6                          0               0         0            0
  Gnathophyllum_panamense Hidrozoa Ichtyoplankton Larvae_crustaceans_megalopa
1                       0        0              6                           0
2                       2        0              0                           0
3                       0        0              0                           0
4                       0        0              0                           0
5                       0        0              0                           0
6                       0        0              0                           0
  larvae_crustaceans_zoea Liomera_cinctimana Litiopa_melanostoma Mysid
1                       0                  0                   0     0
2                       0                  0                   0     0
3                       0                  0                   0     0
4                       0                  0                   0     0
5                       0                  0                   0     0
6                       0                  0                   0     0
  Mytella_arciformis Mytella_tumbezensis Nanocassiope_polita
1                  0                   0                   0
2                  0                   0                   0
3                  0                   0                   0
4                  0                   0                   0
5                  0                   0                   0
6                  0                   0                   0
  Nyctiphanes_simplex Ostracods Otoliths Palaemon_ritter Panopeus_purpureus
1                   0         0        0               0                  0
2                   0         0        0               0                  0
3                   0         0        0               2                  0
4                   0         0        0               0                  0
5                   0         0        0               0                  0
6                  15         0        0               0                  0
  Parviturbo_acuticostatus Parviturbo_erici Parviturbo_spp Pteropods
1                        0                0              0         0
2                        0                0              0         0
3                        0                0              0         0
4                        0                0              0         0
5                        0                0              0         0
6                        0                0              0         0
  Quadrella_nitida Tagelus_californianus Tegula_globulus Tegula_mariana
1                0                     0               0              0
2                0                     0               0              0
3                0                     0               0              0
4                0                     0               0              0
5                0                     0               0              2
6                0                     0               0              0
  Tellina_coani. Trapezia_bidentata Trapezia_formosa Trapezia_spp
1              0                  0                0            0
2              0                  0                0            0
3              0                  0                0            0
4              0                  0                0            0
5              0                  0                0            0
6              0                  0                0            0
  Ulva_dactylifera Ulva_lactuca Ulva_spp UOM..Unidentified.Organic.Material.
1                0            0        0                                   0
2                0            0        0                                   0
3                0            0        0                                   0
4                0            0        0                                   0
5                0            0        0                                   0
6                0            0        0                                   0</code></pre>
</div>
</div>
<p>Los archivos separados por comas son uno de los formatos más comunes, por lo que R cuenta con una función dedicada (la función <code>read.table()</code> con valores predefinidos):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>datos1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"datos/datos1.csv"</span>)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  sp st habitat Alpheus_lottini Alpheus_spp Alpheus_umbo Amphipods
1 Cu  1       C               0           0            0         0
2 Cu  2       C               0           4            0         0
3 Cu  3       C               0           0            0         0
4 Cz  1       C               0           0            0         6
5 Ar  1       C               0           0            0         0
6 Ps  1       C               0           0            0         0
  Apogon_retrosella Appendicularians Axoclinus_nigricaudis Bittium_cerralvoense
1                 0                0                     0                    0
2                 0                0                     0                    0
3                 0                0                     0                    0
4                 0                0                     0                    0
5                 0                0                     0                    0
6                 0                0                     0                    0
  Chaetognaths Cirripedia_Chthamalus_anisopoma. Cladocerans_Penila_avirostris
1            0                                0                             0
2            0                                0                             0
3            0                                0                             0
4            0                                0                             0
5            0                                0                             0
6            0                                0                             0
  Cladocerans_Pseudovadne_tergestina Copepods_Acartia_clausi
1                                  0                       9
2                                  0                       0
3                                  0                       0
4                                  0                       8
5                                  0                       0
6                                  0                       0
  Copepods_Calanus_pacificus Epitonium_canna Fish_eggs foraminifera
1                          0               0         0            0
2                          0               0         0            0
3                          0               0         0            0
4                          0               0        13            0
5                          0               0         0            0
6                          0               0         0            0
  Gnathophyllum_panamense Hidrozoa Ichtyoplankton Larvae_crustaceans_megalopa
1                       0        0              6                           0
2                       2        0              0                           0
3                       0        0              0                           0
4                       0        0              0                           0
5                       0        0              0                           0
6                       0        0              0                           0
  larvae_crustaceans_zoea Liomera_cinctimana Litiopa_melanostoma Mysid
1                       0                  0                   0     0
2                       0                  0                   0     0
3                       0                  0                   0     0
4                       0                  0                   0     0
5                       0                  0                   0     0
6                       0                  0                   0     0
  Mytella_arciformis Mytella_tumbezensis Nanocassiope_polita
1                  0                   0                   0
2                  0                   0                   0
3                  0                   0                   0
4                  0                   0                   0
5                  0                   0                   0
6                  0                   0                   0
  Nyctiphanes_simplex Ostracods Otoliths Palaemon_ritter Panopeus_purpureus
1                   0         0        0               0                  0
2                   0         0        0               0                  0
3                   0         0        0               2                  0
4                   0         0        0               0                  0
5                   0         0        0               0                  0
6                  15         0        0               0                  0
  Parviturbo_acuticostatus Parviturbo_erici Parviturbo_spp Pteropods
1                        0                0              0         0
2                        0                0              0         0
3                        0                0              0         0
4                        0                0              0         0
5                        0                0              0         0
6                        0                0              0         0
  Quadrella_nitida Tagelus_californianus Tegula_globulus Tegula_mariana
1                0                     0               0              0
2                0                     0               0              0
3                0                     0               0              0
4                0                     0               0              0
5                0                     0               0              2
6                0                     0               0              0
  Tellina_coani. Trapezia_bidentata Trapezia_formosa Trapezia_spp
1              0                  0                0            0
2              0                  0                0            0
3              0                  0                0            0
4              0                  0                0            0
5              0                  0                0            0
6              0                  0                0            0
  Ulva_dactylifera Ulva_lactuca Ulva_spp UOM..Unidentified.Organic.Material.
1                0            0        0                                   0
2                0            0        0                                   0
3                0            0        0                                   0
4                0            0        0                                   0
5                0            0        0                                   0
6                0            0        0                                   0</code></pre>
</div>
</div>
<p>Aquí todo se cargó sin ningún problema porque el archivo estaba listo para ser leído, pero esto no siempre es el caso. Por ejemplo, los datos pueden estar en la segunda hoja de un archivo Excel, la cuál tiene 5 renglones de encabezado dando una descripción de los datos y en el renglón 6 están dispuestos los nombres de las variables. Además, sabemos que vamos a realizar un análisis de agrupamientos jerárquicos (clúster), el cuál requiere que los nombres de los individuos estén marcados en los nombres de los renglones (Ver archivo <code>datos2.xlsx</code>):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>datos2 <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">"datos/datos2.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esto, evidentemente, da un error, pues le dimos a la función <code>read.table()</code> un archivo que no es de texto simple, sino un Excel.</p>
<p>Vamos entonces por partes:</p>
<ol type="1">
<li>Formato: es un archivo Excel, por lo que hay que utilizar una función que permita leer ese tipo de archivo. En nuestro caso utilizaremos la función <code>readxl::read_xlsx()</code>. Aquí no obtendremos ningún error, pues el tipo de archivo es el correcto. Lo único que obtenemos es un mensaje (<code>New names:</code>) que nos diría a qué columnas se les asignó nombres nuevos (y cuáles).</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>datos2 <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"datos/datos2.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `Lp14-C` -&gt; `Lp14-C...94`
• `Lp14-C` -&gt; `Lp14-C...109`</code></pre>
</div>
</div>
<p>Pero, ¿qué pasa si leemos el encabezado? Resulta que la función cargó la primera hoja del excel, cuando en realidad nosotros queríamos la segunda</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 256
  Prey   `Cu1-C` `Cu2-C` `Cu3-C` `Cz1-C` `Ar1-C` `Ps1-C` `Cz2-C` `Cz3-C` `Ac1-C`
  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Alphe…       0       0       0       0       0       0       0       0       0
2 Alphe…       0       4       0       0       0       0       0       0       0
3 Alphe…       0       0       0       0       0       0       0       0       0
4 Amphi…       0       0       0       6       0       0       0       0       0
5 Apogo…       0       0       0       0       0       0       0       0       0
6 Appen…       0       0       0       0       0       0       0       0       0
# … with 246 more variables: `Cu4-C` &lt;dbl&gt;, `Cu5-C` &lt;dbl&gt;, `Lp1-C` &lt;dbl&gt;,
#   `Gc1-C` &lt;dbl&gt;, `Cz4-C` &lt;dbl&gt;, `Cu6-C` &lt;dbl&gt;, `Cu7-C` &lt;dbl&gt;, `Lp2-C` &lt;dbl&gt;,
#   `Lp3-C` &lt;dbl&gt;, `Lp4-C` &lt;dbl&gt;, `Lp5-C` &lt;dbl&gt;, `Lp6-C` &lt;dbl&gt;, `Lp7-C` &lt;dbl&gt;,
#   `Lp8-C` &lt;dbl&gt;, `Lp9-C` &lt;dbl&gt;, `Lp10-C` &lt;dbl&gt;, `Lp11-C` &lt;dbl&gt;,
#   `Ac2-C` &lt;dbl&gt;, `Pm1-C` &lt;dbl&gt;, `Pm2-C` &lt;dbl&gt;, `Pm3-C` &lt;dbl&gt;, `Gc2-C` &lt;dbl&gt;,
#   `Cz5-C` &lt;dbl&gt;, `Cz6-C` &lt;dbl&gt;, `Ar2-C` &lt;dbl&gt;, `Ar3-C` &lt;dbl&gt;, `Ar4-C` &lt;dbl&gt;,
#   `Ar5-C` &lt;dbl&gt;, `Cz7-C` &lt;dbl&gt;, `Pm4-C` &lt;dbl&gt;, `Lp12-C` &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p>Necesitamos entonces indicar explícitamente que queremos se cargue la segunda hoja:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>datos2 <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"datos/datos2.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`
• `` -&gt; `...9`
• `` -&gt; `...10`
• `` -&gt; `...11`
• `` -&gt; `...12`
• `` -&gt; `...13`
• `` -&gt; `...14`
• `` -&gt; `...15`
• `` -&gt; `...16`
• `` -&gt; `...17`
• `` -&gt; `...18`
• `` -&gt; `...19`
• `` -&gt; `...20`
• `` -&gt; `...21`
• `` -&gt; `...22`
• `` -&gt; `...23`
• `` -&gt; `...24`
• `` -&gt; `...25`
• `` -&gt; `...26`
• `` -&gt; `...27`
• `` -&gt; `...28`
• `` -&gt; `...29`
• `` -&gt; `...30`
• `` -&gt; `...31`
• `` -&gt; `...32`
• `` -&gt; `...33`
• `` -&gt; `...34`
• `` -&gt; `...35`
• `` -&gt; `...36`
• `` -&gt; `...37`
• `` -&gt; `...38`
• `` -&gt; `...39`
• `` -&gt; `...40`
• `` -&gt; `...41`
• `` -&gt; `...42`
• `` -&gt; `...43`
• `` -&gt; `...44`
• `` -&gt; `...45`
• `` -&gt; `...46`
• `` -&gt; `...47`
• `` -&gt; `...48`
• `` -&gt; `...49`
• `` -&gt; `...50`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 50
  Datos de c…¹ ...2  ...3  ...4  ...5  ...6  ...7  ...8  ...9  ...10 ...11 ...12
  &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1 Proyecto: E… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
2 Análisis de… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
3 Acomodo de … &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
4 Datos de fr… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
5 Clave        Alph… Alph… Alph… Amph… Apog… Appe… Axoc… Bitt… Chae… Cirr… Clad…
6 Cu1-C        0     0     0     0     0     0     0     0     0     0     0    
# … with 38 more variables: ...13 &lt;chr&gt;, ...14 &lt;chr&gt;, ...15 &lt;chr&gt;, ...16 &lt;chr&gt;,
#   ...17 &lt;chr&gt;, ...18 &lt;chr&gt;, ...19 &lt;chr&gt;, ...20 &lt;chr&gt;, ...21 &lt;chr&gt;,
#   ...22 &lt;chr&gt;, ...23 &lt;chr&gt;, ...24 &lt;chr&gt;, ...25 &lt;chr&gt;, ...26 &lt;chr&gt;,
#   ...27 &lt;chr&gt;, ...28 &lt;chr&gt;, ...29 &lt;chr&gt;, ...30 &lt;chr&gt;, ...31 &lt;chr&gt;,
#   ...32 &lt;chr&gt;, ...33 &lt;chr&gt;, ...34 &lt;chr&gt;, ...35 &lt;chr&gt;, ...36 &lt;chr&gt;,
#   ...37 &lt;chr&gt;, ...38 &lt;chr&gt;, ...39 &lt;chr&gt;, ...40 &lt;chr&gt;, ...41 &lt;chr&gt;,
#   ...42 &lt;chr&gt;, ...43 &lt;chr&gt;, ...44 &lt;chr&gt;, ...45 &lt;chr&gt;, ...46 &lt;chr&gt;, …</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Saltar renglones: Ya tenemos la hoja que nos interesa, el problema es que cargó el encabezado como renglones con observaciones, por lo que hay que saltarlos:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>datos2 <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"datos/datos2.xlsx"</span>,</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">sheet =</span> <span class="dv">2</span>,</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">skip =</span> <span class="dv">5</span>)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 50
  Clave Alpheu…¹ Alphe…² Alphe…³ Amphi…⁴ Apogo…⁵ Appen…⁶ Axocl…⁷ Bitti…⁸ Chaet…⁹
  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Cu1-C        0       0       0       0       0       0       0       0       0
2 Cu2-C        0       4       0       0       0       0       0       0       0
3 Cu3-C        0       0       0       0       0       0       0       0       0
4 Cz1-C        0       0       0       6       0       0       0       0       0
5 Ar1-C        0       0       0       0       0       0       0       0       0
6 Ps1-C        0       0       0       0       0       0       0       0       0
# … with 40 more variables: Cirripedia_Chthamalus_anisopoma &lt;dbl&gt;,
#   Cladocerans_Penila_avirostris &lt;dbl&gt;,
#   Cladocerans_Pseudovadne_tergestina &lt;dbl&gt;, Copepods_Acartia_clausi &lt;dbl&gt;,
#   Copepods_Calanus_pacificus &lt;dbl&gt;, Epitonium_canna &lt;dbl&gt;, Fish_eggs &lt;dbl&gt;,
#   foraminifera &lt;dbl&gt;, Gnathophyllum_panamense &lt;dbl&gt;, Hidrozoa &lt;dbl&gt;,
#   Ichtyoplankton &lt;dbl&gt;, Larvae_crustaceans_megalopa &lt;dbl&gt;,
#   larvae_crustaceans_zoea &lt;dbl&gt;, Liomera_cinctimana &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="operaciones-comunes" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="operaciones-comunes"><span class="header-section-number">3.7</span> Operaciones comunes</h2>
<p>Como ya vimos, no siempre vamos a obtener la información en el formato que necesitamos. Aunque podemos solventar algunas de estas carencias durante la carga de los archivos, a veces necesitamos “masajear” los datos o “manipularlos” para llevarlos a lo que las funciones que nos interesan nos piden. Tomemos como ejemplo los datos de la hoja número 1 del archivo <code>datos2.xlsx</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>datos3 <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_xlsx</span>(<span class="st">"datos/datos2.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `Lp14-C` -&gt; `Lp14-C...94`
• `Lp14-C` -&gt; `Lp14-C...109`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 256
  Prey   `Cu1-C` `Cu2-C` `Cu3-C` `Cz1-C` `Ar1-C` `Ps1-C` `Cz2-C` `Cz3-C` `Ac1-C`
  &lt;chr&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Alphe…       0       0       0       0       0       0       0       0       0
2 Alphe…       0       4       0       0       0       0       0       0       0
3 Alphe…       0       0       0       0       0       0       0       0       0
4 Amphi…       0       0       0       6       0       0       0       0       0
5 Apogo…       0       0       0       0       0       0       0       0       0
6 Appen…       0       0       0       0       0       0       0       0       0
# … with 246 more variables: `Cu4-C` &lt;dbl&gt;, `Cu5-C` &lt;dbl&gt;, `Lp1-C` &lt;dbl&gt;,
#   `Gc1-C` &lt;dbl&gt;, `Cz4-C` &lt;dbl&gt;, `Cu6-C` &lt;dbl&gt;, `Cu7-C` &lt;dbl&gt;, `Lp2-C` &lt;dbl&gt;,
#   `Lp3-C` &lt;dbl&gt;, `Lp4-C` &lt;dbl&gt;, `Lp5-C` &lt;dbl&gt;, `Lp6-C` &lt;dbl&gt;, `Lp7-C` &lt;dbl&gt;,
#   `Lp8-C` &lt;dbl&gt;, `Lp9-C` &lt;dbl&gt;, `Lp10-C` &lt;dbl&gt;, `Lp11-C` &lt;dbl&gt;,
#   `Ac2-C` &lt;dbl&gt;, `Pm1-C` &lt;dbl&gt;, `Pm2-C` &lt;dbl&gt;, `Pm3-C` &lt;dbl&gt;, `Gc2-C` &lt;dbl&gt;,
#   `Cz5-C` &lt;dbl&gt;, `Cz6-C` &lt;dbl&gt;, `Ar2-C` &lt;dbl&gt;, `Ar3-C` &lt;dbl&gt;, `Ar4-C` &lt;dbl&gt;,
#   `Ar5-C` &lt;dbl&gt;, `Cz7-C` &lt;dbl&gt;, `Pm4-C` &lt;dbl&gt;, `Lp12-C` &lt;dbl&gt;, …</code></pre>
</div>
</div>
<section id="transposición" class="level3" data-number="3.7.1">
<h3 data-number="3.7.1" class="anchored" data-anchor-id="transposición"><span class="header-section-number">3.7.1</span> Transposición</h3>
<p>En estos datos las presas están en los renglones, y los individuos de los depredadores en las columnas. Aunque esta disposición no tiene fundamentalmente nada de malo, normalmente las instancias (observaciones individuales/réplicas) están en los renglones, y las variables (presas) en las columnas. Es necesario entonces <strong>tranponer</strong> los datos. Esto lo podemos hacer de manera sencilla con la función <code>t()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">t</span>(datos3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1]              [,2]          [,3]           [,4]       
Prey  "Alpheus_lottini" "Alpheus_spp" "Alpheus_umbo" "Amphipods"
Cu1-C "0"               "0"           "0"            "0"        
Cu2-C "0"               "4"           "0"            "0"        
Cu3-C "0"               "0"           "0"            "0"        
Cz1-C " 0"              " 0"          " 0"           " 6"       
Ar1-C "0"               "0"           "0"            "0"        
      [,5]                [,6]               [,7]                   
Prey  "Apogon_retrosella" "Appendicularians" "Axoclinus_nigricaudis"
Cu1-C "0"                 "0"                "0"                    
Cu2-C "0"                 "0"                "0"                    
Cu3-C "0"                 "0"                "0"                    
Cz1-C " 0"                " 0"               " 0"                   
Ar1-C "0"                 "0"                "0"                    
      [,8]                   [,9]           [,10]                            
Prey  "Bittium_cerralvoense" "Chaetognaths" "Cirripedia_Chthamalus_anisopoma"
Cu1-C "0"                    "0"            "0"                              
Cu2-C "0"                    "0"            "0"                              
Cu3-C "0"                    "0"            "0"                              
Cz1-C " 0"                   " 0"           " 0"                             
Ar1-C "0"                    "0"            "0"                              
      [,11]                           [,12]                               
Prey  "Cladocerans_Penila_avirostris" "Cladocerans_Pseudovadne_tergestina"
Cu1-C "0"                             "0"                                 
Cu2-C "0"                             "0"                                 
Cu3-C "0"                             "0"                                 
Cz1-C " 0"                            " 0"                                
Ar1-C "0"                             "0"                                 
      [,13]                     [,14]                        [,15]            
Prey  "Copepods_Acartia_clausi" "Copepods_Calanus_pacificus" "Epitonium_canna"
Cu1-C "9"                       "0"                          "0"              
Cu2-C "0"                       "0"                          "0"              
Cu3-C "0"                       "0"                          "0"              
Cz1-C " 8"                      " 0"                         " 0"             
Ar1-C "0"                       "0"                          "0"              
      [,16]       [,17]          [,18]                     [,19]     
Prey  "Fish_eggs" "foraminifera" "Gnathophyllum_panamense" "Hidrozoa"
Cu1-C "0"         "0"            "0"                       "0"       
Cu2-C "0"         "0"            "2"                       "0"       
Cu3-C "0"         "0"            "0"                       "0"       
Cz1-C "13"        " 0"           " 0"                      " 0"      
Ar1-C "0"         "0"            "0"                       "0"       
      [,20]            [,21]                         [,22]                    
Prey  "Ichtyoplankton" "Larvae_crustaceans_megalopa" "larvae_crustaceans_zoea"
Cu1-C "6"              "0"                           "0"                      
Cu2-C "0"              "0"                           "0"                      
Cu3-C "0"              "0"                           "0"                      
Cz1-C " 0"             " 0"                          " 0"                     
Ar1-C "0"              "0"                           "0"                      
      [,23]                [,24]                 [,25]   [,26]               
Prey  "Liomera_cinctimana" "Litiopa_melanostoma" "Mysid" "Mytella_arciformis"
Cu1-C "0"                  "0"                   "0"     "0"                 
Cu2-C "0"                  "0"                   "0"     "0"                 
Cu3-C "0"                  "0"                   "0"     "0"                 
Cz1-C " 0"                 " 0"                  " 0"    " 0"                
Ar1-C "0"                  "0"                   "0"     "0"                 
      [,27]                 [,28]                 [,29]                
Prey  "Mytella_tumbezensis" "Nanocassiope_polita" "Nyctiphanes_simplex"
Cu1-C "0"                   "0"                   "0"                  
Cu2-C "0"                   "0"                   "0"                  
Cu3-C "0"                   "0"                   "0"                  
Cz1-C " 0"                  " 0"                  " 0"                 
Ar1-C "0"                   "0"                   "0"                  
      [,30]       [,31]      [,32]             [,33]               
Prey  "Ostracods" "Otoliths" "Palaemon_ritter" "Panopeus_purpureus"
Cu1-C "0"         "0"        "0"               "0"                 
Cu2-C "0"         "0"        "0"               "0"                 
Cu3-C "0"         "0"        "2"               "0"                 
Cz1-C " 0"        " 0"       " 0"              " 0"                
Ar1-C "0"         "0"        "0"               "0"                 
      [,34]                      [,35]              [,36]           
Prey  "Parviturbo_acuticostatus" "Parviturbo_erici" "Parviturbo_spp"
Cu1-C "0"                        "0"                "0"             
Cu2-C "0"                        "0"                "0"             
Cu3-C "0"                        "0"                "0"             
Cz1-C " 0"                       " 0"               " 0"            
Ar1-C "0"                        "0"                "0"             
      [,37]       [,38]              [,39]                   [,40]            
Prey  "Pteropods" "Quadrella_nitida" "Tagelus_californianus" "Tegula_globulus"
Cu1-C "0"         "0"                "0"                     "0"              
Cu2-C "0"         "0"                "0"                     "0"              
Cu3-C "0"         "0"                "0"                     "0"              
Cz1-C " 0"        " 0"               " 0"                    " 0"             
Ar1-C "0"         "0"                "0"                     "0"              
      [,41]            [,42]           [,43]                [,44]             
Prey  "Tegula_mariana" "Tellina_coani" "Trapezia_bidentata" "Trapezia_formosa"
Cu1-C "0"              "0"             "0"                  "0"               
Cu2-C "0"              "0"             "0"                  "0"               
Cu3-C "0"              "0"             "0"                  "0"               
Cz1-C " 0"             " 0"            " 0"                 " 0"              
Ar1-C "2"              "0"             "0"                  "0"               
      [,45]          [,46]              [,47]          [,48]     
Prey  "Trapezia_spp" "Ulva_dactylifera" "Ulva_lactuca" "Ulva_spp"
Cu1-C "0"            "0"                "0"            "0"       
Cu2-C "0"            "0"                "0"            "0"       
Cu3-C "0"            "0"                "0"            "0"       
Cz1-C " 0"           " 0"               " 0"           " 0"      
Ar1-C "0"            "0"                "0"            "0"       
      [,49]                                
Prey  "UOM (Unidentified Organic Material)"
Cu1-C "0"                                  
Cu2-C "0"                                  
Cu3-C "0"                                  
Cz1-C " 0"                                 
Ar1-C "0"                                  </code></pre>
</div>
</div>
<p>Esto logró nuestro objetivo, aunque con un pequeño gran problema: toda la información es texto. ¿Por qué? Resulta que las columnas solo pueden contener datos de un solo tipo, por lo que al tener el texto de las especies presa todas las columnas son transformadas a cadenas de caracter. ¿Qué podemos hacer? Transponer los datos en tres pasos.</p>
</section>
<section id="rebanadas-slices" class="level3" data-number="3.7.2">
<h3 data-number="3.7.2" class="anchored" data-anchor-id="rebanadas-slices"><span class="header-section-number">3.7.2</span> “Rebanadas” (slices)</h3>
<p>El primer paso es separar los nombres de las presas de los datos de los depredadores:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>prey <span class="ot">&lt;-</span> datos3<span class="sc">$</span>Prey</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(prey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Alpheus_lottini"   "Alpheus_spp"       "Alpheus_umbo"     
[4] "Amphipods"         "Apogon_retrosella" "Appendicularians" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>counts <span class="ot">&lt;-</span> datos3[,<span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(datos3)]</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 255
  `Cu1-C` `Cu2-C` `Cu3-C` `Cz1-C` `Ar1-C` `Ps1-C` `Cz2-C` `Cz3-C` `Ac1-C`
    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1       0       0       0       0       0       0       0       0       0
2       0       4       0       0       0       0       0       0       0
3       0       0       0       0       0       0       0       0       0
4       0       0       0       6       0       0       0       0       0
5       0       0       0       0       0       0       0       0       0
6       0       0       0       0       0       0       0       0       0
# … with 246 more variables: `Cu4-C` &lt;dbl&gt;, `Cu5-C` &lt;dbl&gt;, `Lp1-C` &lt;dbl&gt;,
#   `Gc1-C` &lt;dbl&gt;, `Cz4-C` &lt;dbl&gt;, `Cu6-C` &lt;dbl&gt;, `Cu7-C` &lt;dbl&gt;, `Lp2-C` &lt;dbl&gt;,
#   `Lp3-C` &lt;dbl&gt;, `Lp4-C` &lt;dbl&gt;, `Lp5-C` &lt;dbl&gt;, `Lp6-C` &lt;dbl&gt;, `Lp7-C` &lt;dbl&gt;,
#   `Lp8-C` &lt;dbl&gt;, `Lp9-C` &lt;dbl&gt;, `Lp10-C` &lt;dbl&gt;, `Lp11-C` &lt;dbl&gt;,
#   `Ac2-C` &lt;dbl&gt;, `Pm1-C` &lt;dbl&gt;, `Pm2-C` &lt;dbl&gt;, `Pm3-C` &lt;dbl&gt;, `Gc2-C` &lt;dbl&gt;,
#   `Cz5-C` &lt;dbl&gt;, `Cz6-C` &lt;dbl&gt;, `Ar2-C` &lt;dbl&gt;, `Ar3-C` &lt;dbl&gt;, `Ar4-C` &lt;dbl&gt;,
#   `Ar5-C` &lt;dbl&gt;, `Cz7-C` &lt;dbl&gt;, `Pm4-C` &lt;dbl&gt;, `Lp12-C` &lt;dbl&gt;, …</code></pre>
</div>
</div>
<p>Transponer la matriz de conteos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>countst <span class="ot">&lt;-</span> <span class="fu">t</span>(counts)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(countst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
Cu1-C    0    0    0    0    0    0    0    0    0     0     0     0     9
Cu2-C    0    4    0    0    0    0    0    0    0     0     0     0     0
Cu3-C    0    0    0    0    0    0    0    0    0     0     0     0     0
Cz1-C    0    0    0    6    0    0    0    0    0     0     0     0     8
Ar1-C    0    0    0    0    0    0    0    0    0     0     0     0     0
Ps1-C    0    0    0    0    0    0    0    0    0     0     0     0     0
      [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25]
Cu1-C     0     0     0     0     0     0     6     0     0     0     0     0
Cu2-C     0     0     0     0     2     0     0     0     0     0     0     0
Cu3-C     0     0     0     0     0     0     0     0     0     0     0     0
Cz1-C     0     0    13     0     0     0     0     0     0     0     0     0
Ar1-C     0     0     0     0     0     0     0     0     0     0     0     0
Ps1-C     0     0     0     0     0     0     0     0     0     0     0     0
      [,26] [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35] [,36] [,37]
Cu1-C     0     0     0     0     0     0     0     0     0     0     0     0
Cu2-C     0     0     0     0     0     0     0     0     0     0     0     0
Cu3-C     0     0     0     0     0     0     2     0     0     0     0     0
Cz1-C     0     0     0     0     0     0     0     0     0     0     0     0
Ar1-C     0     0     0     0     0     0     0     0     0     0     0     0
Ps1-C     0     0     0    15     0     0     0     0     0     0     0     0
      [,38] [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46] [,47] [,48] [,49]
Cu1-C     0     0     0     0     0     0     0     0     0     0     0     0
Cu2-C     0     0     0     0     0     0     0     0     0     0     0     0
Cu3-C     0     0     0     0     0     0     0     0     0     0     0     0
Cz1-C     0     0     0     0     0     0     0     0     0     0     0     0
Ar1-C     0     0     0     2     0     0     0     0     0     0     0     0
Ps1-C     0     0     0     0     0     0     0     0     0     0     0     0</code></pre>
</div>
</div>
</section>
<section id="cambiar-nombres-de-columnas" class="level3" data-number="3.7.3">
<h3 data-number="3.7.3" class="anchored" data-anchor-id="cambiar-nombres-de-columnas"><span class="header-section-number">3.7.3</span> Cambiar nombres de columnas</h3>
<p>Para acceder o asignar los nombres de las columnas o renglones de arreglos bidimensionales podemos utilizar los <strong>atributos</strong> <code>colnames(data)</code> y <code>rownames(data)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(countst) <span class="ot">&lt;-</span> prey</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(countst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Alpheus_lottini Alpheus_spp Alpheus_umbo Amphipods Apogon_retrosella
Cu1-C               0           0            0         0                 0
Cu2-C               0           4            0         0                 0
Cu3-C               0           0            0         0                 0
Cz1-C               0           0            0         6                 0
Ar1-C               0           0            0         0                 0
Ps1-C               0           0            0         0                 0
      Appendicularians Axoclinus_nigricaudis Bittium_cerralvoense Chaetognaths
Cu1-C                0                     0                    0            0
Cu2-C                0                     0                    0            0
Cu3-C                0                     0                    0            0
Cz1-C                0                     0                    0            0
Ar1-C                0                     0                    0            0
Ps1-C                0                     0                    0            0
      Cirripedia_Chthamalus_anisopoma Cladocerans_Penila_avirostris
Cu1-C                               0                             0
Cu2-C                               0                             0
Cu3-C                               0                             0
Cz1-C                               0                             0
Ar1-C                               0                             0
Ps1-C                               0                             0
      Cladocerans_Pseudovadne_tergestina Copepods_Acartia_clausi
Cu1-C                                  0                       9
Cu2-C                                  0                       0
Cu3-C                                  0                       0
Cz1-C                                  0                       8
Ar1-C                                  0                       0
Ps1-C                                  0                       0
      Copepods_Calanus_pacificus Epitonium_canna Fish_eggs foraminifera
Cu1-C                          0               0         0            0
Cu2-C                          0               0         0            0
Cu3-C                          0               0         0            0
Cz1-C                          0               0        13            0
Ar1-C                          0               0         0            0
Ps1-C                          0               0         0            0
      Gnathophyllum_panamense Hidrozoa Ichtyoplankton
Cu1-C                       0        0              6
Cu2-C                       2        0              0
Cu3-C                       0        0              0
Cz1-C                       0        0              0
Ar1-C                       0        0              0
Ps1-C                       0        0              0
      Larvae_crustaceans_megalopa larvae_crustaceans_zoea Liomera_cinctimana
Cu1-C                           0                       0                  0
Cu2-C                           0                       0                  0
Cu3-C                           0                       0                  0
Cz1-C                           0                       0                  0
Ar1-C                           0                       0                  0
Ps1-C                           0                       0                  0
      Litiopa_melanostoma Mysid Mytella_arciformis Mytella_tumbezensis
Cu1-C                   0     0                  0                   0
Cu2-C                   0     0                  0                   0
Cu3-C                   0     0                  0                   0
Cz1-C                   0     0                  0                   0
Ar1-C                   0     0                  0                   0
Ps1-C                   0     0                  0                   0
      Nanocassiope_polita Nyctiphanes_simplex Ostracods Otoliths
Cu1-C                   0                   0         0        0
Cu2-C                   0                   0         0        0
Cu3-C                   0                   0         0        0
Cz1-C                   0                   0         0        0
Ar1-C                   0                   0         0        0
Ps1-C                   0                  15         0        0
      Palaemon_ritter Panopeus_purpureus Parviturbo_acuticostatus
Cu1-C               0                  0                        0
Cu2-C               0                  0                        0
Cu3-C               2                  0                        0
Cz1-C               0                  0                        0
Ar1-C               0                  0                        0
Ps1-C               0                  0                        0
      Parviturbo_erici Parviturbo_spp Pteropods Quadrella_nitida
Cu1-C                0              0         0                0
Cu2-C                0              0         0                0
Cu3-C                0              0         0                0
Cz1-C                0              0         0                0
Ar1-C                0              0         0                0
Ps1-C                0              0         0                0
      Tagelus_californianus Tegula_globulus Tegula_mariana Tellina_coani
Cu1-C                     0               0              0             0
Cu2-C                     0               0              0             0
Cu3-C                     0               0              0             0
Cz1-C                     0               0              0             0
Ar1-C                     0               0              2             0
Ps1-C                     0               0              0             0
      Trapezia_bidentata Trapezia_formosa Trapezia_spp Ulva_dactylifera
Cu1-C                  0                0            0                0
Cu2-C                  0                0            0                0
Cu3-C                  0                0            0                0
Cz1-C                  0                0            0                0
Ar1-C                  0                0            0                0
Ps1-C                  0                0            0                0
      Ulva_lactuca Ulva_spp UOM (Unidentified Organic Material)
Cu1-C            0        0                                   0
Cu2-C            0        0                                   0
Cu3-C            0        0                                   0
Cz1-C            0        0                                   0
Ar1-C            0        0                                   0
Ps1-C            0        0                                   0</code></pre>
</div>
</div>
</section>
<section id="transformaciones" class="level3" data-number="3.7.4">
<h3 data-number="3.7.4" class="anchored" data-anchor-id="transformaciones"><span class="header-section-number">3.7.4</span> Transformaciones</h3>
<p>El resultado de las operaciones anteriores es una matriz; sin embargo, podemos pasarlo a un data.frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>countst <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(countst)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(countst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Alpheus_lottini Alpheus_spp Alpheus_umbo Amphipods Apogon_retrosella
Cu1-C               0           0            0         0                 0
Cu2-C               0           4            0         0                 0
Cu3-C               0           0            0         0                 0
Cz1-C               0           0            0         6                 0
Ar1-C               0           0            0         0                 0
Ps1-C               0           0            0         0                 0
      Appendicularians Axoclinus_nigricaudis Bittium_cerralvoense Chaetognaths
Cu1-C                0                     0                    0            0
Cu2-C                0                     0                    0            0
Cu3-C                0                     0                    0            0
Cz1-C                0                     0                    0            0
Ar1-C                0                     0                    0            0
Ps1-C                0                     0                    0            0
      Cirripedia_Chthamalus_anisopoma Cladocerans_Penila_avirostris
Cu1-C                               0                             0
Cu2-C                               0                             0
Cu3-C                               0                             0
Cz1-C                               0                             0
Ar1-C                               0                             0
Ps1-C                               0                             0
      Cladocerans_Pseudovadne_tergestina Copepods_Acartia_clausi
Cu1-C                                  0                       9
Cu2-C                                  0                       0
Cu3-C                                  0                       0
Cz1-C                                  0                       8
Ar1-C                                  0                       0
Ps1-C                                  0                       0
      Copepods_Calanus_pacificus Epitonium_canna Fish_eggs foraminifera
Cu1-C                          0               0         0            0
Cu2-C                          0               0         0            0
Cu3-C                          0               0         0            0
Cz1-C                          0               0        13            0
Ar1-C                          0               0         0            0
Ps1-C                          0               0         0            0
      Gnathophyllum_panamense Hidrozoa Ichtyoplankton
Cu1-C                       0        0              6
Cu2-C                       2        0              0
Cu3-C                       0        0              0
Cz1-C                       0        0              0
Ar1-C                       0        0              0
Ps1-C                       0        0              0
      Larvae_crustaceans_megalopa larvae_crustaceans_zoea Liomera_cinctimana
Cu1-C                           0                       0                  0
Cu2-C                           0                       0                  0
Cu3-C                           0                       0                  0
Cz1-C                           0                       0                  0
Ar1-C                           0                       0                  0
Ps1-C                           0                       0                  0
      Litiopa_melanostoma Mysid Mytella_arciformis Mytella_tumbezensis
Cu1-C                   0     0                  0                   0
Cu2-C                   0     0                  0                   0
Cu3-C                   0     0                  0                   0
Cz1-C                   0     0                  0                   0
Ar1-C                   0     0                  0                   0
Ps1-C                   0     0                  0                   0
      Nanocassiope_polita Nyctiphanes_simplex Ostracods Otoliths
Cu1-C                   0                   0         0        0
Cu2-C                   0                   0         0        0
Cu3-C                   0                   0         0        0
Cz1-C                   0                   0         0        0
Ar1-C                   0                   0         0        0
Ps1-C                   0                  15         0        0
      Palaemon_ritter Panopeus_purpureus Parviturbo_acuticostatus
Cu1-C               0                  0                        0
Cu2-C               0                  0                        0
Cu3-C               2                  0                        0
Cz1-C               0                  0                        0
Ar1-C               0                  0                        0
Ps1-C               0                  0                        0
      Parviturbo_erici Parviturbo_spp Pteropods Quadrella_nitida
Cu1-C                0              0         0                0
Cu2-C                0              0         0                0
Cu3-C                0              0         0                0
Cz1-C                0              0         0                0
Ar1-C                0              0         0                0
Ps1-C                0              0         0                0
      Tagelus_californianus Tegula_globulus Tegula_mariana Tellina_coani
Cu1-C                     0               0              0             0
Cu2-C                     0               0              0             0
Cu3-C                     0               0              0             0
Cz1-C                     0               0              0             0
Ar1-C                     0               0              2             0
Ps1-C                     0               0              0             0
      Trapezia_bidentata Trapezia_formosa Trapezia_spp Ulva_dactylifera
Cu1-C                  0                0            0                0
Cu2-C                  0                0            0                0
Cu3-C                  0                0            0                0
Cz1-C                  0                0            0                0
Ar1-C                  0                0            0                0
Ps1-C                  0                0            0                0
      Ulva_lactuca Ulva_spp UOM (Unidentified Organic Material)
Cu1-C            0        0                                   0
Cu2-C            0        0                                   0
Cu3-C            0        0                                   0
Cz1-C            0        0                                   0
Ar1-C            0        0                                   0
Ps1-C            0        0                                   0</code></pre>
</div>
</div>
</section>
<section id="añadir-vectores-como-columnas" class="level3" data-number="3.7.5">
<h3 data-number="3.7.5" class="anchored" data-anchor-id="añadir-vectores-como-columnas"><span class="header-section-number">3.7.5</span> Añadir vectores como columnas</h3>
<p>Ahora tenemos un data.frame; sin embargo, tenemos las claves como nombres de los renglones y, según qué querramos realizar, podemos necesitar que estas formen su propia columna. Una forma de hacerlo es: 1) extraer los nombres de los renglones y 2) añadirlos como una columna adicional:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>keys <span class="ot">&lt;-</span> <span class="fu">rownames</span>(countst)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>countst <span class="ot">&lt;-</span> <span class="fu">cbind</span>(keys, countst)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(countst)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       keys Alpheus_lottini Alpheus_spp Alpheus_umbo Amphipods
Cu1-C Cu1-C               0           0            0         0
Cu2-C Cu2-C               0           4            0         0
Cu3-C Cu3-C               0           0            0         0
Cz1-C Cz1-C               0           0            0         6
Ar1-C Ar1-C               0           0            0         0
Ps1-C Ps1-C               0           0            0         0
      Apogon_retrosella Appendicularians Axoclinus_nigricaudis
Cu1-C                 0                0                     0
Cu2-C                 0                0                     0
Cu3-C                 0                0                     0
Cz1-C                 0                0                     0
Ar1-C                 0                0                     0
Ps1-C                 0                0                     0
      Bittium_cerralvoense Chaetognaths Cirripedia_Chthamalus_anisopoma
Cu1-C                    0            0                               0
Cu2-C                    0            0                               0
Cu3-C                    0            0                               0
Cz1-C                    0            0                               0
Ar1-C                    0            0                               0
Ps1-C                    0            0                               0
      Cladocerans_Penila_avirostris Cladocerans_Pseudovadne_tergestina
Cu1-C                             0                                  0
Cu2-C                             0                                  0
Cu3-C                             0                                  0
Cz1-C                             0                                  0
Ar1-C                             0                                  0
Ps1-C                             0                                  0
      Copepods_Acartia_clausi Copepods_Calanus_pacificus Epitonium_canna
Cu1-C                       9                          0               0
Cu2-C                       0                          0               0
Cu3-C                       0                          0               0
Cz1-C                       8                          0               0
Ar1-C                       0                          0               0
Ps1-C                       0                          0               0
      Fish_eggs foraminifera Gnathophyllum_panamense Hidrozoa Ichtyoplankton
Cu1-C         0            0                       0        0              6
Cu2-C         0            0                       2        0              0
Cu3-C         0            0                       0        0              0
Cz1-C        13            0                       0        0              0
Ar1-C         0            0                       0        0              0
Ps1-C         0            0                       0        0              0
      Larvae_crustaceans_megalopa larvae_crustaceans_zoea Liomera_cinctimana
Cu1-C                           0                       0                  0
Cu2-C                           0                       0                  0
Cu3-C                           0                       0                  0
Cz1-C                           0                       0                  0
Ar1-C                           0                       0                  0
Ps1-C                           0                       0                  0
      Litiopa_melanostoma Mysid Mytella_arciformis Mytella_tumbezensis
Cu1-C                   0     0                  0                   0
Cu2-C                   0     0                  0                   0
Cu3-C                   0     0                  0                   0
Cz1-C                   0     0                  0                   0
Ar1-C                   0     0                  0                   0
Ps1-C                   0     0                  0                   0
      Nanocassiope_polita Nyctiphanes_simplex Ostracods Otoliths
Cu1-C                   0                   0         0        0
Cu2-C                   0                   0         0        0
Cu3-C                   0                   0         0        0
Cz1-C                   0                   0         0        0
Ar1-C                   0                   0         0        0
Ps1-C                   0                  15         0        0
      Palaemon_ritter Panopeus_purpureus Parviturbo_acuticostatus
Cu1-C               0                  0                        0
Cu2-C               0                  0                        0
Cu3-C               2                  0                        0
Cz1-C               0                  0                        0
Ar1-C               0                  0                        0
Ps1-C               0                  0                        0
      Parviturbo_erici Parviturbo_spp Pteropods Quadrella_nitida
Cu1-C                0              0         0                0
Cu2-C                0              0         0                0
Cu3-C                0              0         0                0
Cz1-C                0              0         0                0
Ar1-C                0              0         0                0
Ps1-C                0              0         0                0
      Tagelus_californianus Tegula_globulus Tegula_mariana Tellina_coani
Cu1-C                     0               0              0             0
Cu2-C                     0               0              0             0
Cu3-C                     0               0              0             0
Cz1-C                     0               0              0             0
Ar1-C                     0               0              2             0
Ps1-C                     0               0              0             0
      Trapezia_bidentata Trapezia_formosa Trapezia_spp Ulva_dactylifera
Cu1-C                  0                0            0                0
Cu2-C                  0                0            0                0
Cu3-C                  0                0            0                0
Cz1-C                  0                0            0                0
Ar1-C                  0                0            0                0
Ps1-C                  0                0            0                0
      Ulva_lactuca Ulva_spp UOM (Unidentified Organic Material)
Cu1-C            0        0                                   0
Cu2-C            0        0                                   0
Cu3-C            0        0                                   0
Cz1-C            0        0                                   0
Ar1-C            0        0                                   0
Ps1-C            0        0                                   0</code></pre>
</div>
</div>
</section>
</section>
<section id="operadores-lógicos" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="operadores-lógicos"><span class="header-section-number">3.8</span> Operadores lógicos</h2>
<p>Los operadores lógicos nos sirven para hacer comparaciones y obtener un resultado booleano (T o F). Los más comunes son: 1. cond1<strong>|</strong>cond2: Condicional “O”. T si se cumple <strong>alguna</strong> de las dos condiciones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> 5L</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(c)<span class="sc">|</span><span class="fu">is.double</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>cond1<strong>&amp;</strong>cond2: Condicional “Y”. T si se cumplen ambas condiciones</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.integer</span>(c)<span class="sc">&amp;</span>(c<span class="sc">&gt;</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><strong>&lt;, &gt;</strong>: Comparaciones, menor qué o mayor qué</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(c<span class="sc">&lt;</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(c<span class="sc">&gt;</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<ol start="4" type="1">
<li><strong>&lt;=, &gt;=</strong>: Comparaciones, menor o igual qué; mayor o igual qué.</li>
<li><strong>a!=b</strong>: Desigualdad, T si a es diferente de b</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>c<span class="sc">!=</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
</section>
<section id="automatización" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="automatización"><span class="header-section-number">3.9</span> Automatización</h2>
<p>El primer paso de la automatización es generar funciones que te permitan realizar la misma acción múltiples veces y no cometer algún error en dichas repeticiones. Esta práctica se deriva de una de las máximas más importantes en programación: <em>“Don’t repeat yourself”</em> (DRY, no te repitas a ti mismo); es decir, dejar que la computadora haga las repeticiones por sí mismas. En la práctica, esto implica no estar copiando y pegando el mismo bloque de código una y otra vez y luego modificarlo manualmente, sino que escribirlo solo una vez y luego decirle a la computadora que repita esa acción <em>n</em> veces, modificando algún(os) argumento(s), o que cambie el comportamiento en función de si se cumple o no una condición en nuestros datos. En ese caso, las <strong>estructuras de control</strong> son nuestras mejores aliadas.</p>
<section id="ciclos-for" class="level3" data-number="3.9.1">
<h3 data-number="3.9.1" class="anchored" data-anchor-id="ciclos-for"><span class="header-section-number">3.9.1</span> Ciclos <code>for</code></h3>
<p>Hay distintas formas de realizar la repetición de acciones, pero hoy introduciremos únicamente los ciclos <code>for</code> por ser los más probables a ser requeridos. Un ciclo <code>for</code> consta de cuatro elementos:</p>
<p><code>for (variable in vector) {action}</code></p>
<ol type="1">
<li>La estructura de control <code>for</code>, evidentemente</li>
<li>Una <code>variable</code> que hace las veces de un marcador de posición; es decir, la utilizaremos para indicar en dónde se van a sustituir los valores que queremos ciclar</li>
<li>Los valores que ciclaremos, contenidos en un <code>vector</code></li>
<li>La acción a realizar</li>
</ol>
<p>Como muchas otras cosas, es más fácil entenderlo utilizando algunos ejemplos. El primero de ellos es simplemente imprimir la secuencia de números del 1 al 10. Aunque podemos escribir 10 veces la función print e ir cambiando el número, es mucho más sencillo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10</code></pre>
</div>
</div>
<p>¿Qué fue lo que hizo la computadora? Utilizó la función print() para mostrarnos el contenido de i, el cuál es el iésimo elemento de la secuencia 1:10. En otras palabras, si es la segunda vuelta que da, imprimirá el número 2, si es la séptima imprimirá 7, y así hasta que termine con todos los elementos en la secuencia. Ahora, sumemos 2 a cada número de la secuencia:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) {</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(i<span class="sc">+</span><span class="dv">2</span>)</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3
[1] 4
[1] 5
[1] 6
[1] 7
[1] 8
[1] 9
[1] 10
[1] 11
[1] 12</code></pre>
</div>
</div>
<p>Al igual que en el caso anterior, tomó uno por uno los valores (de forma secuencial), le añadió 2 y luego mostró el resultado en pantalla. Este tipo de estructuras son sumamente útiles, pues no solo nos ahorran errores, sino también tiempo de ejecución. Sobra decir que no es la única manera de hacer este tipo de ciclos, ni tampoco es la más rápida. Tenemos algo que se conocen como funciones <strong>vectorizadas</strong>.</p>
</section>
<section id="familia-de-funciones-apply" class="level3" data-number="3.9.2">
<h3 data-number="3.9.2" class="anchored" data-anchor-id="familia-de-funciones-apply"><span class="header-section-number">3.9.2</span> Familia de funciones <code>apply()</code></h3>
<p>Podemos entender la vectorización como la aplicación de una función a cada elemento de un vector (igual que el ciclo for), aunque procesando todo el vector “al mismo tiempo”. Esta última parte no es estrictamente verdad, aunque lo cierto es que son más rápidas que los ciclos for tradicionales. En <code>R</code> tenemos toda una gama de funciones que hacen justo eso, la familia <code>apply</code> y sus relacionadas, compuesta por las funciones:</p>
<ul>
<li><code>apply</code></li>
<li><code>lapply</code></li>
<li><code>sapply</code></li>
<li><code>tapply</code></li>
<li><code>mapply</code></li>
<li><code>by</code></li>
<li><code>aggregate</code></li>
</ul>
<p>Todas estas funciones manipulan porciones de datos como matrices, arreglos, listas o data frames de forma repetitiva. Básicamente nos permiten evitar el uso explícito de un ciclo <code>for</code>. Toman como argumento una lista, matriz o data frame y le aplican una función con uno o más argumentos adicionales. Esta función puede ser:</p>
<ul>
<li>Una función de agregación, por ejemplo la media o la suma</li>
<li>Funciones de transformaciones o para extraer sub-conjuntos</li>
<li>Otras funciones vectorizadas, que dan como resultado estructuras más complejas como listas, vectores, matrices o arreglos. Pero basta de cháchara, ¿cómo y cuándo debemos de utilizarlas? La respuesta depende totalmente de la estructura de los datos y el formato de salida que se necesite. Veamos algunos casos de uso:</li>
</ul>
<section id="apply" class="level4" data-number="3.9.2.1">
<h4 data-number="3.9.2.1" class="anchored" data-anchor-id="apply"><span class="header-section-number">3.9.2.1</span> <code>apply()</code></h4>
<p>Esta es la función “madre” de las demás, la cual opera sobre arreglos. Para simplicidad, vamos a limitarnos a arreglos bi-dimensionales como las matrices o data.frames. La sintaxis para su uso es <code>apply(X, MARGIN, FUN, ...)</code>, donde <code>X</code> es el arreglo, <code>MARGIN</code> es el márgen sobre el cuál va a actuar la función; es decir, si queremos que la aplique a cada renglón (<code>MARGIN = 1</code>) o a cada columna (<code>MARGIN = 2</code>), y <code>FUN</code> es el nombre de la función a aplicar (puede ser cualquiera, incluso una función definida por nosotros).</p>
<p>Podemos pensar en obtener la suma o el promedio de cada columna de nuestro data.frame con las presas utilizando un ciclo, o podemos utilizar <code>apply</code>, tal que:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>sums <span class="ot">&lt;-</span> <span class="fu">apply</span>(datos2[,<span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(datos2)], <span class="dv">2</span>, sum)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>sums</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                    Alpheus_lottini                         Alpheus_spp 
                                  4                                  12 
                       Alpheus_umbo                           Amphipods 
                                  9                                  44 
                  Apogon_retrosella                    Appendicularians 
                                  5                                   5 
              Axoclinus_nigricaudis                Bittium_cerralvoense 
                                  2                                  35 
                       Chaetognaths     Cirripedia_Chthamalus_anisopoma 
                                 50                                   5 
      Cladocerans_Penila_avirostris  Cladocerans_Pseudovadne_tergestina 
                                 34                                 171 
            Copepods_Acartia_clausi          Copepods_Calanus_pacificus 
                                390                                  50 
                    Epitonium_canna                           Fish_eggs 
                                  3                                  96 
                       foraminifera             Gnathophyllum_panamense 
                                205                                  11 
                           Hidrozoa                      Ichtyoplankton 
                                  1                                 153 
        Larvae_crustaceans_megalopa             larvae_crustaceans_zoea 
                                 22                                  17 
                 Liomera_cinctimana                 Litiopa_melanostoma 
                                 13                                  13 
                              Mysid                  Mytella_arciformis 
                                  5                                   2 
                Mytella_tumbezensis                 Nanocassiope_polita 
                                  1                                   2 
                Nyctiphanes_simplex                           Ostracods 
                                549                                  76 
                           Otoliths                     Palaemon_ritter 
                                  2                                   2 
                 Panopeus_purpureus            Parviturbo_acuticostatus 
                                  4                                   1 
                   Parviturbo_erici                      Parviturbo_spp 
                                  3                                   2 
                          Pteropods                    Quadrella_nitida 
                                  8                                   1 
              Tagelus_californianus                     Tegula_globulus 
                                  2                                  22 
                     Tegula_mariana                       Tellina_coani 
                                 20                                   3 
                 Trapezia_bidentata                    Trapezia_formosa 
                                  2                                   6 
                       Trapezia_spp                    Ulva_dactylifera 
                                  4                                  35 
                       Ulva_lactuca                            Ulva_spp 
                                158                                  78 
UOM (Unidentified Organic Material) 
                                 20 </code></pre>
</div>
</div>
</section>
<section id="aggregate" class="level4" data-number="3.9.2.2">
<h4 data-number="3.9.2.2" class="anchored" data-anchor-id="aggregate"><span class="header-section-number">3.9.2.2</span> <code>aggregate()</code></h4>
<p>Otra función extremadamente útil es la función <code>aggregate()</code>. Esta función nos permite aplicar una función a distintos grupos. Un escenario clásico es obtener el promedio de una variable para cada grupo, por ejemplo el promedio de conteos de quetognatos. La forma “tradicional” es: <code>aggregate(x, by, FUN)</code>, donde <code>x</code> es el objeto R a agrupar, <code>by</code> es una lista con los grupos y <code>FUN</code> es la función a aplicar; sin embargo, podemos utilizar una notación más compacta utilizando una <code>formula</code>: <code>aggregate(forumla, data, FUN)</code>. Las fórmulas en R son objetos sumamente útiles y que se utilizan para una gran diversidad de cosas. Su estructura es: <code>Y ~ X</code>, y se lee “Y con respecto a X”. En nuestro caso particular:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(Chaetognaths<span class="sc">~</span>sp, <span class="at">data =</span> datos1, <span class="at">FUN =</span> mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   sp Chaetognaths
1  Ac    0.0000000
2  Ar    0.0000000
3  Cu    0.0000000
4  Cz    0.5500000
5  Er    0.1785714
6  Gc    0.0000000
7  Lp    0.0000000
8  Pm    0.2500000
9  Ps    1.1250000
10 Tp    1.1538462</code></pre>
</div>
</div>
</section>
</section>
<section id="condicionales" class="level3" data-number="3.9.3">
<h3 data-number="3.9.3" class="anchored" data-anchor-id="condicionales"><span class="header-section-number">3.9.3</span> Condicionales</h3>
<p>Ok, ahora conocemos una manera de aplicar una función a una serie de elementos, pero que pasa si queremos aplicarla de manera condicionada; es decir, si queremos solo imprimir los números mayores a 5, por ejemplo. Eso es justo de lo que se tratan los condicionales, particularmente <code>if</code>, <code>else</code>, e <code>ifelse</code>. La lógica detrás de ellos es sumanmente simple: si se cumple una condición, realiza una acción, si no se cumple, realiza otra (o no realices nada). Comencemos con <code>if</code>. Su estructura es: <code>if(condition){action T}</code>, que notarás es básicamente la descripción que dimos, solo que sin una acción en caso de que no se cumpla la condición. Un ejemplo sería proporcionar un número y que nos diga si es mayor a 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x<span class="sc">&gt;</span><span class="dv">5</span>) {<span class="fu">print</span>(<span class="st">"x es mayor a 5"</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x es mayor a 5"</code></pre>
</div>
</div>
<p>¿Y si no se cumple la condición? Veamos qué pasa:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x<span class="sc">&gt;</span><span class="dv">5</span>) {<span class="fu">print</span>(<span class="st">"x es mayor a 5"</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>R no nos da ninguna salida, pues no sabe qué hacer. Una forma de decirle es utilizando el complemento de if, <code>else</code>, que nos permite establecer una acción secundaria:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x<span class="sc">&gt;</span><span class="dv">5</span>) {<span class="fu">print</span>(<span class="st">"x es mayor a 5"</span>)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{<span class="fu">print</span>(<span class="st">"x no es mayor a 5"</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x no es mayor a 5"</code></pre>
</div>
</div>
<p>Una notación mucho más compacta para este tipo de casos es utilizar la función <code>ifelse(condition, action T, action F)</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(x <span class="sc">&gt;</span> <span class="dv">5</span>,</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">"x es mayor a 5"</span>,</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">"x no es mayor a 5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x no es mayor a 5"</code></pre>
</div>
</div>
<p>El resultado fue el mismo que el anterior, pero qué pasa si tenemos más de dos escenarios, que, por ejemplo, nos interesara decir si el número es mayor, menor o igual a 5. Veamos primero lo que sucede si establecemos que x sea 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(x <span class="sc">&gt;</span> <span class="dv">5</span>,</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>       <span class="st">"x es mayor a 5"</span>,</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>       <span class="st">"x no es mayor a 5"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x no es mayor a 5"</code></pre>
</div>
</div>
<p>La computadora no hizo nada mal, 5 no es mayor a 5. En otros lenguajes de programación añadiríamos una estructura llamada <code>elif</code>, pero en <code>R</code> solo hay que añadir otro(s) <code>if</code>. Mientras que <code>else</code> aplica para todos los casos donde la condición no se cumpla, estos <code>if</code> secundarios nos permiten establecer condiciones adicionales para cuando la condición principal no se cumpla. Volviendo a nuestro problema con x = 5:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x es mayor a 5"</span>)</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">==</span> <span class="dv">5</span>) {</span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"x es 5"</span>)</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a>}<span class="cf">else</span>{<span class="fu">print</span>(<span class="st">"x es menor a 5"</span>)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x es menor a 5"</code></pre>
</div>
</div>
<p>Ahora sí cubrimos todas nuestras bases para este problema de comparación. Como te imaginarás, el siguiente paso lógico es mezclar <code>for</code> e <code>if</code> o, mejor dicho, anidarlos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> x) {</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"x es mayor a 5"</span>)</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">==</span> <span class="dv">5</span>) {</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"x es 5"</span>)</span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{<span class="fu">print</span>(<span class="st">"x es menor a 5"</span>)}</span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x es menor a 5"
[1] "x es menor a 5"
[1] "x es menor a 5"
[1] "x es menor a 5"
[1] "x es 5"
[1] "x es mayor a 5"
[1] "x es menor a 5"
[1] "x es mayor a 5"
[1] "x es menor a 5"
[1] "x es mayor a 5"
[1] "x es menor a 5"
[1] "x es mayor a 5"
[1] "x es menor a 5"
[1] "x es mayor a 5"
[1] "x es menor a 5"</code></pre>
</div>
</div>
<p>Con esto también quiero decir que podemos anidar ciclos <code>for</code>, tal que:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">:</span><span class="dv">105</span></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> x) {</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> y) {</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">c</span>(i,j))</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   1 100
[1]   1 101
[1]   1 102
[1]   1 103
[1]   1 104
[1]   1 105
[1]   2 100
[1]   2 101
[1]   2 102
[1]   2 103
[1]   2 104
[1]   2 105
[1]   3 100
[1]   3 101
[1]   3 102
[1]   3 103
[1]   3 104
[1]   3 105
[1]   4 100
[1]   4 101
[1]   4 102
[1]   4 103
[1]   4 104
[1]   4 105
[1]   5 100
[1]   5 101
[1]   5 102
[1]   5 103
[1]   5 104
[1]   5 105</code></pre>
</div>
</div>
</section>
</section>
<section id="ejercicios" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="ejercicios"><span class="header-section-number">3.10</span> Ejercicios</h2>
<ol type="1">
<li>¿Qué es un objeto?</li>
<li>¿Cuál es la diferencia entre una variable y una función?</li>
<li>¿Qué es una librería? ¿Qué pasa si utilizas la función <code>ggplot()</code> sin haber cargado la librería <code>ggplot2</code>?</li>
<li>¿Cuál es la diferencia entre un dato y una estructura?</li>
<li>Carga los <code>datos1.csv</code> y añade un renglón adicional con los totales para cada columna.</li>
<li>Carga los <code>datos1.csv</code> y obten una tabla con los conteos promedio de cada presa para cada especie (aggregate/apply o ciclos).</li>
<li>Combina el ciclo <code>for</code> anidado del último ejemplo con un condicional, en el cuál se imprima si la suma de ambos números (i, j) es mayor, menor o igual a 105.</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./c02_intro_rs.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introducción a RStudio y Quarto</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./c04_ggplot2.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Principios de visualización de datos y <code>ggplot2</code></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>